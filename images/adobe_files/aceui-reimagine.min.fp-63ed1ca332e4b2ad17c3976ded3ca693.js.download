/*!
aceui-reimagine - v0.1.92 - 2019-05-02, 1:36:09 AM
ADOBE CONFIDENTIAL
==================
Copyright 2018 Adobe Systems Incorporated
All Rights Reserved.

NOTICE: All information contained herein is, and remains
the property of Adobe Systems Incorporated and its suppliers,
if any.  The intellectual and technical concepts contained
herein are proprietary to Adobe Systems Incorporated and its
suppliers and are protected by trade secret or copyright law.
Dissemination of this information or reproduction of this material
is strictly forbidden unless prior written permission is obtained
from Adobe Systems Incorporated.
==================
*/

/*!
 * jQuery JavaScript Library v2.0.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03T13:30Z
 */

/*!
 * Sizzle CSS Selector Engine v1.9.4-pre
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-06-03
 */

/*!
 * CanJS - 2.3.29
 * http://canjs.com/
 * Copyright (c) 2017 Bitovi
 * Tue, 21 Feb 2017 00:42:50 GMT
 * Licensed MIT
 */

/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */

/**
 * @license text 2.0.15 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/text/LICENSE
 */

/*! Video.js v4.9.1 Copyright 2014 Brightcove, Inc. https://github.com/videojs/video.js/blob/master/LICENSE */

/*!
 * Platform.js <https://mths.be/platform>
 * Copyright 2014-2018 Benjamin Tan <https://bnjmnt4n.now.sh/>
 * Copyright 2011-2013 John-David Dalton <http://allyoucanleet.com/>
 * Available under MIT license <https://mths.be/mit>
 */

!function(){var requirejs,require,define;!function(t){function e(t,e){return b.call(t,e)}function i(t,e){var i,n,o,r,s,a,c,u,l,d,h,p=e&&e.split("/"),f=g.map,m=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(p=p.slice(0,p.length-1),t=t.split("/"),s=t.length-1,g.nodeIdCompat&&y.test(t[s])&&(t[s]=t[s].replace(y,"")),t=p.concat(t),l=0;l<t.length;l+=1)if("."===(h=t[l]))t.splice(l,1),l-=1;else if(".."===h){if(1===l&&(".."===t[2]||".."===t[0]))break;l>0&&(t.splice(l-1,2),l-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((p||m)&&f){for(i=t.split("/"),l=i.length;l>0;l-=1){if(n=i.slice(0,l).join("/"),p)for(d=p.length;d>0;d-=1)if((o=f[p.slice(0,d).join("/")])&&(o=o[n])){r=o,a=l;break}if(r)break;!c&&m&&m[n]&&(c=m[n],u=l)}!r&&c&&(r=c,a=u),r&&(i.splice(0,a,r),t=i.join("/"))}return t}function n(e,i){return function(){return l.apply(t,v.call(arguments,0).concat([e,i]))}}function o(t){return function(e){return i(e,t)}}function r(t){return function(e){p[t]=e}}function s(i){if(e(f,i)){var n=f[i];delete f[i],m[i]=!0,u.apply(t,n)}if(!e(p,i)&&!e(m,i))throw new Error("No "+i);return p[i]}function a(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function c(t){return function(){return g&&g.config&&g.config[t]||{}}}var u,l,d,h,p={},f={},g={},m={},b=Object.prototype.hasOwnProperty,v=[].slice,y=/\.js$/;d=function(t,e){var n,r=a(t),c=r[0];return t=r[1],c&&(c=i(c,e),n=s(c)),c?t=n&&n.normalize?n.normalize(t,o(e)):i(t,e):(t=i(t,e),r=a(t),c=r[0],t=r[1],c&&(n=s(c))),{f:c?c+"!"+t:t,n:t,pr:c,p:n}},h={require:function(t){return n(t)},exports:function(t){var e=p[t];return void 0!==e?e:p[t]={}},module:function(t){return{id:t,uri:"",exports:p[t],config:c(t)}}},u=function(i,o,a,c){var u,l,g,b,v,y,w=[],k=typeof a;if(c=c||i,"undefined"===k||"function"===k){for(o=!o.length&&a.length?["require","exports","module"]:o,v=0;v<o.length;v+=1)if(b=d(o[v],c),"require"===(l=b.f))w[v]=h.require(i);else if("exports"===l)w[v]=h.exports(i),y=!0;else if("module"===l)u=w[v]=h.module(i);else if(e(p,l)||e(f,l)||e(m,l))w[v]=s(l);else{if(!b.p)throw new Error(i+" missing "+l);b.p.load(b.n,n(c,!0),r(l),{}),w[v]=p[l]}g=a?a.apply(p[i],w):void 0,i&&(u&&u.exports!==t&&u.exports!==p[i]?p[i]=u.exports:g===t&&y||(p[i]=g))}else i&&(p[i]=a)},requirejs=require=l=function(e,i,n,o,r){if("string"==typeof e)return h[e]?h[e](i):s(d(e,i).f);if(!e.splice){if(g=e,g.deps&&l(g.deps,g.callback),!i)return;i.splice?(e=i,i=n,n=null):e=t}return i=i||function(){},"function"==typeof n&&(n=o,o=r),o?u(t,e,i,n):setTimeout(function(){u(t,e,i,n)},4),l},l.config=function(t){return l(t)},requirejs._defined=p,define=function(t,i,n){i.splice||(n=i,i=[]),e(p,t)||e(f,t)||(f[t]=[t,i,n])},define.amd={jQuery:!0}}(),define("../../bower_components/almond/almond",function(){}),define("linseed",[],function(){"use strict";function t(t){return"[data-".concat(t.replace(/\W?([A-Z])/g,"-$1").replace(/\W/g,"-").toLowerCase(),"]")}function e(t,e,i,n){return e.isFunction(t)?t.hasOwnProperty("prototype")?new t(i,n):t(i):e.isPlainObject(t)?(e.extend(t,n),i.data(t)):e.isArray(t)?e.append.apply(i.data(n),t):i}function i(t,i,n,o){function r(t){var s,a;t.map(function(t){a=null!==t.toString().match(/(HTML)/g),s=a?t.querySelectorAll("["+i+"]"):void 0,a&&t.hasAttribute(i)&&e(n,o,t),a&&s.length&&r(Array.prototype.slice.call(s))})}var s,a,c,u,l;for(l=0;Boolean(u=t[l]);l++)s=u.addedNodes,a="[object Array]"!==s.toString()&&s.length,c="[object Nodelist]"!==s.toString()&&s.length,c?r(Array.prototype.slice.call(s)):a&&r(s)}return{load:function(n,o,r,s){s.isBuild?(o([n]),r()):o(["jquery",n],function(n,o){r(function(r){return{seed:function(){var t=n("string"!=typeof r?r:"[data-"+r+"]");if(t.length>0)return[e(o,n,t)]},seedEach:function(i){var s=[];return n(t(r)).each(function(t,r){s.push(e(o,n,n(r),i))}),s},seedOn:function(t,e){function r(t){return c.observe(t,{childList:!0,subtree:!0})}var s,a,c=null;if("undefined"!=typeof MutationObserver)if(c=new MutationObserver(function(t){i(t,e,o,n)}),t.toString().match(/(HTML)/g))r(t);else if("[object NodeList]"===t.toString()&&"[object Array]"===t.toString())for(a=0;Boolean(s=t[a]);a++)null!==s.toString().match(/(HTML)/g)&&r(s);return c}}})})}}}),function(t,e){function i(t){var e=t.length,i=ot.type(t);return!ot.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===i||"function"!==i&&(0===e||"number"==typeof e&&e>0&&e-1 in t)))}function n(t){var e=pt[t]={};return ot.each(t.match(st)||[],function(t,i){e[i]=!0}),e}function o(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=ot.expando+Math.random()}function r(t,i,n){var o;if(n===e&&1===t.nodeType)if(o="data-"+i.replace(bt,"-$1").toLowerCase(),"string"==typeof(n=t.getAttribute(o))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:mt.test(n)?JSON.parse(n):n)}catch(t){}ft.set(t,i,n)}else n=e;return n}function s(){return!0}function a(){return!1}function c(){try{return z.activeElement}catch(t){}}function u(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function l(t,e,i){if(ot.isFunction(e))return ot.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return ot.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(Pt.test(e))return ot.filter(e,t,i);e=ot.filter(e,t)}return ot.grep(t,function(t){return tt.call(e,t)>=0!==i})}function d(t,e){return ot.nodeName(t,"table")&&ot.nodeName(1===e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function h(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function p(t){var e=Rt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function f(t,e){for(var i=t.length,n=0;n<i;n++)gt.set(t[n],"globalEval",!e||gt.get(e[n],"globalEval"))}function g(t,e){var i,n,o,r,s,a,c,u;if(1===e.nodeType){if(gt.hasData(t)&&(r=gt.access(t),s=gt.set(e,r),u=r.events)){delete s.handle,s.events={};for(o in u)for(i=0,n=u[o].length;i<n;i++)ot.event.add(e,o,u[o][i])}ft.hasData(t)&&(a=ft.access(t),c=ot.extend({},a),ft.set(e,c))}}function m(t,i){var n=t.getElementsByTagName?t.getElementsByTagName(i||"*"):t.querySelectorAll?t.querySelectorAll(i||"*"):[];return i===e||i&&ot.nodeName(t,i)?ot.merge([t],n):n}function b(t,e){var i=e.nodeName.toLowerCase();"input"===i&&It.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function v(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),n=e,o=Kt.length;o--;)if((e=Kt[o]+i)in t)return e;return n}function y(t,e){return t=e||t,"none"===ot.css(t,"display")||!ot.contains(t.ownerDocument,t)}function w(e){return t.getComputedStyle(e,null)}function k(t,e){for(var i,n,o,r=[],s=0,a=t.length;s<a;s++)n=t[s],n.style&&(r[s]=gt.get(n,"olddisplay"),i=n.style.display,e?(r[s]||"none"!==i||(n.style.display=""),""===n.style.display&&y(n)&&(r[s]=gt.access(n,"olddisplay",T(n.nodeName)))):r[s]||(o=y(n),(i&&"none"!==i||!o)&&gt.set(n,"olddisplay",o?i:ot.css(n,"display"))));for(s=0;s<a;s++)n=t[s],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?r[s]||"":"none"));return t}function x(t,e,i){var n=qt.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function C(t,e,i,n,o){for(var r=i===(n?"border":"content")?4:"width"===e?1:0,s=0;r<4;r+=2)"margin"===i&&(s+=ot.css(t,i+Qt[r],!0,o)),n?("content"===i&&(s-=ot.css(t,"padding"+Qt[r],!0,o)),"margin"!==i&&(s-=ot.css(t,"border"+Qt[r]+"Width",!0,o))):(s+=ot.css(t,"padding"+Qt[r],!0,o),"padding"!==i&&(s+=ot.css(t,"border"+Qt[r]+"Width",!0,o)));return s}function S(t,e,i){var n=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=w(t),s=ot.support.boxSizing&&"border-box"===ot.css(t,"boxSizing",!1,r);if(o<=0||null==o){if(o=$t(t,e,r),(o<0||null==o)&&(o=t.style[e]),zt.test(o))return o;n=s&&(ot.support.boxSizingReliable||o===t.style[e]),o=parseFloat(o)||0}return o+C(t,e,i||(s?"border":"content"),n,r)+"px"}function T(t){var e=z,i=Gt[t];return i||(i=P(t,e),"none"!==i&&i||(Bt=(Bt||ot("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(Bt[0].contentWindow||Bt[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),i=P(t,e),Bt.detach()),Gt[t]=i),i}function P(t,e){var i=ot(e.createElement(t)).appendTo(e.body),n=ot.css(i[0],"display");return i.remove(),n}function A(t,e,i,n){var o;if(ot.isArray(e))ot.each(e,function(e,o){i||Zt.test(t)?n(t,o):A(t+"["+("object"==typeof o?e:"")+"]",o,i,n)});else if(i||"object"!==ot.type(e))n(t,e);else for(o in e)A(t+"["+o+"]",e[o],i,n)}function j(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,o=0,r=e.toLowerCase().match(st)||[];if(ot.isFunction(i))for(;n=r[o++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function L(t,e,i,n){function o(a){var c;return r[a]=!0,ot.each(t[a]||[],function(t,a){var u=a(e,i,n);return"string"!=typeof u||s||r[u]?s?!(c=u):void 0:(e.dataTypes.unshift(u),o(u),!1)}),c}var r={},s=t===me;return o(e.dataTypes[0])||!r["*"]&&o("*")}function _(t,i){var n,o,r=ot.ajaxSettings.flatOptions||{};for(n in i)i[n]!==e&&((r[n]?t:o||(o={}))[n]=i[n]);return o&&ot.extend(!0,t,o),t}function M(t,i,n){for(var o,r,s,a,c=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),o===e&&(o=t.mimeType||i.getResponseHeader("Content-Type"));if(o)for(r in c)if(c[r]&&c[r].test(o)){u.unshift(r);break}if(u[0]in n)s=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){s=r;break}a||(a=r)}s=s||a}if(s)return s!==u[0]&&u.unshift(s),n[s]}function O(t,e,i,n){var o,r,s,a,c,u={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(r=l.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!c&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=r,r=l.shift())if("*"===r)r=c;else if("*"!==c&&c!==r){if(!(s=u[c+" "+r]||u["* "+r]))for(o in u)if(a=o.split(" "),a[1]===r&&(s=u[c+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[o]:!0!==u[o]&&(r=a[0],l.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+c+" to "+r}}}return{state:"success",data:e}}function E(){return setTimeout(function(){Se=e}),Se=ot.now()}function I(t,e,i){for(var n,o=(_e[e]||[]).concat(_e["*"]),r=0,s=o.length;r<s;r++)if(n=o[r].call(i,e,t))return n}function N(t,e,i){var n,o,r=0,s=Le.length,a=ot.Deferred().always(function(){delete c.elem}),c=function(){if(o)return!1;for(var e=Se||E(),i=Math.max(0,u.startTime+u.duration-e),n=i/u.duration||0,r=1-n,s=0,c=u.tweens.length;s<c;s++)u.tweens[s].run(r);return a.notifyWith(t,[u,r,i]),r<1&&c?i:(a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:ot.extend({},e),opts:ot.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:Se||E(),duration:i.duration,tweens:[],createTween:function(e,i){var n=ot.Tween(t,u.opts,e,i,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(n),n},stop:function(e){var i=0,n=e?u.tweens.length:0;if(o)return this;for(o=!0;i<n;i++)u.tweens[i].run(1);return e?a.resolveWith(t,[u,e]):a.rejectWith(t,[u,e]),this}}),l=u.props;for(D(l,u.opts.specialEasing);r<s;r++)if(n=Le[r].call(u,t,l,u.opts))return n;return ot.map(l,I,u),ot.isFunction(u.opts.start)&&u.opts.start.call(t,u),ot.fx.timer(ot.extend(c,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function D(t,e){var i,n,o,r,s;for(i in t)if(n=ot.camelCase(i),o=e[n],r=t[i],ot.isArray(r)&&(o=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),(s=ot.cssHooks[n])&&"expand"in s){r=s.expand(r),delete t[n];for(i in r)i in t||(t[i]=r[i],e[i]=o)}else e[n]=o}function R(t,i,n){var o,r,s,a,c,u,l=this,d={},h=t.style,p=t.nodeType&&y(t),f=gt.get(t,"fxshow");n.queue||(c=ot._queueHooks(t,"fx"),null==c.unqueued&&(c.unqueued=0,u=c.empty.fire,c.empty.fire=function(){c.unqueued||u()}),c.unqueued++,l.always(function(){l.always(function(){c.unqueued--,ot.queue(t,"fx").length||c.empty.fire()})})),1===t.nodeType&&("height"in i||"width"in i)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===ot.css(t,"display")&&"none"===ot.css(t,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",l.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(o in i)if(r=i[o],Pe.exec(r)){if(delete i[o],s=s||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!f||f[o]===e)continue;p=!0}d[o]=f&&f[o]||ot.style(t,o)}if(!ot.isEmptyObject(d)){f?"hidden"in f&&(p=f.hidden):f=gt.access(t,"fxshow",{}),s&&(f.hidden=!p),p?ot(t).show():l.done(function(){ot(t).hide()}),l.done(function(){var e;gt.remove(t,"fxshow");for(e in d)ot.style(t,e,d[e])});for(o in d)a=I(p?f[o]:0,o,l),o in f||(f[o]=a.start,p&&(a.end=a.start,a.start="width"===o||"height"===o?1:0))}}function U(t,e,i,n,o){return new U.prototype.init(t,e,i,n,o)}function F(t,e){var i,n={height:t},o=0;for(e=e?1:0;o<4;o+=2-e)i=Qt[o],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function $(t){return ot.isWindow(t)?t:9===t.nodeType&&t.defaultView}var B,V,H=typeof e,q=t.location,z=t.document,W=z.documentElement,G=t.jQuery,X=t.$,J={},Q=[],K=Q.concat,Y=Q.push,Z=Q.slice,tt=Q.indexOf,et=J.toString,it=J.hasOwnProperty,nt="2.0.3".trim,ot=function(t,e){return new ot.fn.init(t,e,B)},rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,st=/\S+/g,at=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ct=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ut=/^-ms-/,lt=/-([\da-z])/gi,dt=function(t,e){return e.toUpperCase()},ht=function(){z.removeEventListener("DOMContentLoaded",ht,!1),t.removeEventListener("load",ht,!1),ot.ready()};ot.fn=ot.prototype={jquery:"2.0.3",constructor:ot,init:function(t,i,n){var o,r;if(!t)return this;if("string"==typeof t){if(!(o="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:at.exec(t))||!o[1]&&i)return!i||i.jquery?(i||n).find(t):this.constructor(i).find(t);if(o[1]){if(i=i instanceof ot?i[0]:i,ot.merge(this,ot.parseHTML(o[1],i&&i.nodeType?i.ownerDocument||i:z,!0)),ct.test(o[1])&&ot.isPlainObject(i))for(o in i)ot.isFunction(this[o])?this[o](i[o]):this.attr(o,i[o]);return this}return r=z.getElementById(o[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=z,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ot.isFunction(t)?n.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),ot.makeArray(t,this))},selector:"",length:0,toArray:function(){return Z.call(this)},get:function(t){return null==t?this.toArray():t<0?this[this.length+t]:this[t]},pushStack:function(t){var e=ot.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return ot.each(this,t,e)},ready:function(t){return ot.ready.promise().done(t),this},slice:function(){return this.pushStack(Z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},map:function(t){return this.pushStack(ot.map(this,function(e,i){return t.call(e,i,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:Y,sort:[].sort,splice:[].splice},ot.fn.init.prototype=ot.fn,ot.extend=ot.fn.extend=function(){var t,i,n,o,r,s,a=arguments[0]||{},c=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[1]||{},c=2),"object"==typeof a||ot.isFunction(a)||(a={}),u===c&&(a=this,--c);c<u;c++)if(null!=(t=arguments[c]))for(i in t)n=a[i],o=t[i],a!==o&&(l&&o&&(ot.isPlainObject(o)||(r=ot.isArray(o)))?(r?(r=!1,s=n&&ot.isArray(n)?n:[]):s=n&&ot.isPlainObject(n)?n:{},a[i]=ot.extend(l,s,o)):o!==e&&(a[i]=o));return a},ot.extend({expando:"jQuery"+("2.0.3"+Math.random()).replace(/\D/g,""),noConflict:function(e){return t.$===ot&&(t.$=X),e&&t.jQuery===ot&&(t.jQuery=G),ot},isReady:!1,readyWait:1,holdReady:function(t){t?ot.readyWait++:ot.ready(!0)},ready:function(t){(!0===t?--ot.readyWait:ot.isReady)||(ot.isReady=!0,!0!==t&&--ot.readyWait>0||(V.resolveWith(z,[ot]),ot.fn.trigger&&ot(z).trigger("ready").off("ready")))},isFunction:function(t){return"function"===ot.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?J[et.call(t)]||"object":typeof t},isPlainObject:function(t){if("object"!==ot.type(t)||t.nodeType||ot.isWindow(t))return!1;try{if(t.constructor&&!it.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||z;var n=ct.exec(t),o=!i&&[];return n?[e.createElement(n[1])]:(n=ot.buildFragment([t],e,o),o&&ot(o).remove(),ot.merge([],n.childNodes))},parseJSON:JSON.parse,parseXML:function(t){var i,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,i=n.parseFromString(t,"text/xml")}catch(t){i=e}return i&&!i.getElementsByTagName("parsererror").length||ot.error("Invalid XML: "+t),i},noop:function(){},globalEval:function(t){var e,i=eval;(t=ot.trim(t))&&(1===t.indexOf("use strict")?(e=z.createElement("script"),e.text=t,z.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(ut,"ms-").replace(lt,dt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var o=0,r=t.length,s=i(t);if(n){if(s)for(;o<r&&!1!==e.apply(t[o],n);o++);else for(o in t)if(!1===e.apply(t[o],n))break}else if(s)for(;o<r&&!1!==e.call(t[o],o,t[o]);o++);else for(o in t)if(!1===e.call(t[o],o,t[o]))break;return t},trim:function(t){return null==t?"":nt.call(t)},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?ot.merge(n,"string"==typeof t?[t]:t):Y.call(n,t)),n},inArray:function(t,e,i){return null==e?-1:tt.call(e,t,i)},merge:function(t,i){var n=i.length,o=t.length,r=0;if("number"==typeof n)for(;r<n;r++)t[o++]=i[r];else for(;i[r]!==e;)t[o++]=i[r++];return t.length=o,t},grep:function(t,e,i){var n,o=[],r=0,s=t.length;for(i=!!i;r<s;r++)n=!!e(t[r],r),i!==n&&o.push(t[r]);return o},map:function(t,e,n){var o,r=0,s=t.length,a=i(t),c=[];if(a)for(;r<s;r++)null!=(o=e(t[r],r,n))&&(c[c.length]=o);else for(r in t)null!=(o=e(t[r],r,n))&&(c[c.length]=o);return K.apply([],c)},guid:1,proxy:function(t,i){var n,o,r;return"string"==typeof i&&(n=t[i],i=t,t=n),ot.isFunction(t)?(o=Z.call(arguments,2),r=function(){return t.apply(i||this,o.concat(Z.call(arguments)))},r.guid=t.guid=t.guid||ot.guid++,r):e},access:function(t,i,n,o,r,s,a){var c=0,u=t.length,l=null==n;if("object"===ot.type(n)){r=!0;for(c in n)ot.access(t,i,c,n[c],!0,s,a)}else if(o!==e&&(r=!0,ot.isFunction(o)||(a=!0),l&&(a?(i.call(t,o),i=null):(l=i,i=function(t,e,i){return l.call(ot(t),i)})),i))for(;c<u;c++)i(t[c],n,a?o:o.call(t[c],c,i(t[c],n)));return r?t:l?i.call(t):u?i(t[0],n):s},now:Date.now,swap:function(t,e,i,n){var o,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];o=i.apply(t,n||[]);for(r in e)t.style[r]=s[r];return o}}),ot.ready.promise=function(e){return V||(V=ot.Deferred(),"complete"===z.readyState?setTimeout(ot.ready):(z.addEventListener("DOMContentLoaded",ht,!1),t.addEventListener("load",ht,!1))),V.promise(e)},ot.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){J["[object "+e+"]"]=e.toLowerCase()}),B=ot(z),function(t,e){function i(t,e,i,n){var o,r,s,a,c,u,h,p,f,g;if((e?e.ownerDocument||e:U)!==_&&L(e),e=e||_,i=i||[],!t||"string"!=typeof t)return i;if(1!==(a=e.nodeType)&&9!==a)return[];if(O&&!n){if(o=mt.exec(t))if(s=o[1]){if(9===a){if(!(r=e.getElementById(s))||!r.parentNode)return i;if(r.id===s)return i.push(r),i}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(s))&&D(e,r)&&r.id===s)return i.push(r),i}else{if(o[2])return K.apply(i,e.getElementsByTagName(t)),i;if((s=o[3])&&k.getElementsByClassName&&e.getElementsByClassName)return K.apply(i,e.getElementsByClassName(s)),i}if(k.qsa&&(!E||!E.test(t))){if(p=h=R,f=e,g=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(u=l(t),(h=e.getAttribute("id"))?p=h.replace(yt,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",c=u.length;c--;)u[c]=p+d(u[c]);f=lt.test(t)&&e.parentNode||e,g=u.join(",")}if(g)try{return K.apply(i,f.querySelectorAll(g)),i}catch(t){}finally{h||e.removeAttribute("id")}}}return y(t.replace(at,"$1"),e,i,n)}function n(){function t(i,n){return e.push(i+=" ")>C.cacheLength&&delete t[e.shift()],t[i]=n}var e=[];return t}function o(t){return t[R]=!0,t}function r(t){var e=_.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e){for(var i=t.split("|"),n=t.length;n--;)C.attrHandle[i[n]]=e}function a(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||W)-(~t.sourceIndex||W);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function c(t){return o(function(e){return e=+e,o(function(i,n){for(var o,r=t([],i.length,e),s=r.length;s--;)i[o=r[s]]&&(i[o]=!(n[o]=i[o]))})})}function u(){}function l(t,e){var n,o,r,s,a,c,u,l=V[t+" "];if(l)return e?0:l.slice(0);for(a=t,c=[],u=C.preFilter;a;){n&&!(o=ct.exec(a))||(o&&(a=a.slice(o[0].length)||a),c.push(r=[])),n=!1,(o=ut.exec(a))&&(n=o.shift(),r.push({value:n,type:o[0].replace(at," ")}),a=a.slice(n.length));for(s in C.filter)!(o=ft[s].exec(a))||u[s]&&!(o=u[s](o))||(n=o.shift(),r.push({value:n,type:s,matches:o}),a=a.slice(n.length));if(!n)break}return e?a.length:a?i.error(t):V(t,c).slice(0)}function d(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function h(t,e,i){var n=e.dir,o=i&&"parentNode"===n,r=$++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,r)}:function(e,i,s){var a,c,u,l=F+" "+r;if(s){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,s))return!0}else for(;e=e[n];)if(1===e.nodeType||o)if(u=e[R]||(e[R]={}),(c=u[n])&&c[0]===l){if(!0===(a=c[1])||a===x)return!0===a}else if(c=u[n]=[l],c[1]=t(e,i,s)||x,!0===c[1])return!0}}function p(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1;return!0}:t[0]}function f(t,e,i,n,o){for(var r,s=[],a=0,c=t.length,u=null!=e;a<c;a++)(r=t[a])&&(i&&!i(r,n,o)||(s.push(r),u&&e.push(a)));return s}function g(t,e,i,n,r,s){return n&&!n[R]&&(n=g(n)),r&&!r[R]&&(r=g(r,s)),o(function(o,s,a,c){var u,l,d,h=[],p=[],g=s.length,m=o||v(e||"*",a.nodeType?[a]:a,[]),b=!t||!o&&e?m:f(m,h,t,a,c),y=i?r||(o?t:g||n)?[]:s:b;if(i&&i(b,y,a,c),n)for(u=f(y,p),n(u,[],a,c),l=u.length;l--;)(d=u[l])&&(y[p[l]]=!(b[p[l]]=d));if(o){if(r||t){if(r){for(u=[],l=y.length;l--;)(d=y[l])&&u.push(b[l]=d);r(null,y=[],u,c)}for(l=y.length;l--;)(d=y[l])&&(u=r?Z.call(o,d):h[l])>-1&&(o[u]=!(s[u]=d))}}else y=f(y===s?y.splice(g,y.length):y),r?r(null,s,y,c):K.apply(s,y)})}function m(t){for(var e,i,n,o=t.length,r=C.relative[t[0].type],s=r||C.relative[" "],a=r?1:0,c=h(function(t){return t===e},s,!0),u=h(function(t){return Z.call(e,t)>-1},s,!0),l=[function(t,i,n){return!r&&(n||i!==A)||((e=i).nodeType?c(t,i,n):u(t,i,n))}];a<o;a++)if(i=C.relative[t[a].type])l=[h(p(l),i)];else{if(i=C.filter[t[a].type].apply(null,t[a].matches),i[R]){for(n=++a;n<o&&!C.relative[t[n].type];n++);return g(a>1&&p(l),a>1&&d(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),i,a<n&&m(t.slice(a,n)),n<o&&m(t=t.slice(n)),n<o&&d(t))}l.push(i)}return p(l)}function b(t,e){var n=0,r=e.length>0,s=t.length>0,a=function(o,a,c,u,l){var d,h,p,g=[],m=0,b="0",v=o&&[],y=null!=l,w=A,k=o||s&&C.find.TAG("*",l&&a.parentNode||a),S=F+=null==w?1:Math.random()||.1;for(y&&(A=a!==_&&a,x=n);null!=(d=k[b]);b++){if(s&&d){for(h=0;p=t[h++];)if(p(d,a,c)){u.push(d);break}y&&(F=S,x=++n)}r&&((d=!p&&d)&&m--,o&&v.push(d))}if(m+=b,r&&b!==m){for(h=0;p=e[h++];)p(v,g,a,c);if(o){if(m>0)for(;b--;)v[b]||g[b]||(g[b]=J.call(u));g=f(g)}K.apply(u,g),y&&!o&&g.length>0&&m+e.length>1&&i.uniqueSort(u)}return y&&(F=S,A=w),v};return r?o(a):a}function v(t,e,n){for(var o=0,r=e.length;o<r;o++)i(t,e[o],n);return n}function y(t,e,i,n){var o,r,s,a,c,u=l(t);if(!n&&1===u.length){if(r=u[0]=u[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&k.getById&&9===e.nodeType&&O&&C.relative[r[1].type]){if(!(e=(C.find.ID(s.matches[0].replace(wt,kt),e)||[])[0]))return i;t=t.slice(r.shift().value.length)}for(o=ft.needsContext.test(t)?0:r.length;o--&&(s=r[o],!C.relative[a=s.type]);)if((c=C.find[a])&&(n=c(s.matches[0].replace(wt,kt),lt.test(r[0].type)&&e.parentNode||e))){if(r.splice(o,1),!(t=n.length&&d(r)))return K.apply(i,n),i;break}}return P(t,u)(n,e,!O,i,lt.test(t)),i}var w,k,x,C,S,T,P,A,j,L,_,M,O,E,I,N,D,R="sizzle"+-new Date,U=t.document,F=0,$=0,B=n(),V=n(),H=n(),q=!1,z=function(t,e){return t===e?(q=!0,0):0},W=1<<31,G={}.hasOwnProperty,X=[],J=X.pop,Q=X.push,K=X.push,Y=X.slice,Z=X.indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(this[e]===t)return e;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",et="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=it.replace("w","w#"),rt="\\["+et+"*("+it+")"+et+"*(?:([*^$|!~]?=)"+et+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+nt+")|)|)"+et+"*\\]",st=":("+it+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+rt.replace(3,8)+")*)|.*)\\)|)",at=new RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),ct=new RegExp("^"+et+"*,"+et+"*"),ut=new RegExp("^"+et+"*([>+~]|"+et+")"+et+"*"),lt=new RegExp(et+"*[+~]"),dt=new RegExp("="+et+"*([^\\]'\"]*)"+et+"*\\]","g"),ht=new RegExp(st),pt=new RegExp("^"+nt+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},gt=/^[^{]+\{\s*\[native \w/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,yt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+et+"?|("+et+")|.)","ig"),kt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{K.apply(X=Y.call(U.childNodes),U.childNodes),X[U.childNodes.length].nodeType}catch(t){K={apply:X.length?function(t,e){Q.apply(t,Y.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}T=i.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},k=i.support={},L=i.setDocument=function(t){var e=t?t.ownerDocument||t:U,i=e.defaultView;return e!==_&&9===e.nodeType&&e.documentElement?(_=e,M=e.documentElement,O=!T(e),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){L()}),k.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),k.getElementsByTagName=r(function(t){return t.appendChild(e.createComment("")),!t.getElementsByTagName("*").length}),k.getElementsByClassName=r(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),k.getById=r(function(t){return M.appendChild(t).id=R,!e.getElementsByName||!e.getElementsByName(R).length}),k.getById?(C.find.ID=function(t,e){if(void 0!==e.getElementById&&O){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},C.filter.ID=function(t){var e=t.replace(wt,kt);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var e=t.replace(wt,kt);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),C.find.TAG=k.getElementsByTagName?function(t,e){if(void 0!==e.getElementsByTagName)return e.getElementsByTagName(t)}:function(t,e){var i,n=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},C.find.CLASS=k.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&O)return e.getElementsByClassName(t)},I=[],E=[],(k.qsa=gt.test(e.querySelectorAll))&&(r(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||E.push("\\["+et+"*(?:value|"+tt+")"),t.querySelectorAll(":checked").length||E.push(":checked")}),r(function(t){var i=e.createElement("input");i.setAttribute("type","hidden"),t.appendChild(i).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&E.push("[*^$]="+et+"*(?:''|\"\")"),t.querySelectorAll(":enabled").length||E.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),E.push(",.*:")})),(k.matchesSelector=gt.test(N=M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&r(function(t){k.disconnectedMatch=N.call(t,"div"),N.call(t,"[s!='']:x"),I.push("!=",st)}),E=E.length&&new RegExp(E.join("|")),I=I.length&&new RegExp(I.join("|")),D=gt.test(M.contains)||M.compareDocumentPosition?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},z=M.compareDocumentPosition?function(t,i){if(t===i)return q=!0,0;var n=i.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(i);return n?1&n||!k.sortDetached&&i.compareDocumentPosition(t)===n?t===e||D(U,t)?-1:i===e||D(U,i)?1:j?Z.call(j,t)-Z.call(j,i):0:4&n?-1:1:t.compareDocumentPosition?-1:1}:function(t,i){var n,o=0,r=t.parentNode,s=i.parentNode,c=[t],u=[i];if(t===i)return q=!0,0;if(!r||!s)return t===e?-1:i===e?1:r?-1:s?1:j?Z.call(j,t)-Z.call(j,i):0;if(r===s)return a(t,i);for(n=t;n=n.parentNode;)c.unshift(n);for(n=i;n=n.parentNode;)u.unshift(n);for(;c[o]===u[o];)o++;return o?a(c[o],u[o]):c[o]===U?-1:u[o]===U?1:0},e):_},i.matches=function(t,e){return i(t,null,null,e)},i.matchesSelector=function(t,e){if((t.ownerDocument||t)!==_&&L(t),e=e.replace(dt,"='$1']"),k.matchesSelector&&O&&(!I||!I.test(e))&&(!E||!E.test(e)))try{var n=N.call(t,e);if(n||k.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return i(e,_,null,[t]).length>0},i.contains=function(t,e){return(t.ownerDocument||t)!==_&&L(t),D(t,e)},i.attr=function(t,e){(t.ownerDocument||t)!==_&&L(t);var i=C.attrHandle[e.toLowerCase()],n=i&&G.call(C.attrHandle,e.toLowerCase())?i(t,e,!O):void 0;return void 0===n?k.attributes||!O?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null:n},i.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},i.uniqueSort=function(t){var e,i=[],n=0,o=0;if(q=!k.detectDuplicates,j=!k.sortStable&&t.slice(0),t.sort(z),q){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)t.splice(i[n],1)}return t},S=i.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=S(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n];n++)i+=S(e);return i},C=i.selectors={cacheLength:50,createPseudo:o,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,kt),t[3]=(t[4]||t[5]||"").replace(wt,kt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||i.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&i.error(t[0]),t},PSEUDO:function(t){var e,i=!t[5]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]&&void 0!==t[4]?t[2]=t[4]:i&&ht.test(i)&&(e=l(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){
var e=t.replace(wt,kt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=B[t+" "];return e||(e=new RegExp("(^|"+et+")"+t+"("+et+"|$)"))&&B(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(o){var r=i.attr(o,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,o){var r="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,c){var u,l,d,h,p,f,g=r!==s?"nextSibling":"previousSibling",m=e.parentNode,b=a&&e.nodeName.toLowerCase(),v=!c&&!a;if(m){if(r){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===b:1===d.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&v){for(l=m[R]||(m[R]={}),u=l[t]||[],p=u[0]===F&&u[1],h=u[0]===F&&u[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===e){l[t]=[F,p,h];break}}else if(v&&(u=(e[R]||(e[R]={}))[t])&&u[0]===F)h=u[1];else for(;(d=++p&&d&&d[g]||(h=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==b:1!==d.nodeType)||!++h||(v&&((d[R]||(d[R]={}))[t]=[F,h]),d!==e)););return(h-=o)===n||h%n==0&&h/n>=0}}},PSEUDO:function(t,e){var n,r=C.pseudos[t]||C.setFilters[t.toLowerCase()]||i.error("unsupported pseudo: "+t);return r[R]?r(e):r.length>1?(n=[t,t,"",e],C.setFilters.hasOwnProperty(t.toLowerCase())?o(function(t,i){for(var n,o=r(t,e),s=o.length;s--;)n=Z.call(t,o[s]),t[n]=!(i[n]=o[s])}):function(t){return r(t,0,n)}):r}},pseudos:{not:o(function(t){var e=[],i=[],n=P(t.replace(at,"$1"));return n[R]?o(function(t,e,i,o){for(var r,s=n(t,null,o,[]),a=t.length;a--;)(r=s[a])&&(t[a]=!(e[a]=r))}):function(t,o,r){return e[0]=t,n(e,null,r,i),!i.pop()}}),has:o(function(t){return function(e){return i(t,e).length>0}}),contains:o(function(t){return function(e){return(e.textContent||e.innerText||S(e)).indexOf(t)>-1}}),lang:o(function(t){return pt.test(t||"")||i.error("unsupported lang: "+t),t=t.replace(wt,kt).toLowerCase(),function(e){var i;do{if(i=O?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===M},focus:function(t){return t===_.activeElement&&(!_.hasFocus||_.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return vt.test(t.nodeName)},input:function(t){return bt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,i){return[i<0?i+e:i]}),even:c(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:c(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:c(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:c(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=function(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}(w);u.prototype=C.filters=C.pseudos,C.setFilters=new u,P=i.compile=function(t,e){var i,n=[],o=[],r=H[t+" "];if(!r){for(e||(e=l(t)),i=e.length;i--;)r=m(e[i]),r[R]?n.push(r):o.push(r);r=H(t,b(o,n))}return r},k.sortStable=R.split("").sort(z).join("")===R,k.detectDuplicates=q,L(),k.sortDetached=r(function(t){return 1&t.compareDocumentPosition(_.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||s("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),k.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||s("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||s(tt,function(t,e,i){var n;if(!i)return(n=t.getAttributeNode(e))&&n.specified?n.value:!0===t[e]?e.toLowerCase():null}),ot.find=i,ot.expr=i.selectors,ot.expr[":"]=ot.expr.pseudos,ot.unique=i.uniqueSort,ot.text=i.getText,ot.isXMLDoc=i.isXML,ot.contains=i.contains}(t);var pt={};ot.Callbacks=function(t){t="string"==typeof t?pt[t]||n(t):ot.extend({},t);var i,o,r,s,a,c,u=[],l=!t.once&&[],d=function(e){for(i=t.memory&&e,o=!0,c=s||0,s=0,a=u.length,r=!0;u&&c<a;c++)if(!1===u[c].apply(e[0],e[1])&&t.stopOnFalse){i=!1;break}r=!1,u&&(l?l.length&&d(l.shift()):i?u=[]:h.disable())},h={add:function(){if(u){var e=u.length;!function e(i){ot.each(i,function(i,n){var o=ot.type(n);"function"===o?t.unique&&h.has(n)||u.push(n):n&&n.length&&"string"!==o&&e(n)})}(arguments),r?a=u.length:i&&(s=e,d(i))}return this},remove:function(){return u&&ot.each(arguments,function(t,e){for(var i;(i=ot.inArray(e,u,i))>-1;)u.splice(i,1),r&&(i<=a&&a--,i<=c&&c--)}),this},has:function(t){return t?ot.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],a=0,this},disable:function(){return u=l=i=e,this},disabled:function(){return!u},lock:function(){return l=e,i||h.disable(),this},locked:function(){return!l},fireWith:function(t,e){return!u||o&&!l||(e=e||[],e=[t,e.slice?e.slice():e],r?l.push(e):d(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!o}};return h},ot.extend({Deferred:function(t){var e=[["resolve","done",ot.Callbacks("once memory"),"resolved"],["reject","fail",ot.Callbacks("once memory"),"rejected"],["notify","progress",ot.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ot.Deferred(function(i){ot.each(e,function(e,r){var s=r[0],a=ot.isFunction(t[e])&&t[e];o[r[1]](function(){var t=a&&a.apply(this,arguments);t&&ot.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[s+"With"](this===n?i.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ot.extend(t,n):n}},o={};return n.pipe=n.then,ot.each(e,function(t,r){var s=r[2],a=r[3];n[r[1]]=s.add,a&&s.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?n:this,arguments),this},o[r[0]+"With"]=s.fireWith}),n.promise(o),t&&t.call(o,o),o},when:function(t){var e,i,n,o=0,r=Z.call(arguments),s=r.length,a=1!==s||t&&ot.isFunction(t.promise)?s:0,c=1===a?t:ot.Deferred(),u=function(t,i,n){return function(o){i[t]=this,n[t]=arguments.length>1?Z.call(arguments):o,n===e?c.notifyWith(i,n):--a||c.resolveWith(i,n)}};if(s>1)for(e=new Array(s),i=new Array(s),n=new Array(s);o<s;o++)r[o]&&ot.isFunction(r[o].promise)?r[o].promise().done(u(o,n,r)).fail(c.reject).progress(u(o,i,e)):--a;return a||c.resolveWith(n,r),c.promise()}}),ot.support=function(e){var i=z.createElement("input"),n=z.createDocumentFragment(),o=z.createElement("div"),r=z.createElement("select"),s=r.appendChild(z.createElement("option"));return i.type?(i.type="checkbox",e.checkOn=""!==i.value,e.optSelected=s.selected,e.reliableMarginRight=!0,e.boxSizingReliable=!0,e.pixelPosition=!1,i.checked=!0,e.noCloneChecked=i.cloneNode(!0).checked,r.disabled=!0,e.optDisabled=!s.disabled,i=z.createElement("input"),i.value="t",i.type="radio",e.radioValue="t"===i.value,i.setAttribute("checked","t"),i.setAttribute("name","t"),n.appendChild(i),e.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked,e.focusinBubbles="onfocusin"in t,o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===o.style.backgroundClip,ot(function(){var i,n,r=z.getElementsByTagName("body")[0];r&&(i=z.createElement("div"),i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",r.appendChild(i).appendChild(o),o.innerHTML="",o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",ot.swap(r,null!=r.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===o.offsetWidth}),t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(o,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(o,null)||{width:"4px"}).width,n=o.appendChild(z.createElement("div")),n.style.cssText=o.style.cssText="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",n.style.marginRight=n.style.width="0",o.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(n,null)||{}).marginRight)),r.removeChild(i))}),e):e}({});var ft,gt,mt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,bt=/([A-Z])/g;o.uid=1,o.accepts=function(t){return!t.nodeType||(1===t.nodeType||9===t.nodeType)},o.prototype={key:function(t){if(!o.accepts(t))return 0;var e={},i=t[this.expando];if(!i){i=o.uid++;try{e[this.expando]={value:i},Object.defineProperties(t,e)}catch(n){e[this.expando]=i,ot.extend(t,e)}}return this.cache[i]||(this.cache[i]={}),i},set:function(t,e,i){var n,o=this.key(t),r=this.cache[o];if("string"==typeof e)r[e]=i;else if(ot.isEmptyObject(r))ot.extend(this.cache[o],e);else for(n in e)r[n]=e[n];return r},get:function(t,i){var n=this.cache[this.key(t)];return i===e?n:n[i]},access:function(t,i,n){var o;return i===e||i&&"string"==typeof i&&n===e?(o=this.get(t,i),o!==e?o:this.get(t,ot.camelCase(i))):(this.set(t,i,n),n!==e?n:i)},remove:function(t,i){var n,o,r,s=this.key(t),a=this.cache[s];if(i===e)this.cache[s]={};else{ot.isArray(i)?o=i.concat(i.map(ot.camelCase)):(r=ot.camelCase(i),i in a?o=[i,r]:(o=r,o=o in a?[o]:o.match(st)||[])),n=o.length;for(;n--;)delete a[o[n]]}},hasData:function(t){return!ot.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}},ft=new o,gt=new o,ot.extend({acceptData:o.accepts,hasData:function(t){return ft.hasData(t)||gt.hasData(t)},data:function(t,e,i){return ft.access(t,e,i)},removeData:function(t,e){ft.remove(t,e)},_data:function(t,e,i){return gt.access(t,e,i)},_removeData:function(t,e){gt.remove(t,e)}}),ot.fn.extend({data:function(t,i){var n,o,s=this[0],a=0,c=null;if(t===e){if(this.length&&(c=ft.get(s),1===s.nodeType&&!gt.get(s,"hasDataAttrs"))){for(n=s.attributes;a<n.length;a++)o=n[a].name,0===o.indexOf("data-")&&(o=ot.camelCase(o.slice(5)),r(s,o,c[o]));gt.set(s,"hasDataAttrs",!0)}return c}return"object"==typeof t?this.each(function(){ft.set(this,t)}):ot.access(this,function(i){var n,o=ot.camelCase(t);if(s&&i===e){if((n=ft.get(s,t))!==e)return n;if((n=ft.get(s,o))!==e)return n;if((n=r(s,o,e))!==e)return n}else this.each(function(){var n=ft.get(this,o);ft.set(this,o,i),-1!==t.indexOf("-")&&n!==e&&ft.set(this,t,i)})},null,i,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){ft.remove(this,t)})}}),ot.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=gt.get(t,e),i&&(!n||ot.isArray(i)?n=gt.access(t,e,ot.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=ot.queue(t,e),n=i.length,o=i.shift(),r=ot._queueHooks(t,e),s=function(){ot.dequeue(t,e)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete r.stop,o.call(t,s,r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return gt.get(t,i)||gt.access(t,i,{empty:ot.Callbacks("once memory").add(function(){gt.remove(t,[e+"queue",i])})})}}),ot.fn.extend({queue:function(t,i){var n=2;return"string"!=typeof t&&(i=t,t="fx",n--),arguments.length<n?ot.queue(this[0],t):i===e?this:this.each(function(){var e=ot.queue(this,t,i);ot._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&ot.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ot.dequeue(this,t)})},delay:function(t,e){return t=ot.fx?ot.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){var n,o=1,r=ot.Deferred(),s=this,a=this.length,c=function(){--o||r.resolveWith(s,[s])};for("string"!=typeof t&&(i=t,t=e),t=t||"fx";a--;)(n=gt.get(s[a],t+"queueHooks"))&&n.empty&&(o++,n.empty.add(c));return c(),r.promise(i)}});var vt,yt=/[\t\r\n\f]/g,wt=/\r/g,kt=/^(?:input|select|textarea|button)$/i;ot.fn.extend({attr:function(t,e){return ot.access(this,ot.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ot.removeAttr(this,t)})},prop:function(t,e){return ot.access(this,ot.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[ot.propFix[t]||t]})},addClass:function(t){var e,i,n,o,r,s=0,a=this.length,c="string"==typeof t&&t;if(ot.isFunction(t))return this.each(function(e){ot(this).addClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(st)||[];s<a;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(yt," "):" ")){for(r=0;o=e[r++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");i.className=ot.trim(n)}return this},removeClass:function(t){var e,i,n,o,r,s=0,a=this.length,c=0===arguments.length||"string"==typeof t&&t;if(ot.isFunction(t))return this.each(function(e){ot(this).removeClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(st)||[];s<a;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(yt," "):"")){for(r=0;o=e[r++];)for(;n.indexOf(" "+o+" ")>=0;)n=n.replace(" "+o+" "," ");i.className=t?ot.trim(n):""}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):ot.isFunction(t)?this.each(function(i){ot(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var e,n=0,o=ot(this),r=t.match(st)||[];e=r[n++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else i!==H&&"boolean"!==i||(this.className&&gt.set(this,"__className__",this.className),this.className=this.className||!1===t?"":gt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;i<n;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(yt," ").indexOf(e)>=0)return!0;return!1},val:function(t){var i,n,o,r=this[0];{if(arguments.length)return o=ot.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=o?t.call(this,n,ot(this).val()):t,null==r?r="":"number"==typeof r?r+="":ot.isArray(r)&&(r=ot.map(r,function(t){return null==t?"":t+""})),(i=ot.valHooks[this.type]||ot.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,r,"value")!==e||(this.value=r))});if(r)return(i=ot.valHooks[r.type]||ot.valHooks[r.nodeName.toLowerCase()])&&"get"in i&&(n=i.get(r,"value"))!==e?n:(n=r.value,"string"==typeof n?n.replace(wt,""):null==n?"":n)}}}),ot.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){for(var e,i,n=t.options,o=t.selectedIndex,r="select-one"===t.type||o<0,s=r?null:[],a=r?o+1:n.length,c=o<0?a:r?o:0;c<a;c++)if(i=n[c],(i.selected||c===o)&&(ot.support.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!ot.nodeName(i.parentNode,"optgroup"))){if(e=ot(i).val(),r)return e;s.push(e)}return s},set:function(t,e){for(var i,n,o=t.options,r=ot.makeArray(e),s=o.length;s--;)n=o[s],(n.selected=ot.inArray(ot(n).val(),r)>=0)&&(i=!0);return i||(t.selectedIndex=-1),r}}},attr:function(t,i,n){var o,r,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return typeof t.getAttribute===H?ot.prop(t,i,n):(1===s&&ot.isXMLDoc(t)||(i=i.toLowerCase(),o=ot.attrHooks[i]||(ot.expr.match.bool.test(i)?vt:void 0)),n===e?o&&"get"in o&&null!==(r=o.get(t,i))?r:(r=ot.find.attr(t,i),null==r?e:r):null!==n?o&&"set"in o&&(r=o.set(t,n,i))!==e?r:(t.setAttribute(i,n+""),n):void ot.removeAttr(t,i))},removeAttr:function(t,e){var i,n,o=0,r=e&&e.match(st);if(r&&1===t.nodeType)for(;i=r[o++];)n=ot.propFix[i]||i,ot.expr.match.bool.test(i)&&(t[n]=!1),t.removeAttribute(i)},attrHooks:{type:{set:function(t,e){if(!ot.support.radioValue&&"radio"===e&&ot.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},propFix:{for:"htmlFor",class:"className"},prop:function(t,i,n){var o,r,s,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return s=1!==a||!ot.isXMLDoc(t),s&&(i=ot.propFix[i]||i,r=ot.propHooks[i]),n!==e?r&&"set"in r&&(o=r.set(t,n,i))!==e?o:t[i]=n:r&&"get"in r&&null!==(o=r.get(t,i))?o:t[i]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||kt.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),vt={set:function(t,e,i){return!1===e?ot.removeAttr(t,i):t.setAttribute(i,i),i}},ot.each(ot.expr.match.bool.source.match(/\w+/g),function(t,i){var n=ot.expr.attrHandle[i]||ot.find.attr;ot.expr.attrHandle[i]=function(t,i,o){var r=ot.expr.attrHandle[i],s=o?e:(ot.expr.attrHandle[i]=e)!=n(t,i,o)?i.toLowerCase():null;return ot.expr.attrHandle[i]=r,s}}),ot.support.optSelected||(ot.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),ot.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ot.propFix[this.toLowerCase()]=this}),ot.each(["radio","checkbox"],function(){ot.valHooks[this]={set:function(t,e){if(ot.isArray(e))return t.checked=ot.inArray(ot(t).val(),e)>=0}},ot.support.checkOn||(ot.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var xt=/^key/,Ct=/^(?:mouse|contextmenu)|click/,St=/^(?:focusinfocus|focusoutblur)$/,Tt=/^([^.]*)(?:\.(.+)|)$/;ot.event={global:{},add:function(t,i,n,o,r){var s,a,c,u,l,d,h,p,f,g,m,b=gt.get(t);if(b){for(n.handler&&(s=n,n=s.handler,r=s.selector),n.guid||(n.guid=ot.guid++),(u=b.events)||(u=b.events={}),(a=b.handle)||(a=b.handle=function(t){return typeof ot===H||t&&ot.event.triggered===t.type?e:ot.event.dispatch.apply(a.elem,arguments)},a.elem=t),i=(i||"").match(st)||[""],l=i.length;l--;)c=Tt.exec(i[l])||[],f=m=c[1],g=(c[2]||"").split(".").sort(),f&&(h=ot.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=ot.event.special[f]||{},d=ot.extend({type:f,origType:m,data:o,handler:n,guid:n.guid,selector:r,needsContext:r&&ot.expr.match.needsContext.test(r),namespace:g.join(".")},s),(p=u[f])||(p=u[f]=[],p.delegateCount=0,h.setup&&!1!==h.setup.call(t,o,g,a)||t.addEventListener&&t.addEventListener(f,a,!1)),h.add&&(h.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,d):p.push(d),ot.event.global[f]=!0);t=null}},remove:function(t,e,i,n,o){var r,s,a,c,u,l,d,h,p,f,g,m=gt.hasData(t)&&gt.get(t);if(m&&(c=m.events)){for(e=(e||"").match(st)||[""],u=e.length;u--;)if(a=Tt.exec(e[u])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p){for(d=ot.event.special[p]||{},p=(n?d.delegateType:d.bindType)||p,h=c[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=h.length;r--;)l=h[r],!o&&g!==l.origType||i&&i.guid!==l.guid||a&&!a.test(l.namespace)||n&&n!==l.selector&&("**"!==n||!l.selector)||(h.splice(r,1),l.selector&&h.delegateCount--,d.remove&&d.remove.call(t,l));s&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,f,m.handle)||ot.removeEvent(t,p,m.handle),delete c[p])}else for(p in c)ot.event.remove(t,p+e[u],i,n,!0);ot.isEmptyObject(c)&&(delete m.handle,gt.remove(t,"events"))}},trigger:function(i,n,o,r){var s,a,c,u,l,d,h,p=[o||z],f=it.call(i,"type")?i.type:i,g=it.call(i,"namespace")?i.namespace.split("."):[];if(a=c=o=o||z,3!==o.nodeType&&8!==o.nodeType&&!St.test(f+ot.event.triggered)&&(f.indexOf(".")>=0&&(g=f.split("."),f=g.shift(),g.sort()),l=f.indexOf(":")<0&&"on"+f,i=i[ot.expando]?i:new ot.Event(f,"object"==typeof i&&i),i.isTrigger=r?2:3,i.namespace=g.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=e,i.target||(i.target=o),n=null==n?[i]:ot.makeArray(n,[i]),h=ot.event.special[f]||{},r||!h.trigger||!1!==h.trigger.apply(o,n))){if(!r&&!h.noBubble&&!ot.isWindow(o)){for(u=h.delegateType||f,St.test(u+f)||(a=a.parentNode);a;a=a.parentNode)p.push(a),c=a;c===(o.ownerDocument||z)&&p.push(c.defaultView||c.parentWindow||t)}for(s=0;(a=p[s++])&&!i.isPropagationStopped();)i.type=s>1?u:h.bindType||f,d=(gt.get(a,"events")||{})[i.type]&&gt.get(a,"handle"),d&&d.apply(a,n),(d=l&&a[l])&&ot.acceptData(a)&&d.apply&&!1===d.apply(a,n)&&i.preventDefault();return i.type=f,r||i.isDefaultPrevented()||h._default&&!1!==h._default.apply(p.pop(),n)||!ot.acceptData(o)||l&&ot.isFunction(o[f])&&!ot.isWindow(o)&&(c=o[l],c&&(o[l]=null),ot.event.triggered=f,o[f](),ot.event.triggered=e,c&&(o[l]=c)),i.result}},dispatch:function(t){t=ot.event.fix(t);var i,n,o,r,s,a=[],c=Z.call(arguments),u=(gt.get(this,"events")||{})[t.type]||[],l=ot.event.special[t.type]||{};if(c[0]=t,t.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,t)){for(a=ot.event.handlers.call(this,t,u),i=0;(r=a[i++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(s=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(s.namespace)||(t.handleObj=s,t.data=s.data,(o=((ot.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,c))!==e&&!1===(t.result=o)&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,i){var n,o,r,s,a=[],c=i.delegateCount,u=t.target;if(c&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!==this;u=u.parentNode||this)if(!0!==u.disabled||"click"!==t.type){for(o=[],n=0;n<c;n++)s=i[n],r=s.selector+" ",o[r]===e&&(o[r]=s.needsContext?ot(r,this).index(u)>=0:ot.find(r,this,null,[u]).length),o[r]&&o.push(s);o.length&&a.push({elem:u,handlers:o})}return c<i.length&&a.push({elem:this,handlers:i.slice(c)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,i){var n,o,r,s=i.button;return null==t.pageX&&null!=i.clientX&&(n=t.target.ownerDocument||z,o=n.documentElement,r=n.body,t.pageX=i.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),t.pageY=i.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),t.which||s===e||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(t){if(t[ot.expando])return t;var e,i,n,o=t.type,r=t,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=Ct.test(o)?this.mouseHooks:xt.test(o)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,t=new ot.Event(r),e=n.length;e--;)i=n[e],t[i]=r[i];return t.target||(t.target=z),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,r):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==c()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===c()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ot.nodeName(this,"input"))return this.click(),!1},_default:function(t){return ot.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var o=ot.extend(new ot.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?ot.event.trigger(o,null,e):ot.event.dispatch.call(e,o),o.isDefaultPrevented()&&i.preventDefault()}},ot.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)},ot.Event=function(t,e){if(!(this instanceof ot.Event))return new ot.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.getPreventDefault&&t.getPreventDefault()?s:a):this.type=t,e&&ot.extend(this,e),this.timeStamp=t&&t.timeStamp||ot.now(),this[ot.expando]=!0},ot.Event.prototype={isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=s,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=s,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()}},ot.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){ot.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,o=t.relatedTarget,r=t.handleObj;return o&&(o===n||ot.contains(n,o))||(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),ot.support.focusinBubbles||ot.each({focus:"focusin",blur:"focusout"},function(t,e){var i=0,n=function(t){ot.event.simulate(e,t.target,ot.event.fix(t),!0)};ot.event.special[e]={setup:function(){0==i++&&z.addEventListener(t,n,!0)},teardown:function(){0==--i&&z.removeEventListener(t,n,!0)}}}),ot.fn.extend({on:function(t,i,n,o,r){var s,c;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=e);for(c in t)this.on(c,i,n,t[c],r);return this}if(null==n&&null==o?(o=i,n=i=e):null==o&&("string"==typeof i?(o=n,n=e):(o=n,n=i,i=e)),!1===o)o=a;else if(!o)return this;return 1===r&&(s=o,o=function(t){return ot().off(t),s.apply(this,arguments)},o.guid=s.guid||(s.guid=ot.guid++)),this.each(function(){ot.event.add(this,t,o,n,i)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,i,n){var o,r;if(t&&t.preventDefault&&t.handleObj)return o=t.handleObj,ot(t.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof t){for(r in t)this.off(r,i,t[r]);return this}return!1!==i&&"function"!=typeof i||(n=i,i=e),!1===n&&(n=a),this.each(function(){ot.event.remove(this,t,n,i)})},trigger:function(t,e){return this.each(function(){ot.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return ot.event.trigger(t,e,i,!0)}});var Pt=/^.[^:#\[\.,]*$/,At=/^(?:parents|prev(?:Until|All))/,jt=ot.expr.match.needsContext,Lt={children:!0,contents:!0,next:!0,prev:!0};ot.fn.extend({find:function(t){var e,i=[],n=this,o=n.length;if("string"!=typeof t)return this.pushStack(ot(t).filter(function(){for(e=0;e<o;e++)if(ot.contains(n[e],this))return!0}));for(e=0;e<o;e++)ot.find(t,n[e],i);return i=this.pushStack(o>1?ot.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},has:function(t){var e=ot(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(ot.contains(this,e[t]))return!0})},not:function(t){return this.pushStack(l(this,t||[],!0))},filter:function(t){return this.pushStack(l(this,t||[],!1))},is:function(t){return!!l(this,"string"==typeof t&&jt.test(t)?ot(t):t||[],!1).length},closest:function(t,e){for(var i,n=0,o=this.length,r=[],s=jt.test(t)||"string"!=typeof t?ot(t,e||this.context):0;n<o;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&ot.find.matchesSelector(i,t))){i=r.push(i);break}return this.pushStack(r.length>1?ot.unique(r):r)},index:function(t){return t?"string"==typeof t?tt.call(ot(t),this[0]):tt.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var i="string"==typeof t?ot(t,e):ot.makeArray(t&&t.nodeType?[t]:t),n=ot.merge(this.get(),i);return this.pushStack(ot.unique(n))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ot.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ot.dir(t,"parentNode")},parentsUntil:function(t,e,i){return ot.dir(t,"parentNode",i)},next:function(t){return u(t,"nextSibling")},prev:function(t){return u(t,"previousSibling")},nextAll:function(t){return ot.dir(t,"nextSibling")},prevAll:function(t){return ot.dir(t,"previousSibling")},nextUntil:function(t,e,i){return ot.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return ot.dir(t,"previousSibling",i)},siblings:function(t){return ot.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return ot.sibling(t.firstChild)},contents:function(t){return t.contentDocument||ot.merge([],t.childNodes)}},function(t,e){ot.fn[t]=function(i,n){var o=ot.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=ot.filter(n,o)),this.length>1&&(Lt[t]||ot.unique(o),At.test(t)&&o.reverse()),this.pushStack(o)}}),ot.extend({filter:function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?ot.find.matchesSelector(n,t)?[n]:[]:ot.find.matches(t,ot.grep(e,function(t){return 1===t.nodeType}))},dir:function(t,i,n){for(var o=[],r=n!==e;(t=t[i])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&ot(t).is(n))break;o.push(t)}return o},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}});var _t=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Mt=/<([\w:]+)/,Ot=/<|&#?\w+;/,Et=/<(?:script|style|link)/i,It=/^(?:checkbox|radio)$/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,Dt=/^$|\/(?:java|ecma)script/i,Rt=/^true\/(.*)/,Ut=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ft={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ft.optgroup=Ft.option,Ft.tbody=Ft.tfoot=Ft.colgroup=Ft.caption=Ft.thead,Ft.th=Ft.td,ot.fn.extend({text:function(t){return ot.access(this,function(t){return t===e?ot.text(this):this.empty().append((this[0]&&this[0].ownerDocument||z).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){d(this,t).appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=d(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?ot.filter(t,this):this,o=0;null!=(i=n[o]);o++)e||1!==i.nodeType||ot.cleanData(m(i)),i.parentNode&&(e&&ot.contains(i.ownerDocument,i)&&f(m(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(ot.cleanData(m(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ot.clone(this,t,e)})},html:function(t){return ot.access(this,function(t){var i=this[0]||{},n=0,o=this.length;if(t===e&&1===i.nodeType)return i.innerHTML;if("string"==typeof t&&!Et.test(t)&&!Ft[(Mt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(_t,"<$1></$2>");try{
for(;n<o;n++)i=this[n]||{},1===i.nodeType&&(ot.cleanData(m(i,!1)),i.innerHTML=t);i=0}catch(t){}}i&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=ot.map(this,function(t){return[t.nextSibling,t.parentNode]}),e=0;return this.domManip(arguments,function(i){var n=t[e++],o=t[e++];o&&(n&&n.parentNode!==o&&(n=this.nextSibling),ot(this).remove(),o.insertBefore(i,n))},!0),e?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,i){t=K.apply([],t);var n,o,r,s,a,c,u=0,l=this.length,d=this,f=l-1,g=t[0],b=ot.isFunction(g);if(b||!(l<=1||"string"!=typeof g||ot.support.checkClone)&&Nt.test(g))return this.each(function(n){var o=d.eq(n);b&&(t[0]=g.call(this,n,o.html())),o.domManip(t,e,i)});if(l&&(n=ot.buildFragment(t,this[0].ownerDocument,!1,!i&&this),o=n.firstChild,1===n.childNodes.length&&(n=o),o)){for(r=ot.map(m(n,"script"),h),s=r.length;u<l;u++)a=n,u!==f&&(a=ot.clone(a,!0,!0),s&&ot.merge(r,m(a,"script"))),e.call(this[u],a,u);if(s)for(c=r[r.length-1].ownerDocument,ot.map(r,p),u=0;u<s;u++)a=r[u],Dt.test(a.type||"")&&!gt.access(a,"globalEval")&&ot.contains(c,a)&&(a.src?ot._evalUrl(a.src):ot.globalEval(a.textContent.replace(Ut,"")))}return this}}),ot.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ot.fn[t]=function(t){for(var i,n=[],o=ot(t),r=o.length-1,s=0;s<=r;s++)i=s===r?this:this.clone(!0),ot(o[s])[e](i),Y.apply(n,i.get());return this.pushStack(n)}}),ot.extend({clone:function(t,e,i){var n,o,r,s,a=t.cloneNode(!0),c=ot.contains(t.ownerDocument,t);if(!(ot.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ot.isXMLDoc(t)))for(s=m(a),r=m(t),n=0,o=r.length;n<o;n++)b(r[n],s[n]);if(e)if(i)for(r=r||m(t),s=s||m(a),n=0,o=r.length;n<o;n++)g(r[n],s[n]);else g(t,a);return s=m(a,"script"),s.length>0&&f(s,!c&&m(t,"script")),a},buildFragment:function(t,e,i,n){for(var o,r,s,a,c,u,l=0,d=t.length,h=e.createDocumentFragment(),p=[];l<d;l++)if((o=t[l])||0===o)if("object"===ot.type(o))ot.merge(p,o.nodeType?[o]:o);else if(Ot.test(o)){for(r=r||h.appendChild(e.createElement("div")),s=(Mt.exec(o)||["",""])[1].toLowerCase(),a=Ft[s]||Ft._default,r.innerHTML=a[1]+o.replace(_t,"<$1></$2>")+a[2],u=a[0];u--;)r=r.lastChild;ot.merge(p,r.childNodes),r=h.firstChild,r.textContent=""}else p.push(e.createTextNode(o));for(h.textContent="",l=0;o=p[l++];)if((!n||-1===ot.inArray(o,n))&&(c=ot.contains(o.ownerDocument,o),r=m(h.appendChild(o),"script"),c&&f(r),i))for(u=0;o=r[u++];)Dt.test(o.type||"")&&i.push(o);return h},cleanData:function(t){for(var i,n,r,s,a,c,u=ot.event.special,l=0;(n=t[l])!==e;l++){if(o.accepts(n)&&(a=n[gt.expando])&&(i=gt.cache[a])){if(r=Object.keys(i.events||{}),r.length)for(c=0;(s=r[c])!==e;c++)u[s]?ot.event.remove(n,s):ot.removeEvent(n,s,i.handle);gt.cache[a]&&delete gt.cache[a]}delete ft.cache[n[ft.expando]]}},_evalUrl:function(t){return ot.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})}}),ot.fn.extend({wrapAll:function(t){var e;return ot.isFunction(t)?this.each(function(e){ot(this).wrapAll(t.call(this,e))}):(this[0]&&(e=ot(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return ot.isFunction(t)?this.each(function(e){ot(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ot(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=ot.isFunction(t);return this.each(function(i){ot(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){ot.nodeName(this,"body")||ot(this).replaceWith(this.childNodes)}).end()}});var $t,Bt,Vt=/^(none|table(?!-c[ea]).+)/,Ht=/^margin/,qt=new RegExp("^("+rt+")(.*)$","i"),zt=new RegExp("^("+rt+")(?!px)[a-z%]+$","i"),Wt=new RegExp("^([+-])=("+rt+")","i"),Gt={BODY:"block"},Xt={position:"absolute",visibility:"hidden",display:"block"},Jt={letterSpacing:0,fontWeight:400},Qt=["Top","Right","Bottom","Left"],Kt=["Webkit","O","Moz","ms"];ot.fn.extend({css:function(t,i){return ot.access(this,function(t,i,n){var o,r,s={},a=0;if(ot.isArray(i)){for(o=w(t),r=i.length;a<r;a++)s[i[a]]=ot.css(t,i[a],!1,o);return s}return n!==e?ot.style(t,i,n):ot.css(t,i)},t,i,arguments.length>1)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){y(this)?ot(this).show():ot(this).hide()})}}),ot.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=$t(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,i,n,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,s,a,c=ot.camelCase(i),u=t.style;if(i=ot.cssProps[c]||(ot.cssProps[c]=v(u,c)),a=ot.cssHooks[i]||ot.cssHooks[c],n===e)return a&&"get"in a&&(r=a.get(t,!1,o))!==e?r:u[i];s=typeof n,"string"===s&&(r=Wt.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(ot.css(t,i)),s="number"),null==n||"number"===s&&isNaN(n)||("number"!==s||ot.cssNumber[c]||(n+="px"),ot.support.clearCloneStyle||""!==n||0!==i.indexOf("background")||(u[i]="inherit"),a&&"set"in a&&(n=a.set(t,n,o))===e||(u[i]=n))}},css:function(t,i,n,o){var r,s,a,c=ot.camelCase(i);return i=ot.cssProps[c]||(ot.cssProps[c]=v(t.style,c)),a=ot.cssHooks[i]||ot.cssHooks[c],a&&"get"in a&&(r=a.get(t,!0,n)),r===e&&(r=$t(t,i,o)),"normal"===r&&i in Jt&&(r=Jt[i]),""===n||n?(s=parseFloat(r),!0===n||ot.isNumeric(s)?s||0:r):r}}),$t=function(t,i,n){var o,r,s,a=n||w(t),c=a?a.getPropertyValue(i)||a[i]:e,u=t.style;return a&&(""!==c||ot.contains(t.ownerDocument,t)||(c=ot.style(t,i)),zt.test(c)&&Ht.test(i)&&(o=u.width,r=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=c,c=a.width,u.width=o,u.minWidth=r,u.maxWidth=s)),c},ot.each(["height","width"],function(t,e){ot.cssHooks[e]={get:function(t,i,n){if(i)return 0===t.offsetWidth&&Vt.test(ot.css(t,"display"))?ot.swap(t,Xt,function(){return S(t,e,n)}):S(t,e,n)},set:function(t,i,n){var o=n&&w(t);return x(t,i,n?C(t,e,n,ot.support.boxSizing&&"border-box"===ot.css(t,"boxSizing",!1,o),o):0)}}}),ot(function(){ot.support.reliableMarginRight||(ot.cssHooks.marginRight={get:function(t,e){if(e)return ot.swap(t,{display:"inline-block"},$t,[t,"marginRight"])}}),!ot.support.pixelPosition&&ot.fn.position&&ot.each(["top","left"],function(t,e){ot.cssHooks[e]={get:function(t,i){if(i)return i=$t(t,e),zt.test(i)?ot(t).position()[e]+"px":i}}})}),ot.expr&&ot.expr.filters&&(ot.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},ot.expr.filters.visible=function(t){return!ot.expr.filters.hidden(t)}),ot.each({margin:"",padding:"",border:"Width"},function(t,e){ot.cssHooks[t+e]={expand:function(i){for(var n=0,o={},r="string"==typeof i?i.split(" "):[i];n<4;n++)o[t+Qt[n]+e]=r[n]||r[n-2]||r[0];return o}},Ht.test(t)||(ot.cssHooks[t+e].set=x)});var Yt=/%20/g,Zt=/\[\]$/,te=/\r?\n/g,ee=/^(?:submit|button|image|reset|file)$/i,ie=/^(?:input|select|textarea|keygen)/i;ot.fn.extend({serialize:function(){return ot.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ot.prop(this,"elements");return t?ot.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ot(this).is(":disabled")&&ie.test(this.nodeName)&&!ee.test(t)&&(this.checked||!It.test(t))}).map(function(t,e){var i=ot(this).val();return null==i?null:ot.isArray(i)?ot.map(i,function(t){return{name:e.name,value:t.replace(te,"\r\n")}}):{name:e.name,value:i.replace(te,"\r\n")}}).get()}}),ot.param=function(t,i){var n,o=[],r=function(t,e){e=ot.isFunction(e)?e():null==e?"":e,o[o.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(i===e&&(i=ot.ajaxSettings&&ot.ajaxSettings.traditional),ot.isArray(t)||t.jquery&&!ot.isPlainObject(t))ot.each(t,function(){r(this.name,this.value)});else for(n in t)A(n,t[n],i,r);return o.join("&").replace(Yt,"+")},ot.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ot.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),ot.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var ne,oe,re=ot.now(),se=/\?/,ae=/#.*$/,ce=/([?&])_=[^&]*/,ue=/^(.*?):[ \t]*([^\r\n]*)$/gm,le=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,de=/^(?:GET|HEAD)$/,he=/^\/\//,pe=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,fe=ot.fn.load,ge={},me={},be="*/".concat("*");try{oe=q.href}catch(t){oe=z.createElement("a"),oe.href="",oe=oe.href}ne=pe.exec(oe.toLowerCase())||[],ot.fn.load=function(t,i,n){if("string"!=typeof t&&fe)return fe.apply(this,arguments);var o,r,s,a=this,c=t.indexOf(" ");return c>=0&&(o=t.slice(c),t=t.slice(0,c)),ot.isFunction(i)?(n=i,i=e):i&&"object"==typeof i&&(r="POST"),a.length>0&&ot.ajax({url:t,type:r,dataType:"html",data:i}).done(function(t){s=arguments,a.html(o?ot("<div>").append(ot.parseHTML(t)).find(o):t)}).complete(n&&function(t,e){a.each(n,s||[t.responseText,e,t])}),this},ot.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ot.fn[e]=function(t){return this.on(e,t)}}),ot.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:oe,type:"GET",isLocal:le.test(ne[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":be,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ot.parseJSON,"text xml":ot.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?_(_(t,ot.ajaxSettings),e):_(ot.ajaxSettings,t)},ajaxPrefilter:j(ge),ajaxTransport:j(me),ajax:function(t,i){function n(t,i,n,a){var u,d,v,y,k,C=i;2!==w&&(w=2,c&&clearTimeout(c),o=e,s=a||"",x.readyState=t>0?4:0,u=t>=200&&t<300||304===t,n&&(y=M(h,x,n)),y=O(h,y,x,u),u?(h.ifModified&&(k=x.getResponseHeader("Last-Modified"),k&&(ot.lastModified[r]=k),(k=x.getResponseHeader("etag"))&&(ot.etag[r]=k)),204===t||"HEAD"===h.type?C="nocontent":304===t?C="notmodified":(C=y.state,d=y.data,v=y.error,u=!v)):(v=C,!t&&C||(C="error",t<0&&(t=0))),x.status=t,x.statusText=(i||C)+"",u?g.resolveWith(p,[d,C,x]):g.rejectWith(p,[x,C,v]),x.statusCode(b),b=e,l&&f.trigger(u?"ajaxSuccess":"ajaxError",[x,h,u?d:v]),m.fireWith(p,[x,C]),l&&(f.trigger("ajaxComplete",[x,h]),--ot.active||ot.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=e),i=i||{};var o,r,s,a,c,u,l,d,h=ot.ajaxSetup({},i),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?ot(p):ot.event,g=ot.Deferred(),m=ot.Callbacks("once memory"),b=h.statusCode||{},v={},y={},w=0,k="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!a)for(a={};e=ue.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?s:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return w||(t=y[i]=y[i]||t,v[t]=e),this},overrideMimeType:function(t){return w||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(w<2)for(e in t)b[e]=[b[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||k;return o&&o.abort(e),n(0,e),this}};if(g.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,h.url=((t||h.url||oe)+"").replace(ae,"").replace(he,ne[1]+"//"),h.type=i.method||i.type||h.method||h.type,h.dataTypes=ot.trim(h.dataType||"*").toLowerCase().match(st)||[""],null==h.crossDomain&&(u=pe.exec(h.url.toLowerCase()),h.crossDomain=!(!u||u[1]===ne[1]&&u[2]===ne[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(ne[3]||("http:"===ne[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=ot.param(h.data,h.traditional)),L(ge,h,i,x),2===w)return x;l=h.global,l&&0==ot.active++&&ot.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!de.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(se.test(r)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=ce.test(r)?r.replace(ce,"$1_="+re++):r+(se.test(r)?"&":"?")+"_="+re++)),h.ifModified&&(ot.lastModified[r]&&x.setRequestHeader("If-Modified-Since",ot.lastModified[r]),ot.etag[r]&&x.setRequestHeader("If-None-Match",ot.etag[r])),(h.data&&h.hasContent&&!1!==h.contentType||i.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+be+"; q=0.01":""):h.accepts["*"]);for(d in h.headers)x.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(!1===h.beforeSend.call(p,x,h)||2===w))return x.abort();k="abort";for(d in{success:1,error:1,complete:1})x[d](h[d]);if(o=L(me,h,i,x)){x.readyState=1,l&&f.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(c=setTimeout(function(){x.abort("timeout")},h.timeout));try{w=1,o.send(v,n)}catch(t){if(!(w<2))throw t;n(-1,t)}}else n(-1,"No Transport");return x},getJSON:function(t,e,i){return ot.get(t,e,i,"json")},getScript:function(t,i){return ot.get(t,e,i,"script")}}),ot.each(["get","post"],function(t,i){ot[i]=function(t,n,o,r){return ot.isFunction(n)&&(r=r||o,o=n,n=e),ot.ajax({url:t,type:i,dataType:r,data:n,success:o})}}),ot.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return ot.globalEval(t),t}}}),ot.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),ot.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,o){e=ot("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&o("error"===t.type?404:200,t.type)}),z.head.appendChild(e[0])},abort:function(){i&&i()}}}});var ve=[],ye=/(=)\?(?=&|$)|\?\?/;ot.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ve.pop()||ot.expando+"_"+re++;return this[t]=!0,t}}),ot.ajaxPrefilter("json jsonp",function(i,n,o){var r,s,a,c=!1!==i.jsonp&&(ye.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&ye.test(i.data)&&"data");if(c||"jsonp"===i.dataTypes[0])return r=i.jsonpCallback=ot.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,c?i[c]=i[c].replace(ye,"$1"+r):!1!==i.jsonp&&(i.url+=(se.test(i.url)?"&":"?")+i.jsonp+"="+r),i.converters["script json"]=function(){return a||ot.error(r+" was not called"),a[0]},i.dataTypes[0]="json",s=t[r],t[r]=function(){a=arguments},o.always(function(){t[r]=s,i[r]&&(i.jsonpCallback=n.jsonpCallback,ve.push(r)),a&&ot.isFunction(s)&&s(a[0]),a=s=e}),"script"}),ot.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var we=ot.ajaxSettings.xhr(),ke={0:200,1223:204},xe=0,Ce={};t.ActiveXObject&&ot(t).on("unload",function(){for(var t in Ce)Ce[t]();Ce=e}),ot.support.cors=!!we&&"withCredentials"in we,ot.support.ajax=we=!!we,ot.ajaxTransport(function(t){var i;if(ot.support.cors||we&&!t.crossDomain)return{send:function(n,o){var r,s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)a[r]=t.xhrFields[r];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)a.setRequestHeader(r,n[r]);i=function(t){return function(){i&&(delete Ce[s],i=a.onload=a.onerror=null,"abort"===t?a.abort():"error"===t?o(a.status||404,a.statusText):o(ke[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:e,a.getAllResponseHeaders()))}},a.onload=i(),a.onerror=i("error"),i=Ce[s=xe++]=i("abort"),a.send(t.hasContent&&t.data||null)},abort:function(){i&&i()}}});var Se,Te,Pe=/^(?:toggle|show|hide)$/,Ae=new RegExp("^(?:([+-])=|)("+rt+")([a-z%]*)$","i"),je=/queueHooks$/,Le=[R],_e={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),o=Ae.exec(e),r=o&&o[3]||(ot.cssNumber[t]?"":"px"),s=(ot.cssNumber[t]||"px"!==r&&+n)&&Ae.exec(ot.css(i.elem,t)),a=1,c=20;if(s&&s[3]!==r){r=r||s[3],o=o||[],s=+n||1;do{a=a||".5",s/=a,ot.style(i.elem,t,s+r)}while(a!==(a=i.cur()/n)&&1!==a&&--c)}return o&&(s=i.start=+s||+n||0,i.unit=r,i.end=o[1]?s+(o[1]+1)*o[2]:+o[2]),i}]};ot.Animation=ot.extend(N,{tweener:function(t,e){ot.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,o=t.length;n<o;n++)i=t[n],_e[i]=_e[i]||[],_e[i].unshift(e)},prefilter:function(t,e){e?Le.unshift(t):Le.push(t)}}),ot.Tween=U,U.prototype={constructor:U,init:function(t,e,i,n,o,r){this.elem=t,this.prop=i,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(ot.cssNumber[i]?"":"px")},cur:function(){var t=U.propHooks[this.prop];return t&&t.get?t.get(this):U.propHooks._default.get(this)},run:function(t){var e,i=U.propHooks[this.prop];return this.options.duration?this.pos=e=ot.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):U.propHooks._default.set(this),this}},U.prototype.init.prototype=U.prototype,U.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=ot.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){ot.fx.step[t.prop]?ot.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[ot.cssProps[t.prop]]||ot.cssHooks[t.prop])?ot.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ot.each(["toggle","show","hide"],function(t,e){var i=ot.fn[e];ot.fn[e]=function(t,n,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(F(e,!0),t,n,o)}}),ot.fn.extend({fadeTo:function(t,e,i,n){return this.filter(y).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var o=ot.isEmptyObject(t),r=ot.speed(e,i,n),s=function(){var e=N(this,ot.extend({},t),r);(o||gt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,o||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(t,i,n){var o=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=i,i=t,t=e),i&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",r=ot.timers,s=gt.get(this);if(i)s[i]&&s[i].stop&&o(s[i]);else for(i in s)s[i]&&s[i].stop&&je.test(i)&&o(s[i]);for(i=r.length;i--;)r[i].elem!==this||null!=t&&r[i].queue!==t||(r[i].anim.stop(n),e=!1,r.splice(i,1));!e&&n||ot.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=gt.get(this),n=i[t+"queue"],o=i[t+"queueHooks"],r=ot.timers,s=n?n.length:0;for(i.finish=!0,ot.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<s;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),ot.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ot.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),ot.speed=function(t,e,i){var n=t&&"object"==typeof t?ot.extend({},t):{complete:i||!i&&e||ot.isFunction(t)&&t,duration:t,easing:i&&e||e&&!ot.isFunction(e)&&e};return n.duration=ot.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ot.fx.speeds?ot.fx.speeds[n.duration]:ot.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){ot.isFunction(n.old)&&n.old.call(this),n.queue&&ot.dequeue(this,n.queue)},n},ot.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},ot.timers=[],ot.fx=U.prototype.init,ot.fx.tick=function(){var t,i=ot.timers,n=0;for(Se=ot.now();n<i.length;n++)(t=i[n])()||i[n]!==t||i.splice(n--,1);i.length||ot.fx.stop(),Se=e},ot.fx.timer=function(t){t()&&ot.timers.push(t)&&ot.fx.start()},ot.fx.interval=13,ot.fx.start=function(){Te||(Te=setInterval(ot.fx.tick,ot.fx.interval))},ot.fx.stop=function(){clearInterval(Te),Te=null},ot.fx.speeds={slow:600,fast:200,_default:400},ot.fx.step={},ot.expr&&ot.expr.filters&&(ot.expr.filters.animated=function(t){return ot.grep(ot.timers,function(e){return t===e.elem}).length}),ot.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){ot.offset.setOffset(this,t,e)});var i,n,o=this[0],r={top:0,left:0},s=o&&o.ownerDocument;if(s)return i=s.documentElement,ot.contains(i,o)?(typeof o.getBoundingClientRect!==H&&(r=o.getBoundingClientRect()),n=$(s),{top:r.top+n.pageYOffset-i.clientTop,left:r.left+n.pageXOffset-i.clientLeft}):r},ot.offset={setOffset:function(t,e,i){var n,o,r,s,a,c,u,l=ot.css(t,"position"),d=ot(t),h={};"static"===l&&(t.style.position="relative"),a=d.offset(),r=ot.css(t,"top"),c=ot.css(t,"left"),u=("absolute"===l||"fixed"===l)&&(r+c).indexOf("auto")>-1,u?(n=d.position(),s=n.top,o=n.left):(s=parseFloat(r)||0,o=parseFloat(c)||0),ot.isFunction(e)&&(e=e.call(t,i,a)),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+o),"using"in e?e.using.call(t,h):d.css(h)}},ot.fn.extend({position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===ot.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ot.nodeName(t[0],"html")||(n=t.offset()),n.top+=ot.css(t[0],"borderTopWidth",!0),n.left+=ot.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-ot.css(i,"marginTop",!0),left:e.left-n.left-ot.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||W;t&&!ot.nodeName(t,"html")&&"static"===ot.css(t,"position");)t=t.offsetParent;return t||W})}}),ot.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(i,n){var o="pageYOffset"===n;ot.fn[i]=function(r){return ot.access(this,function(i,r,s){var a=$(i);if(s===e)return a?a[n]:i[r];a?a.scrollTo(o?t.pageXOffset:s,o?s:t.pageYOffset):i[r]=s},i,r,arguments.length,null)}}),ot.each({Height:"height",Width:"width"},function(t,i){ot.each({padding:"inner"+t,content:i,"":"outer"+t},function(n,o){ot.fn[o]=function(o,r){var s=arguments.length&&(n||"boolean"!=typeof o),a=n||(!0===o||!0===r?"margin":"border");return ot.access(this,function(i,n,o){var r;return ot.isWindow(i)?i.document.documentElement["client"+t]:9===i.nodeType?(r=i.documentElement,Math.max(i.body["scroll"+t],r["scroll"+t],i.body["offset"+t],r["offset"+t],r["client"+t])):o===e?ot.css(i,n,a):ot.style(i,n,o,a)},i,s?o:e,s,null)}})}),ot.fn.size=function(){return this.length},ot.fn.andSelf=ot.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ot:"function"==typeof define&&define.amd&&define("jquery",[],function(){return ot}),"object"==typeof t&&"object"==typeof t.document&&(t.jQuery=t.$=ot)}(window),define("can/util/can",[],function(){var t="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global,e={};"undefined"!=typeof GLOBALCAN&&!1===GLOBALCAN||(t.can=e),e.global=t,e.k=function(){},e.isDeferred=function(t){return e.dev&&e.dev.warn("can.isDeferred: this function is deprecated and will be removed in a future release. can.isPromise replaces the functionality of can.isDeferred."),t&&"function"==typeof t.then&&"function"==typeof t.pipe},e.isPromise=function(t){return!!t&&(window.Promise&&t instanceof Promise||e.isFunction(t.then)&&(void 0===e.List||!(t instanceof e.List)))},e.isMapLike=function(t){return e.Map&&(t instanceof e.Map||t&&t.___get)};var i=0;e.cid=function(t,e){return t._cid||(i++,t._cid=(e||"")+i),t._cid},e.VERSION="2.3.29",e.simpleExtend=function(t,e){for(var i in e)t[i]=e[i];return t},e.last=function(t){return t&&t[t.length-1]},e.isDOM=function(t){return(t.ownerDocument||t)===e.global.document},e.childNodes=function(t){var e=t.childNodes;if("length"in e)return e;for(var i=t.firstChild,n=[];i;)n.push(i),i=i.nextSibling;return n};var n=Function.prototype.bind;e.proxy=n?function(t,e){return n.call(t,e)}:function(t,e){return function(){return t.apply(e,arguments)}},e.frag=function(t,i){var n,o=i||e.document||e.global.document;return t&&"string"!=typeof t?11===t.nodeType?t:"number"==typeof t.nodeType?(n=o.createDocumentFragment(),n.appendChild(t),n):"number"==typeof t.length?(n=o.createDocumentFragment(),e.each(t,function(t){n.appendChild(e.frag(t))}),e.childNodes(n).length||n.appendChild(o.createTextNode("")),n):(n=e.buildFragment(""+t,o),e.childNodes(n).length||n.appendChild(o.createTextNode("")),n):(n=e.buildFragment(null==t?"":""+t,o),n.childNodes.length||n.appendChild(o.createTextNode("")),n)},e.scope=e.viewModel=function(t,i,n){t=e.$(t);var o=e.data(t,"scope")||e.data(t,"viewModel");switch(o||(o=new e.Map,e.data(t,"scope",o),e.data(t,"viewModel",o)),arguments.length){case 0:case 1:return o;case 2:return o.attr(i);default:return o.attr(i,n),t}};var o=function(t){var e=String(t).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return e?{href:e[0]||"",protocol:e[1]||"",authority:e[2]||"",host:e[3]||"",hostname:e[4]||"",port:e[5]||"",pathname:e[6]||"",search:e[7]||"",hash:e[8]||""}:null};return e.joinURIs=function(t,e){return e=o(e||""),t=o(t||""),e&&t?(e.protocol||t.protocol)+(e.protocol||e.authority?e.authority:t.authority)+function(t){var e=[];return t.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(t){"/.."===t?e.pop():e.push(t)}),e.join("").replace(/^\//,"/"===t.charAt(0)?"/":"")}(e.protocol||e.authority||"/"===e.pathname.charAt(0)?e.pathname:e.pathname?(t.authority&&!t.pathname?"/":"")+t.pathname.slice(0,t.pathname.lastIndexOf("/")+1)+e.pathname:t.pathname)+(e.protocol||e.authority||e.pathname?e.search:e.search||t.search)+e.hash:null},e.import=function(t,i){var n=new e.Deferred;return"object"==typeof window.System&&e.isFunction(window.System.import)?window.System.import(t,{name:i}).then(e.proxy(n.resolve,n),e.proxy(n.reject,n)):window.define&&window.define.amd?window.require([t],function(t){n.resolve(t)}):window.steal?steal.steal(t,function(t){n.resolve(t)}):window.require?n.resolve(window.require(t)):n.resolve(),n.promise()},e.__observe=function(){},e.isNode="object"==typeof process&&"[object process]"==={}.toString.call(process),e.isBrowserWindow="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"==typeof SimpleDOM,e.isWebWorker="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,e}),define("can/util/attr",["can/util/can"],function(t){var e={xlink:"http://www.w3.org/1999/xlink"},i=t.global.setImmediate||function(t){return setTimeout(t,0)},n={input:!0,textarea:!0,select:!0},o=function(e,i){return i in e||t.document&&n[e.nodeName.toLowerCase()]},r={MutationObserver:t.global.MutationObserver||t.global.WebKitMutationObserver||t.global.MozMutationObserver,map:{class:function(t,e){return e=e||"","http://www.w3.org/2000/svg"===t.namespaceURI?t.setAttribute("class",e):t.className=e,e},value:"value",innertext:"innerText",innerhtml:"innerHTML",textcontent:"textContent",for:"htmlFor",checked:!0,disabled:!0,readonly:function(t,e){return t.readOnly=!(!e&&"string"!=typeof e),e},required:!0,src:function(t,e){return null==e||""===e?(t.removeAttribute("src"),null):(t.setAttribute("src",e),e)},style:function(){var e=t.global.document&&document.createElement("div");return e&&e.style&&"cssText"in e.style?function(t,e){return t.style.cssText=e||""}:function(t,e){return t.setAttribute("style",e)}}()},defaultValue:["input","textarea"],setAttrOrProp:function(t,e,i){e=e.toLowerCase(),!0!==r.map[e]||i?this.set(t,e,i):this.remove(t,e)},setSelectValue:function(t,e){if(null!=e)for(var i=t.getElementsByTagName("option"),n=0;n<i.length;n++)if(e==i[n].value)return void(i[n].selected=!0);t.selectedIndex=-1},set:function(e,i,n){var s=t.isDOM(e)&&r.MutationObserver;i=i.toLowerCase();var a;s||(a=r.get(e,i));var c,u=r.map[i];"function"==typeof u?c=u(e,n):!0===u&&o(e,i)?(c=e[i]=!0,"checked"===i&&"radio"===e.type&&t.inArray((e.nodeName+"").toLowerCase(),r.defaultValue)>=0&&(e.defaultChecked=!0)):"string"==typeof u&&o(e,u)?(c=n,e[u]===n&&"OPTION"!==e.nodeName.toUpperCase()||(e[u]=n),"value"===u&&t.inArray((e.nodeName+"").toLowerCase(),r.defaultValue)>=0&&(e.defaultValue=n)):r.setAttribute(e,i,n),s||c===a||r.trigger(e,i,a)},setAttribute:function(){var i=t.global.document;if(i&&document.createAttribute)try{i.createAttribute("{}")}catch(t){var n={},o=document.createElement("div");return function(t,i,r){var s,a,c,u=i.charAt(0);"{"!==u&&"("!==u&&"*"!==u||!t.setAttributeNode?(c=i.split(":"),1!==c.length?t.setAttributeNS(e[c[0]],i,r):t.setAttribute(i,r)):(s=n[i],s||(o.innerHTML="<div "+i+'=""></div>',s=n[i]=o.childNodes[0].attributes[0]),a=s.cloneNode(),a.value=r,t.setAttributeNode(a))}}return function(t,e,i){t.setAttribute(e,i)}}(),trigger:function(e,n,o){if(t.data(t.$(e),"canHasAttributesBindings"))return n=n.toLowerCase(),i(function(){t.trigger(e,{type:"attributes",attributeName:n,target:e,oldValue:o,bubbles:!1},[])})},get:function(t,e){e=e.toLowerCase();var i=r.map[e];return"string"==typeof i&&o(t,i)?t[i]:!0===i&&o(t,e)?t[e]:t.getAttribute(e)},remove:function(t,e){e=e.toLowerCase();var i;r.MutationObserver||(i=r.get(t,e));var n=r.map[e];"function"==typeof n&&n(t,void 0),!0===n&&o(t,e)?t[e]=!1:"string"==typeof n&&o(t,n)?t[n]="":t.removeAttribute(e),r.MutationObserver||null==i||r.trigger(t,e,i)},has:function(){var e=t.global.document&&document.createElement("div");return e&&e.hasAttribute?function(t,e){return t.hasAttribute(e)}:function(t,e){return null!==t.getAttribute(e)}}()};return r}),define("can/event",["can/util/can"],function(t){return t.addEvent=function(t,e){var i=this.__bindEvents||(this.__bindEvents={});return(i[t]||(i[t]=[])).push({handler:e,name:t}),this},t.listenTo=function(e,i,n){var o=this.__listenToEvents;o||(o=this.__listenToEvents={});var r=t.cid(e),s=o[r];s||(s=o[r]={obj:e,events:{}});var a=s.events[i];a||(a=s.events[i]=[]),a.push(n),t.bind.call(e,i,n)},t.stopListening=function(e,i,n){var o=this.__listenToEvents,r=o,s=0;if(!o)return this;if(e){var a=t.cid(e);if((r={})[a]=o[a],!o[a])return this}for(var c in r){var u,l=r[c];e=o[c].obj,i?(u={})[i]=l.events[i]:u=l.events;for(var d in u){var h=u[d]||[];for(s=0;s<h.length;)n&&n===h[s]||!n?(t.unbind.call(e,d,h[s]),h.splice(s,1)):s++;h.length||delete l.events[d]}t.isEmptyObject(l.events)&&delete o[c]}return this},t.removeEvent=function(t,e,i){if(!this.__bindEvents)return this;for(var n,o=this.__bindEvents[t]||[],r=0,s="function"==typeof e;r<o.length;)n=o[r],(i?i(n,t,e):s&&n.handler===e||!s&&(n.cid===e||!e))?o.splice(r,1):r++;return this},t.dispatch=function(t,e){var i=this.__bindEvents;if(i){var n;"string"==typeof t?(n=t,t={type:t}):n=t.type;var o=i[n];if(o){o=o.slice(0);var r=[t];e&&r.push.apply(r,e);for(var s=0,a=o.length;s<a;s++)o[s].handler.apply(this,r);return t}}},t.one=function(e,i){var n=function(){return t.unbind.call(this,e,n),i.apply(this,arguments)};return t.bind.call(this,e,n),this},t.event={on:function(){return 0===arguments.length&&t.Control&&this instanceof t.Control?t.Control.prototype.on.call(this):t.addEvent.apply(this,arguments)},off:function(){return 0===arguments.length&&t.Control&&this instanceof t.Control?t.Control.prototype.off.call(this):t.removeEvent.apply(this,arguments)},bind:t.addEvent,unbind:t.removeEvent,
delegate:function(e,i,n){return t.addEvent.call(this,i,n)},undelegate:function(e,i,n){return t.removeEvent.call(this,i,n)},trigger:t.dispatch,one:t.one,addEvent:t.addEvent,removeEvent:t.removeEvent,listenTo:t.listenTo,stopListening:t.stopListening,dispatch:t.dispatch},t.event}),define("can/fragment",["can/util/can"],function(t){var e=/^\s*<(\w+)[^>]*>/,i={}.toString,n=function(n,o,r){void 0===o&&(o=e.test(n)&&RegExp.$1),n&&"[object Function]"===i.call(n.replace)&&(n=n.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>"));var s=r.createElement("div"),a=r.createElement("div");"tbody"===o||"tfoot"===o||"thead"===o||"colgroup"===o?(a.innerHTML="<table>"+n+"</table>",s=3===a.firstChild.nodeType?a.lastChild:a.firstChild):"col"===o?(a.innerHTML="<table><colgroup>"+n+"</colgroup></table>",s=3===a.firstChild.nodeType?a.lastChild:a.firstChild.firstChild):"tr"===o?(a.innerHTML="<table><tbody>"+n+"</tbody></table>",s=3===a.firstChild.nodeType?a.lastChild:a.firstChild.firstChild):"td"===o||"th"===o?(a.innerHTML="<table><tbody><tr>"+n+"</tr></tbody></table>",s=3===a.firstChild.nodeType?a.lastChild:a.firstChild.firstChild.firstChild):"option"===o?(a.innerHTML="<select>"+n+"</select>",s=3===a.firstChild.nodeType?a.lastChild:a.firstChild):s.innerHTML=""+n;var c={},u=t.childNodes(s);c.length=u.length;for(var l=0;l<u.length;l++)c[l]=u[l];return[].slice.call(c)};return t.buildFragment=function(t,e){if(t&&11===t.nodeType)return t;e?e.length&&(e=e[0]):e=document;for(var i=n(t,void 0,e),o=(e||document).createDocumentFragment(),r=0,s=i.length;r<s;r++)o.appendChild(i[r]);return o},function(){if("<-\n>"!==t.buildFragment("<-\n>",document).firstChild.nodeValue){var e=t.buildFragment;t.buildFragment=function(t,i){var n=e(t,i);return 1===n.childNodes.length&&3===n.childNodes[0].nodeType&&(n.childNodes[0].nodeValue=t),n}}}(),t}),define("can/util/isArrayLike",["can/util/can"],function(t){t.isArrayLike=function(t){var e=t&&"boolean"!=typeof t&&"number"!=typeof t&&"length"in t&&t.length;return"function"!=typeof arr&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}}),define("can/util/each",["can/util/can","can/util/isArrayLike"],function(t){return t.each=function(e,i,n){var o,r,s,a=0;if(e)if(t.isArrayLike(e))if(t.List&&e instanceof t.List)for(r=e.attr("length");a<r&&(s=e.attr(a),!1!==i.call(n||s,s,a,e));a++);else for(r=e.length;a<r&&(s=e[a],!1!==i.call(n||s,s,a,e));a++);else if("object"==typeof e)if(t.Map&&e instanceof t.Map||e===t.route){var c=t.Map.keys(e);for(a=0,r=c.length;a<r&&(o=c[a],s=e.attr(o),!1!==i.call(n||s,s,o,e));a++);}else for(o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&!1===i.call(n||e[o],e[o],o,e))break;return e},t}),define("can/util/inserted",["can/util/can"],function(t){t.inserted=function(e,i){if(e.length){e=t.makeArray(e);for(var n,o,r=i||e[0].ownerDocument||e[0],s=!1,a=t.$(r.contains?r:r.body),c=0;void 0!==(o=e[c]);c++){if(!s){if(!o.getElementsByTagName)continue;if(!t.has(a,o).length)return;s=!0}if(s&&o.getElementsByTagName){n=t.makeArray(o.getElementsByTagName("*")),t.trigger(o,"inserted",[],!1);for(var u,l=0;void 0!==(u=n[l]);l++)t.trigger(u,"inserted",[],!1)}}}},t.appendChild=function(e,i,n){var o;o=11===i.nodeType?t.makeArray(t.childNodes(i)):[i],e.appendChild(i),t.inserted(o,n)},t.insertBefore=function(e,i,n,o){var r;r=11===i.nodeType?t.makeArray(t.childNodes(i)):[i],e.insertBefore(i,n),t.inserted(r,o)}}),define("can/util/jquery",["jquery","can/util/can","can/util/attr","can/event","can/fragment","can/util/each","can/util/inserted"],function(t,e,i,n){var o=function(t){return t.nodeName&&(1===t.nodeType||9===t.nodeType)||t==window||t.addEventListener};t=t||window.jQuery,t.extend(e,t,{trigger:function(i,n,r,s){o(i)?t.event.trigger(n,r,i,!s):i.trigger?i.trigger(n,r):("string"==typeof n&&(n={type:n}),n.target=n.target||i,r&&(r.length&&"string"==typeof r?r=[r]:r.length||(r=[r])),r||(r=[]),e.dispatch.call(i,n,r))},event:e.event,addEvent:e.addEvent,removeEvent:e.removeEvent,buildFragment:e.buildFragment,$:t,each:e.each,bind:function(i,n){return this.bind&&this.bind!==e.bind?this.bind(i,n):o(this)?t.event.add(this,i,n):e.addEvent.call(this,i,n),this},unbind:function(i,n){return this.unbind&&this.unbind!==e.unbind?this.unbind(i,n):o(this)?t.event.remove(this,i,n):e.removeEvent.call(this,i,n),this},delegate:function(i,n,r){return this.delegate?this.delegate(i,n,r):o(this)?t(this).delegate(i,n,r):e.bind.call(this,n,r),this},undelegate:function(i,n,r){return this.undelegate?this.undelegate(i,n,r):o(this)?t(this).undelegate(i,n,r):e.unbind.call(this,n,r),this},proxy:e.proxy,attr:i}),e.on=e.bind,e.off=e.unbind,t.each(["append","filter","addClass","remove","data","get","has"],function(t,i){e[i]=function(t){return t[i].apply(t,e.makeArray(arguments).slice(1))}});var r=t.cleanData;t.cleanData=function(i){t.each(i,function(t,i){i&&e.trigger(i,"removed",[],!1)}),r(i)};var s,a=t.fn.domManip;t.fn.domManip=function(t,e,i){for(var n=1;n<arguments.length;n++)if("function"==typeof arguments[n]){s=n;break}return a.apply(this,arguments)},t(document.createElement("div")).append(document.createElement("div"));var c=function(t){var i=t.childNodes;if("length"in i)return e.makeArray(i);for(var n=t.firstChild,o=[];n;)o.push(n),n=n.nextSibling;return o};void 0===s?(t.fn.domManip=a,e.each(["after","prepend","before","append","replaceWith"],function(i){var n=t.fn[i];t.fn[i]=function(){var t=[],i=e.makeArray(arguments);null!=i[0]&&("string"==typeof i[0]&&(i[0]=e.buildFragment(i[0])),t=11===i[0].nodeType?c(i[0]):e.isArrayLike(i[0])?e.makeArray(i[0]):[i[0]]);var o=n.apply(this,i);return e.inserted(t),o}})):t.fn.domManip=2===s?function(t,i,n){return a.call(this,t,i,function(t){var i;11===t.nodeType&&(i=e.makeArray(e.childNodes(t)));var o=n.apply(this,arguments);return e.inserted(i||[t]),o})}:function(t,i){return a.call(this,t,function(t){var n;11===t.nodeType&&(n=e.makeArray(e.childNodes(t)));var o=i.apply(this,arguments);return e.inserted(n||[t]),o})};var u=t.attr;t.attr=function(t,i){if(e.isDOM(t)&&e.attr.MutationObserver)return u.apply(this,arguments);var n,o;arguments.length>=3&&(n=u.call(this,t,i));var r=u.apply(this,arguments);return arguments.length>=3&&(o=u.call(this,t,i)),o!==n&&e.attr.trigger(t,i,n),r};var l=t.removeAttr;return t.removeAttr=function(t,i){if(e.isDOM(t)&&e.attr.MutationObserver)return l.apply(this,arguments);var n=u.call(this,t,i),o=l.apply(this,arguments);return null!=n&&e.attr.trigger(t,i,n),o},t.event.special.attributes={setup:function(){if(e.isDOM(this)&&e.attr.MutationObserver){var t=this,i=new e.attr.MutationObserver(function(i){i.forEach(function(i){var n=e.simpleExtend({},i);e.trigger(t,n,[])})});i.observe(this,{attributes:!0,attributeOldValue:!0}),e.data(e.$(this),"canAttributesObserver",i)}else e.data(e.$(this),"canHasAttributesBindings",!0)},teardown:function(){e.isDOM(this)&&e.attr.MutationObserver?(e.data(e.$(this),"canAttributesObserver").disconnect(),t.removeData(this,"canAttributesObserver")):t.removeData(this,"canHasAttributesBindings")}},t.event.special.inserted={},t.event.special.removed={},e}),define("can/util/library",["can/util/jquery"],function(t){return t}),define("can/util/bind",["can/util/library"],function(t){return t.bindAndSetup=function(){return t.addEvent.apply(this,arguments),this.__inSetup||(this._bindings?this._bindings++:(this._bindings=1,this._bindsetup&&this._bindsetup())),this},t.unbindAndTeardown=function(e,i){if(!this.__bindEvents)return this;var n=this.__bindEvents[e]||[],o=n.length;return t.removeEvent.apply(this,arguments),null===this._bindings?this._bindings=0:this._bindings=this._bindings-(o-n.length),!this._bindings&&this._bindteardown&&this._bindteardown(),this},t}),define("can/bubble",["can/util/library"],function(t){var e=t.bubble={bind:function(t,i){if(!t.__inSetup){var n,o=e.events(t,i),r=o.length;t._bubbleBindings||(t._bubbleBindings={});for(var s=0;s<r;s++)n=o[s],t._bubbleBindings[n]?t._bubbleBindings[n]++:(t._bubbleBindings[n]=1,e.childrenOf(t,n))}},unbind:function(i,n){for(var o,r=e.events(i,n),s=r.length,a=0;a<s;a++)o=r[a],i._bubbleBindings&&i._bubbleBindings[o]--,i._bubbleBindings&&!i._bubbleBindings[o]&&(delete i._bubbleBindings[o],e.teardownChildrenFrom(i,o),t.isEmptyObject(i._bubbleBindings)&&delete i._bubbleBindings)},add:function(i,n,o){if(n instanceof t.Map&&i._bubbleBindings)for(var r in i._bubbleBindings)i._bubbleBindings[r]&&(e.teardownFromParent(i,n,r),e.toParent(n,i,o,r))},addMany:function(t,i){for(var n=0,o=i.length;n<o;n++)e.add(t,i[n],n)},remove:function(i,n){if(n instanceof t.Map&&i._bubbleBindings)for(var o in i._bubbleBindings)i._bubbleBindings[o]&&e.teardownFromParent(i,n,o)},removeMany:function(t,i){for(var n=0,o=i.length;n<o;n++)e.remove(t,i[n])},set:function(i,n,o,r){return t.isMapLike(o)&&e.add(i,o,n),t.isMapLike(r)&&e.remove(i,r),o},events:function(t,e){return t.constructor._bubbleRule(e,t)},toParent:function(e,i,n,o){t.listenTo.call(i,e,o,function(){var r=t.makeArray(arguments),s=r.shift();r[0]=(t.List&&i instanceof t.List?i.indexOf(e):n)+(r[0]?"."+r[0]:""),s.triggeredNS=s.triggeredNS||{},s.triggeredNS[i._cid]||(s.triggeredNS[i._cid]=!0,t.trigger(i,s,r),"change"===o&&t.trigger(i,r[0],[r[2],r[3]]))})},childrenOf:function(t,i){t._each(function(n,o){n&&n.bind&&e.toParent(n,t,o,i)})},teardownFromParent:function(e,i,n){i&&i.unbind&&t.stopListening.call(e,i,n)},teardownChildrenFrom:function(t,i){t._each(function(n){e.teardownFromParent(t,n,i)})},isBubbling:function(t,e){return t._bubbleBindings&&t._bubbleBindings[e]}};return e}),define("can/util/object/isplain",["can/util/can"],function(t){var e=Object.prototype.hasOwnProperty,i=function(t){return null!==t&&t==t.window},n=function(t){if(!t||"object"!=typeof t||t.nodeType||i(t))return!1;try{if(t.constructor&&!e.call(t,"constructor")&&!e.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}var n;for(n in t);return void 0===n||e.call(t,n)};return t.isPlainObject=n,t}),define("can/map_helpers",["can/util/library","can/util/object/isplain"],function(t){var e={attrParts:function(t,e){return e?[t]:"object"==typeof t?t:(""+t).split(".")},canMakeObserve:function(e){return e&&!t.isPromise(e)&&(t.isArray(e)||t.isPlainObject(e))},serialize:function(){var i=null;return function(n,o,r){var s=t.cid(n),a=!1;return i||(a=!0,i={attr:{},serialize:{}}),i[o][s]=r,n.each(function(s,a){var c,u=t.isMapLike(s),l=u&&i[o][t.cid(s)];void 0!==(c=l||(n["___"+o]?n["___"+o](a,s):e.getValue(n,a,s,o)))&&(r[a]=c)}),a&&(i=null),r}}(),getValue:function(e,i,n,o){return t.isMapLike(n)?n[o]():n},define:null,addComputedAttr:function(t,e,i){t._computedAttrs[e]={compute:i,count:0,handler:function(i,n,o){t._triggerChange(e,"set",n,o,i.batchNum)}}},addToMap:function(e,o){var r;i||(r=n,i={});var s=e._cid,a=t.cid(e);return i[a]||(i[a]={obj:e,instance:o,added:!s}),r},getMapFromObject:function(t){return i&&i[t._cid]&&i[t._cid].instance},twoLevelDeepExtend:function(e,i){for(var n in i)e[n]=e[n]||{},t.simpleExtend(e[n],i[n])}},i=null,n=function(){for(var t in i)i[t].added&&delete i[t].obj._cid;i=null};return e}),define("can/util/string",["can/util/library"],function(t){var e=/_|-/,i=/\=\=/,n=/([A-Z]+)([A-Z][a-z])/g,o=/([a-z\d])([A-Z])/g,r=/([a-z\d])([A-Z])/g,s=/\{([^\}]+)\}/g,a=/"/g,c=/'/g,u=/-+(.)?/g,l=/[a-z][A-Z]/g,d=function(t,e,i){var n=t[e];return void 0===n&&!0===i&&(n=t[e]={}),n},h=function(t){return/^f|^o/.test(typeof t)},p=function(t){return""+(null===t||void 0===t||isNaN(t)&&""+t=="NaN"?"":t)};return t.extend(t,{esc:function(t){return p(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(a,"&#34;").replace(c,"&#39;")},getObject:function(e,i,n){var o,r,s,a,c=e?e.split("."):[],u=c.length,l=0;if(i=t.isArray(i)?i:[i||window],a=i.length,!u)return i[0];for(l;l<a;l++){for(o=i[l],s=void 0,r=0;r<u&&h(o);r++)s=o,o=d(s,c[r]);if(void 0!==s&&void 0!==o)break}if(!1===n&&void 0!==o&&delete s[c[r-1]],!0===n&&void 0===o)for(o=i[0],r=0;r<u&&h(o);r++)o=d(o,c[r],!0);return o},capitalize:function(t,e){return t.charAt(0).toUpperCase()+t.slice(1)},camelize:function(t){return p(t).replace(u,function(t,e){return e?e.toUpperCase():""})},hyphenate:function(t){return p(t).replace(l,function(t,e){return t.charAt(0)+"-"+t.charAt(1).toLowerCase()})},underscore:function(t){return t.replace(i,"/").replace(n,"$1_$2").replace(o,"$1_$2").replace(r,"_").toLowerCase()},sub:function(e,i,n){var o=[];return e=e||"",o.push(e.replace(s,function(e,r){var s=t.getObject(r,i,!0!==n&&void 0);return void 0===s||null===s?(o=null,""):h(s)&&o?(o.push(s),""):""+s})),null===o?o:o.length<=1?o[0]:o},replacer:s,undHash:e}),t}),define("can/construct",["can/util/string"],function(t){var e,i=0;try{Object.getOwnPropertyDescriptor({}),e=!0}catch(t){e=!1}var n=function(t,e){var i=Object.getOwnPropertyDescriptor(t,e);return i&&(i.get||i.set)?i:null},o=function(e,i,o){o=o||e;var r;for(var s in e)(r=n(e,s))?this._defineProperty(o,i,s,r):t.Construct._overwrite(o,i,s,e[s])},r=function(e,i,n){n=n||e;for(var o in e)t.Construct._overwrite(n,i,o,e[o])};return t.Construct=function(){if(arguments.length)return t.Construct.extend.apply(t.Construct,arguments)},t.extend(t.Construct,{constructorExtends:!0,newInstance:function(){var t,e=this.instance();return e.setup&&(e.__inSetup=!0,t=e.setup.apply(e,arguments),delete e.__inSetup),e.init&&e.init.apply(e,t||arguments),e},_inherit:e?o:r,_defineProperty:function(t,e,i,n){Object.defineProperty(t,i,n)},_overwrite:function(t,e,i,n){t[i]=n},setup:function(e,i){this.defaults=t.extend(!0,{},e.defaults,this.defaults)},instance:function(){i=1;var t=new this;return i=0,t},extend:function(e,n,o){function r(){if(!i)return this.constructor!==u&&arguments.length&&u.constructorExtends?u.extend.apply(u,arguments):u.newInstance.apply(u,arguments)}var s=e,a=n,c=o;"string"!=typeof s&&(c=a,a=s,s=null),c||(c=a,a=null),c=c||{};var u,l,d,h,p,f,g,m,b,v=this,y=this.prototype;b=this.instance(),t.Construct._inherit(c,y,b),s?(l=s.split("."),g=l.pop()):a&&a.shortName?g=a.shortName:this.shortName&&(g=this.shortName),"undefined"==typeof constructorName&&(u=function(){return r.apply(this,arguments)});for(f in v)v.hasOwnProperty(f)&&(u[f]=v[f]);t.Construct._inherit(a,v,u),s&&(d=t.getObject(l.join("."),window,!0),m=d,h=t.underscore(s.replace(/\./g,"_")),p=t.underscore(g),d[g]=u),t.extend(u,{constructor:u,prototype:b,namespace:m,_shortName:p,fullName:s,_fullName:h}),void 0!==g&&(u.shortName=g),u.prototype.constructor=u;var w=[v].concat(t.makeArray(arguments)),k=u.setup.apply(u,w);return u.init&&u.init.apply(u,k||w),u}}),t.Construct.prototype.setup=function(){},t.Construct.prototype.init=function(){},t.Construct}),define("can/util/batch",["can/util/can"],function(t){var e=1,i=0,n=null,o=null,r=[],s=!1;t.batch={start:function(t){if(1===++i){var n={events:[],callbacks:[],number:e++};r.push(n),t&&n.callbacks.push(t),o=n}},stop:function(e,a){if(e?i=0:i--,0===i){o=null;var c;if(!1===s){s=!0;for(var u,l=[];c=r.shift();){var d=c.events;l.push.apply(l,c.callbacks),n=c,t.batch.batchNum=c.number;var h;for(a&&t.batch.start(),u=0,h=d.length;u<h;u++)t.dispatch.apply(d[u][0],d[u][1]);t.batch._onDispatchedEvents(c.number),n=null,t.batch.batchNum=void 0}for(u=l.length-1;u>=0;u--)l[u]();s=!1}}},_onDispatchedEvents:function(){},trigger:function(e,i,n){e.__inSetup||(i="string"==typeof i?{type:i}:i,o?(i.batchNum=o.number,o.events.push([e,[i,n]])):i.batchNum?t.dispatch.call(e,i,n):r.length?(t.batch.start(),i.batchNum=o.number,o.events.push([e,[i,n]]),t.batch.stop()):t.dispatch.call(e,i,n))},afterPreviousEvents:function(e){var i=t.last(r);if(i){var n={};t.bind.call(n,"ready",e),i.events.push([n,[{type:"ready"},[]]])}else e({})},after:function(t){var e=o||n;e?e.callbacks.push(t):t({})}}}),define("can/get_value_and_bind",["can/util/library"],function(t){function e(e,i,n){this.newObserved={},this.oldObserved=null,this.func=e,this.context=i,this.compute=n,this.onDependencyChange=t.proxy(this.onDependencyChange,this),this.depth=null,this.childDepths={},this.ignore=0,this.inBatch=!1,this.ready=!1,n.observedInfo=this,this.setReady=t.proxy(this._setReady,this)}t.simpleExtend(e.prototype,{getPrimaryDepth:function(){return this.compute._primaryDepth},_setReady:function(){this.ready=!0},getDepth:function(){return null!==this.depth?this.depth:this.depth=this._getDepth()},_getDepth:function(){var t=0,e=this.childDepths;for(var i in e)e[i]>t&&(t=e[i]);return t+1},addEdge:function(t){t.obj.bind(t.event,this.onDependencyChange),t.obj.observedInfo&&(this.childDepths[t.obj._cid]=t.obj.observedInfo.getDepth(),this.depth=null)},removeEdge:function(t){t.obj.unbind(t.event,this.onDependencyChange),t.obj.observedInfo&&(delete this.childDepths[t.obj._cid],this.depth=null)},dependencyChange:function(t){this.bound&&this.ready&&(void 0!==t.batchNum?t.batchNum!==this.batchNum&&(e.registerUpdate(this),this.batchNum=t.batchNum):this.updateCompute(t.batchNum))},onDependencyChange:function(t,e,i){this.dependencyChange(t,e,i)},updateCompute:function(t){if(this.bound){var e=this.value;this.getValueAndBind(),this.compute.updater(this.value,e,t)}},getValueAndBind:function(){this.bound=!0,this.oldObserved=this.newObserved||{},this.ignore=0,this.newObserved={},this.ready=!1,s.push(this),this.value=this.func.call(this.context),s.pop(),this.updateBindings(),t.batch.afterPreviousEvents(this.setReady)},updateBindings:function(){var t,e,i=this.newObserved,n=this.oldObserved;for(t in i)e=i[t],n[t]?n[t]=null:this.addEdge(e);for(t in n)(e=n[t])&&this.removeEdge(e)},teardown:function(){this.bound=!1;for(var t in this.newObserved){var e=this.newObserved[t];this.removeEdge(e)}this.newObserved={}}});var i,n=[],o=1/0,r=0;e.registerUpdate=function(t,e){var i=t.getDepth()-1,s=t.getPrimaryDepth();o=Math.min(s,o),r=Math.max(s,r);var a=n[s]||(n[s]={observeInfos:[],current:1/0,max:0});(a.observeInfos[i]||(a.observeInfos[i]=[])).push(t),a.current=Math.min(i,a.current),a.max=Math.max(i,a.max)},e.updateUntil=function(t,e){for(var s;;){if(!(o<=r&&o<=t))return;var a=n[o];if(a&&a.current<=a.max){if(a.current>e)return;var c=a.observeInfos[a.current];c&&(s=c.pop())?s.updateCompute(i):a.current++}else o++}},e.batchEnd=function(t){var e;for(i=t;;){if(!(o<=r))return n=[],o=1/0,void(r=0);var s=n[o];if(s&&s.current<=s.max){var a=s.observeInfos[s.current];a&&(e=a.pop())?e.updateCompute(t):s.current++}else o++}};var s=[];return t.__observe=function(t,e){var i=s[s.length-1];if(i&&!i.ignore){var n=e+"",o=t._cid+"|"+n;i.traps?i.traps.push({obj:t,event:n,name:o}):i.newObserved[o]||(i.newObserved[o]={obj:t,event:n})}},t.__reading=t.__observe,t.__trapObserves=function(){if(s.length){var t=s[s.length-1],e=t.traps=[];return function(){return t.traps=null,e}}return function(){return[]}},t.__observes=function(t){var e=s[s.length-1];if(e)for(var i=0,n=t.length;i<n;i++){var o=t[i],r=o.name;e.newObserved[r]||(e.newObserved[r]=o)}},t.__isRecordingObserves=function(){var t=s.length,e=s[t-1];return t&&0===e.ignore&&e},t.__notObserve=function(t){return function(){if(s.length){var e=s[s.length-1];e.ignore++;var i=t.apply(this,arguments);return e.ignore--,i}return t.apply(this,arguments)}},t.batch._onDispatchedEvents=e.batchEnd,e}),define("can/map",["can/util/library","can/util/bind","can/bubble","can/map_helpers","can/construct","can/util/batch","can/get_value_and_bind"],function(t,e,i,n){var o={constructor:!0},r=t.Map=t.Construct.extend({setup:function(e){if(t.Construct.setup.apply(this,arguments),this._computedPropertyNames=[],t.Map){this.defaults||(this.defaults={});for(var i in this.prototype)"define"!==i&&"constructor"!==i&&("function"!=typeof this.prototype[i]||this.prototype[i].prototype instanceof t.Construct)?this.defaults[i]=this.prototype[i]:this.prototype[i].isComputed&&this._computedPropertyNames.push(i);n.define&&n.define(this,e.prototype.define)}!t.List||this.prototype instanceof t.List||(this.List=r.List.extend({Map:this},{}))},shortName:"Map",_bubbleRule:function(t){return"change"===t||t.indexOf(".")>=0?["change"]:[]},bind:t.bindAndSetup,unbind:t.unbindAndTeardown,id:"id",keys:function(e){var i=[];t.__observe(e,"__keys");for(var n in e._data)i.push(n);return i}},{setup:function(e){e instanceof t.Map&&(e=e.serialize()),this._data={},t.cid(this,".map"),this._setupComputedProperties();var i=e&&n.addToMap(e,this),o=this._setupDefaults(e),r=t.extend(t.extend(!0,{},o),e);this.attr(r),i&&i()},_setupComputedProperties:function(){this._computedAttrs={};for(var t=this.constructor._computedPropertyNames,e=0,i=t.length;e<i;e++){var o=t[e];n.addComputedAttr(this,o,this[o].clone(this))}},_setupDefaults:function(){return this.constructor.defaults||{}},attr:function(t,e){var i=typeof t;return void 0===t?this._getAttrs():"string"!==i&&"number"!==i?this._setAttrs(t,e):1===arguments.length?this._get(t+""):(this._set(t+"",e),this)},_get:function(e){var i=e.indexOf(".");if(i>=0){var n=this.___get(e);if(void 0!==n)return t.__observe(this,e),n;var o=e.substr(0,i),r=e.substr(i+1),s=this.__get(o);return s&&s._get?s._get(r):void 0}return this.__get(e)},__get:function(e){return o[e]||this._computedAttrs[e]||t.__observe(this,e),this.___get(e)},___get:function(t){if(void 0!==t){var e=this._computedAttrs[t];return e&&e.compute?e.compute():this._data.hasOwnProperty(t)?this._data[t]:void 0}return this._data},_set:function(e,i,n){var o,r=e.indexOf(".");if(r>=0&&!n){var s=e.substr(0,r),a=e.substr(r+1);if(o=this.__inSetup?void 0:this.___get(s),!t.isMapLike(o))throw new Error("can.Map: Object does not exist");o._set(a,i)}else o=this.__inSetup?void 0:this.___get(e),this.__convert&&(i=this.__convert(e,i)),this.__set(e,this.__type(i,e),o)},__type:function(e,i){if("object"==typeof e&&!(e instanceof t.Map)&&n.canMakeObserve(e)){var o=n.getMapFromObject(e);if(o)return o;if(t.isArray(e)){return new(0,t.List)(e)}return new(this.constructor.Map||t.Map)(e)}return e},__set:function(t,e,n){if(e!==n){var o=this._computedAttrs[t],r=o||void 0!==n||this.___get().hasOwnProperty(t)?"set":"add";this.___set(t,"object"==typeof e?i.set(this,t,e,n):e),o&&o.count||this._triggerChange(t,r,e,n),"object"==typeof n&&i.teardownFromParent(this,n)}},___set:function(t,e){var i=this._computedAttrs[t];i&&i.compute?i.compute(e):this._data[t]=e,"function"==typeof this.constructor.prototype[t]||i||(this[t]=e)},removeAttr:function(t){return this._remove(t)},_remove:function(t){var e=n.attrParts(t),i=e.shift(),o=this.___get(i);return e.length&&o?o.removeAttr(e):("string"==typeof t&&~t.indexOf(".")&&(i=t),this.__remove(i,o),o)},__remove:function(t,e){t in this._data&&(this.___remove(t),this._triggerChange(t,"remove",void 0,e))},___remove:function(t){delete this._data[t],t in this.constructor.prototype||delete this[t]},___serialize:function(t,e){return n.getValue(this,t,e,"serialize")},_getAttrs:function(){return n.serialize(this,"attr",{})},_setAttrs:function(e,i){e=t.simpleExtend({},e);var o,r,s=this;t.batch.start(),this._each(function(o,a){if("_cid"!==a){if(void 0===(r=e[a]))return void(i&&s.removeAttr(a));s.__convert&&(r=s.__convert(a,r)),t.isMapLike(o)&&n.canMakeObserve(r)?o.attr(r,i):o!==r&&s.__set(a,s.__type(r,a),o),delete e[a]}});for(o in e)"_cid"!==o&&(r=e[o],this._set(o,r,!0));return t.batch.stop(),this},serialize:function(){return n.serialize(this,"serialize",{})},_triggerChange:function(e,n,o,r,s){i.isBubbling(this,"change")&&t.batch.trigger(this,{type:"change",target:this,batchNum:s},[e,n,o,r]),t.batch.trigger(this,{type:e,target:this,batchNum:s},[o,r]),"remove"!==n&&"add"!==n||t.batch.trigger(this,{type:"__keys",target:this,batchNum:s})},_bindsetup:function(){},_bindteardown:function(){},one:t.one,bind:function(e,n){var o=this._computedAttrs&&this._computedAttrs[e];return o&&o.compute&&(o.count?o.count++:(o.count=1,o.compute.bind("change",o.handler))),i.bind(this,e),t.bindAndSetup.apply(this,arguments)},unbind:function(e,n){var o=this._computedAttrs&&this._computedAttrs[e];return o&&(1===o.count?(o.count=0,o.compute.unbind("change",o.handler)):o.count--),i.unbind(this,e),t.unbindAndTeardown.apply(this,arguments)},compute:function(e){if(t.isFunction(this.constructor.prototype[e]))return t.compute(this[e],this);var i=t.compute.read.reads(e),n=i.length-1;return t.compute(function(e){if(!arguments.length)return t.compute.read(this,i,{args:[]}).value;t.compute.read(this,i.slice(0,n)).value.attr(i[n].key,e)},this)},each:function(){return t.each.apply(void 0,[this].concat(t.makeArray(arguments)))},_each:function(t){var e=this.___get();for(var i in e)e.hasOwnProperty(i)&&t(e[i],i)},dispatch:t.dispatch});return r.prototype.on=r.prototype.bind,r.prototype.off=r.prototype.unbind,r.on=r.bind,r.off=r.unbind,r}),define("can/list",["can/util/library","can/map","can/bubble","can/map_helpers"],function(t,e,i,n){var o=[].splice,r=function(){var t={0:"a",length:1};return o.call(t,0,1),!t[0]}(),s=e.extend({Map:e},{setup:function(e,i){this.length=0,t.cid(this,".map"),this._setupComputedProperties(),e=e||[];var o;t.isPromise(e)?this.replace(e):(o=e.length&&n.addToMap(e,this),this.push.apply(this,t.makeArray(e||[]))),o&&o(),t.simpleExtend(this,i)},_triggerChange:function(i,n,o,r){e.prototype._triggerChange.apply(this,arguments);var s=+i;~(""+i).indexOf(".")||isNaN(s)||("add"===n?(t.batch.trigger(this,n,[o,s]),t.batch.trigger(this,"length",[this.length])):"remove"===n?(t.batch.trigger(this,n,[r,s]),t.batch.trigger(this,"length",[this.length])):t.batch.trigger(this,n,[o,s]))},___get:function(t){if(t){var e=this._computedAttrs[t];return e&&e.compute?e.compute():this[t]}return this},__set:function(e,i,n){if("number"==typeof(e=isNaN(+e)||e%1?e:+e)&&e>this.length-1){var o=new Array(e+1-this.length);return o[o.length-1]=i,this.push.apply(this,o),o}return t.Map.prototype.__set.call(this,""+e,i,n)},___set:function(t,e){this[t]=e,+t>=this.length&&(this.length=+t+1)},__remove:function(t,e){isNaN(+t)?(delete this[t],this._triggerChange(t,"remove",void 0,e)):this.splice(t,1)},_each:function(t){for(var e=this.___get(),i=0;i<e.length;i++)t(e[i],i)},serialize:function(){return n.serialize(this,"serialize",[])},splice:function(e,n){var s,a,c,u=t.makeArray(arguments),l=[],d=u.length>2;for(e=e||0,s=0,a=u.length-2;s<a;s++)c=s+2,u[c]=this.__type(u[c],c),l.push(u[c]),this[s+e]!==u[c]&&(d=!1);if(d&&this.length<=l.length)return l;void 0===n&&(n=u[1]=this.length-e);var h=o.apply(this,u);if(!r)for(s=this.length;s<h.length+this.length;s++)delete this[s];return t.batch.start(),n>0&&(i.removeMany(this,h),this._triggerChange(""+e,"remove",void 0,h)),u.length>2&&(i.addMany(this,l),this._triggerChange(""+e,"add",l,h)),t.batch.stop(),h},_getAttrs:function(){return n.serialize(this,"attr",[])},_setAttrs:function(e,i){e=t.makeArray(e),t.batch.start(),this._updateAttrs(e,i),t.batch.stop()},_updateAttrs:function(e,i){for(var o=Math.min(e.length,this.length),r=0;r<o;r++){var s=this[r],a=e[r];t.isMapLike(s)&&n.canMakeObserve(a)?s.attr(a,i):s!==a&&this._set(r+"",a)}e.length>this.length?this.push.apply(this,e.slice(this.length)):e.length<this.length&&i&&this.splice(e.length)}}),a=function(e){return e[0]&&t.isArray(e[0])?e[0]:t.makeArray(e)};return t.each({push:"length",unshift:0},function(e,n){var o=[][n];s.prototype[n]=function(){t.batch.start();for(var n,r,s=[],a=e?this.length:0,c=arguments.length;c--;)r=arguments[c],s[c]=i.set(this,c,this.__type(r,c));return n=o.apply(this,s),this.comparator&&!s.length||this._triggerChange(""+a,"add",s,void 0),t.batch.stop(),n}}),t.each({pop:"length",shift:0},function(e,n){s.prototype[n]=function(){if(this.length){var o=a(arguments),r=e&&this.length?this.length-1:0,s=[][n].apply(this,o);return t.batch.start(),this._triggerChange(""+r,"remove",void 0,[s]),s&&s.unbind&&i.remove(this,s),t.batch.stop(),s}}}),t.extend(s.prototype,{indexOf:function(e,i){return t.__observe(this,"length"),t.inArray(e,this,i)},join:function(){return t.__observe(this,"length"),[].join.apply(this,arguments)},reverse:function(){var e=[].reverse.call(t.makeArray(this));return this.replace(e)},slice:function(){t.__observe(this,"length");var e=Array.prototype.slice.apply(this,arguments);return new this.constructor(e)},concat:function(){var e=[];return t.each(t.makeArray(arguments),function(i,n){e[n]=i instanceof t.List?i.serialize():i}),new this.constructor(Array.prototype.concat.apply(this.serialize(),e))},forEach:function(e,i){return t.each(this,e,i||this)},replace:function(e){if(t.isPromise(e)){this._promise&&(this._promise.__isCurrentPromise=!1);var i=this._promise=e;i.__isCurrentPromise=!0;var n=this;e.then(function(t){i.__isCurrentPromise&&n.replace(t)})}else this.splice.apply(this,[0,this.length].concat(t.makeArray(e||[])));return this},filter:function(t,e){var i,n=new this.constructor,o=this;return this.each(function(r,s,a){(i=t.call(e|o,r,s,o))&&n.push(r)}),n},map:function(e,i){var n=new t.List,o=this;return this.each(function(t,r,s){var a=e.call(i|o,t,r,o);n.push(a)}),n}}),t.List=e.List=s,t.List}),define("can/util/string/deparam",["can/util/library","can/util/string"],function(t){var e=/^\d+$/,i=/([^\[\]]+)|(\[\])/g,n=/([^?#]*)(#.*)?$/,o=function(t){return decodeURIComponent(t.replace(/\+/g," "))};return t.extend(t,{deparam:function(r){var s,a,c={};return r&&n.test(r)&&(s=r.split("&"),t.each(s,function(t){var n=t.split("="),r=o(n.shift()),s=o(n.join("=")),u=c;if(r){n=r.match(i);for(var l=0,d=n.length-1;l<d;l++)u[n[l]]||(u[n[l]]=e.test(n[l+1])||"[]"===n[l+1]?[]:{}),u=u[n[l]];a=n.pop(),"[]"===a?u.push(s):u[a]=s}})),c}}),t}),define("can/route",["can/util/library","can/map","can/list","can/util/string/deparam"],function(t){var e,i,n,o,r=/\:([\w\.]+)/g,s=/^(?:&[^=]+=[^&]*)+/,a=function(e){var i=[];return t.each(e,function(e,n){i.push(("className"===n?"class":n)+'="'+("href"===n?e:t.esc(e))+'"')}),i.join(" ")},c=function(t,e){var i=0,n=0,o={};for(var r in t.defaults)t.defaults[r]===e[r]&&(o[r]=1,i++);for(;n<t.names.length;n++){if(!e.hasOwnProperty(t.names[n]))return-1;o[t.names[n]]||i++}return i},u=window.location,l=function(t){return(t+"").replace(/([.?*+\^$\[\]\\(){}|\-])/g,"\\$1")},d=t.each,h=t.extend,p=function(t){return t.toString.toString()!==Object.prototype.toString.toString()},f=function(e){return e&&"object"==typeof e&&!p(e)?(e=e instanceof t.Map?e:t.isFunction(e.slice)?e.slice():t.extend({},e),t.each(e,function(t,i){e[i]=f(t)})):void 0!==e&&null!==e&&t.isFunction(e.toString)&&(e=e.toString()),e},g=function(t){return t.replace(/\\/g,"")},m=[],b=function(i,r,s,a){o=1,m.push(r),clearTimeout(e),e=setTimeout(function(){o=0;var e=t.route.data.serialize(),i=t.route.param(e,!0);t.route._call("setURL",i,m),t.batch.trigger(v,"__url",[i,n]),n=i,m=[]},10)},v=t.extend({},t.event),y=function(t){var e=t.attr;return t.attr=function(t,i){var n,o=void 0===this.define||void 0===this.define[t]||!!this.define[t].serialize;return n=o?f(Array.apply(null,arguments)):arguments,e.apply(this,n)},t};t.route=function(e,i){var n=t.route._call("root");n.lastIndexOf("/")===n.length-1&&0===e.indexOf("/")&&(e=e.substr(1)),i=i||{};for(var o,s,a=[],c="",u=r.lastIndex=0,d=t.route._call("querySeparator"),h=t.route._call("matchSlashes");o=r.exec(e);)a.push(o[1]),c+=g(e.substring(u,r.lastIndex-o[0].length)),s="\\"+(g(e.substr(r.lastIndex,1))||d+(h?"":"|/")),c+="([^"+s+"]"+(i[o[1]]?"*":"+")+")",u=r.lastIndex;return c+=e.substr(u).replace("\\",""),t.route.routes[e]={test:new RegExp("^"+c+"($|"+l(d)+")"),route:e,names:a,defaults:i,length:e.split("/").length},t.route},h(t.route,{param:function(e,i){var n,o,s=0,a=e.route,u=0;if(delete e.route,d(e,function(){u++}),d(t.route.routes,function(t,i){if(o=c(t,e),o>s&&(n=t,s=o),o>=u)return!1}),t.route.routes[a]&&c(t.route.routes[a],e)===s&&(n=t.route.routes[a]),n){var l,p=h({},e),f=n.route.replace(r,function(t,i){return delete p[i],e[i]===n.defaults[i]?"":encodeURIComponent(e[i])}).replace("\\","");return d(n.defaults,function(t,e){p[e]===t&&delete p[e]}),l=t.param(p),i&&t.route.attr("route",n.route),f+(l?t.route._call("querySeparator")+l:"")}return t.isEmptyObject(e)?"":t.route._call("querySeparator")+t.param(e)},deparam:function(e){var i=t.route._call("root");i.lastIndexOf("/")===i.length-1&&0===e.indexOf("/")&&(e=e.substr(1));var n={length:-1
},o=t.route._call("querySeparator"),r=t.route._call("paramsMatcher");if(d(t.route.routes,function(t,i){t.test.test(e)&&t.length>n.length&&(n=t)}),n.length>-1){var s=e.match(n.test),a=s.shift(),c=e.substr(a.length-(s[s.length-1]===o?1:0)),u=c&&r.test(c)?t.deparam(c.slice(1)):{};return u=h(!0,{},n.defaults,u),d(s,function(t,e){t&&t!==o&&(u[n.names[e]]=decodeURIComponent(t))}),u.route=n.route,u}return e.charAt(0)!==o&&(e=o+e),r.test(e)?t.deparam(e.slice(1)):{}},data:y(new t.Map({})),map:function(e){var i;i=e.prototype instanceof t.Map?new e:e,t.route.data=y(i)},routes:{},ready:function(e){return!0!==e&&(t.route._setup(),(t.isBrowserWindow||t.isWebWorker)&&t.route.setState()),t.route},url:function(e,i){return i&&(t.__observe(v,"__url"),e=t.extend({},t.route.deparam(t.route._call("matchingPartOfURL")),e)),t.route._call("root")+t.route.param(e)},link:function(e,i,n,o){return"<a "+a(h({href:t.route.url(i,o)},n))+">"+e+"</a>"},current:function(e){return t.__observe(v,"__url"),this._call("matchingPartOfURL")===t.route.param(e)},bindings:{hashchange:{paramsMatcher:s,querySeparator:"&",matchSlashes:!1,bind:function(){t.bind.call(window,"hashchange",w)},unbind:function(){t.unbind.call(window,"hashchange",w)},matchingPartOfURL:function(){return(t.route.location||u).href.split(/#!?/)[1]||""},setURL:function(t){return u.hash!=="#"+t&&(u.hash="!"+t),t},root:"#!"}},defaultBinding:"hashchange",currentBinding:null,_setup:function(){t.route.currentBinding||(t.route._call("bind"),t.route.bind("change",b),t.route.currentBinding=t.route.defaultBinding)},_teardown:function(){t.route.currentBinding&&(t.route._call("unbind"),t.route.unbind("change",b),t.route.currentBinding=null),clearTimeout(e),o=0},_call:function(){var e=t.makeArray(arguments),i=e.shift(),n=t.route.bindings[t.route.currentBinding||t.route.defaultBinding],o=n[i];return o.apply?o.apply(n,e):o}}),d(["bind","unbind","on","off","delegate","undelegate","removeAttr","compute","_get","___get","each"],function(e){t.route[e]=function(){if(t.route.data[e])return t.route.data[e].apply(t.route.data,arguments)}}),t.route.attr=function(){return t.route.data.attr.apply(t.route.data,arguments)},t.route.batch=t.batch;var w=t.route.setState=function(){var e=t.route._call("matchingPartOfURL"),r=i;i=t.route.deparam(e),o&&e===n||(t.route.batch.start(),k(r,i,t.route.data),t.route.attr(i),t.route.batch.trigger(v,"__url",[e,n]),t.route.batch.stop())},k=function(t,e,i){for(var n in t)void 0===e[n]?i.removeAttr(n):"[object Object]"===Object.prototype.toString.call(t[n])&&k(t[n],e[n],i.attr(n))};return t.route}),define("can/control",["can/util/library","can/construct"],function(t){var e,i=function(e,i,n){return t.bind.call(e,i,n),function(){t.unbind.call(e,i,n)}},n=t.isFunction,o=t.extend,r=t.each,s=[].slice,a=/\{([^\}]+)\}/g,c=t.getObject("$.event.special",[t])||{},u=function(e,i,n,o){return t.delegate.call(e,i,n,o),function(){t.undelegate.call(e,i,n,o)}},l=function(e,n,o,r){return r?u(e,t.trim(r),n,o):i(e,n,o)},d=t.Control=t.Construct({setup:function(){if(t.Construct.setup.apply(this,arguments),t.Control){var e,i=this;i.actions={};for(e in i.prototype)i._isAction(e)&&(i.actions[e]=i._action(e))}},_shifter:function(e,i){var o="string"==typeof i?e[i]:i;return n(o)||(o=e[o]),function(){return e.called=i,o.apply(e,[this.nodeName?t.$(this):this].concat(s.call(arguments,0)))}},_isAction:function(t){var e=this.prototype[t],i=typeof e;return"constructor"!==t&&("function"===i||"string"===i&&n(this.prototype[e]))&&!!(c[t]||h[t]||/[^\w]/.test(t))},_action:function(i,n){if(a.lastIndex=0,n||!a.test(i)){var o=n?t.sub(i,this._lookup(n)):i;if(!o)return null;var r=t.isArray(o),s=r?o[1]:o,c=s.split(/\s+/g),u=c.pop();return{processor:h[u]||e,parts:[s,c.join(" "),u],delegate:r?o[0]:void 0}}},_lookup:function(t){return[t,window]},processors:{},defaults:{}},{setup:function(e,i){var n,r=this.constructor,s=r.pluginName||r._fullName;return this.element=t.$(e),s&&"can_control"!==s&&this.element.addClass(s),n=t.data(this.element,"controls"),n||(n=[],t.data(this.element,"controls",n)),n.push(this),this.options=o({},r.defaults,i),this.on(),[this.element,this.options]},on:function(e,i,n,o){if(!e){this.off();var r,s,a=this.constructor,c=this._bindings,u=a.actions,d=this.element,h=t.Control._shifter(this,"destroy");for(r in u)u.hasOwnProperty(r)&&(s=u[r]||a._action(r,this.options,this))&&(c.control[r]=s.processor(s.delegate||d,s.parts[2],s.parts[1],r,this));return t.bind.call(d,"removed",h),c.user.push(function(e){t.unbind.call(e,"removed",h)}),c.user.length}return"string"==typeof e&&(o=n,n=i,i=e,e=this.element),void 0===o&&(o=n,n=i,i=null),"string"==typeof o&&(o=t.Control._shifter(this,o)),this._bindings.user.push(l(e,n,o,i)),this._bindings.user.length},off:function(){var t=this.element[0],e=this._bindings;e&&(r(e.user||[],function(e){e(t)}),r(e.control||{},function(e){e(t)})),this._bindings={user:[],control:{}}},destroy:function(){if(null!==this.element){var e,i=this.constructor,n=i.pluginName||i._fullName;this.off(),n&&"can_control"!==n&&this.element.removeClass(n),e=t.data(this.element,"controls"),e.splice(t.inArray(this,e),1),t.trigger(this,"destroyed"),this.element=null}}}),h=t.Control.processors;return e=function(e,i,n,o,r){return l(e,i,t.Control._shifter(r,o),n)},r(["change","click","contextmenu","dblclick","keydown","keyup","keypress","mousedown","mousemove","mouseout","mouseover","mouseup","reset","resize","scroll","select","submit","focusin","focusout","mouseenter","mouseleave","touchstart","touchmove","touchcancel","touchend","touchleave","inserted","removed","dragstart","dragenter","dragover","dragleave","drag","drop","dragend"],function(t){h[t]=e}),d}),define("can/control/route",["can/util/library","can/route","can/control"],function(t){return t.Control.processors.route=function(e,i,n,o,r){n=n||"",t.route.routes[n]||("/"===n[0]&&(n=n.substring(1)),t.route(n));var s,a=function(e,i,a){if(t.route.attr("route")===n&&(void 0===e.batchNum||e.batchNum!==s)){s=e.batchNum;var c=t.route.attr();delete c.route,t.isFunction(r[o])?r[o](c):r[r[o]](c)}};return t.route.bind("change",a),function(){t.route.unbind("change",a)}},t}),define("can/model",["can/util/library","can/map","can/list"],function(t){var e=function(e,i,n){var o=new t.Deferred;return e.then(function(){var e=t.makeArray(arguments),r=!0;try{e[0]=n.apply(i,e)}catch(t){r=!1,o.rejectWith(o,[t].concat(e))}r&&o.resolveWith(o,e)},function(){o.rejectWith(this,arguments)}),"function"==typeof e.abort&&(o.abort=function(){return e.abort()}),o},i=0,n=function(e){return t.__observe(e,e.constructor.id),e.___get(e.constructor.id)},o=function(e,i,n,o,r,s){var a={};if("string"==typeof e){var c=e.split(/\s+/);a.url=c.pop(),c.length&&(a.type=c.pop())}else t.extend(a,e);return a.data="object"!=typeof i||t.isArray(i)?i:t.extend(a.data||{},i),a.url=t.sub(a.url,a.data,!0),t.ajax(t.extend({type:n||"post",dataType:o||"json",success:r,error:s},a))},r=function(i,o,r,s,a){var c;t.isArray(i)?(c=i[1],i=i[0]):c=i.serialize(),c=[c];var u,l,d=i.constructor;return"update"!==o&&"destroy"!==o||c.unshift(n(i)),l=d[o].apply(d,c),u=e(l,i,function(t){return i[a||o+"d"](t,l),i}),l.abort&&(u.abort=function(){l.abort()}),u.then(r,s),u},s={models:function(e,i,n){if(t.Model._reqs++,e){if(e instanceof this.List)return e;var o=this,r=[],s=o.List||f,a=i instanceof t.List?i:new s,c=e instanceof f,u=c?e.serialize():e;if(u=o.parseModels(u,n),u.data&&(e=u,u=u.data),void 0===u||!t.isArray(u))throw new Error("Could not get any raw data while converting using .models");return a.length&&a.splice(0),t.each(u,function(t){r.push(o.model(t,n))}),a.push.apply(a,r),t.isArray(e)||t.each(e,function(t,e){"data"!==e&&a.attr(e,t)}),setTimeout(t.proxy(this._clean,this),1),a}},model:function(e,i,n){if(e){e="function"==typeof e.serialize?e.serialize():this.parseModel(e,n);var o=e[this.id];(o||0===o)&&this.store[o]&&(i=this.store[o]);return i&&t.isFunction(i.attr)?i.attr(e,this.removeAttr||!1):new this(e)}}},a={parseModel:function(e){return function(i){return e?t.getObject(e,i):i}},parseModels:function(e){return function(i){if(t.isArray(i))return i;e=e||"data";var n=t.getObject(e,i);if(!t.isArray(n))throw new Error("Could not get any raw data while converting using .models");return n}}},c={create:{url:"_shortName",type:"post"},update:{data:function(e,i){i=i||{};var n=this.id;return i[n]&&i[n]!==e&&(i["new"+t.capitalize(e)]=i[n],delete i[n]),i[n]=e,i},type:"put"},destroy:{type:"delete",data:function(t,e){return e=e||{},e.id=e[this.id]=t,e}},findAll:{url:"_shortName"},findOne:{}},u=function(t,e){return function(i){return i=t.data?t.data.apply(this,arguments):i,o(e||this[t.url||"_url"],i,t.type||"get")}},l=function(t,e){if(t.resource){var i=t.resource.replace(/\/+$/,"");return"findAll"===e||"create"===e?i:i+"/{"+t.id+"}"}};t.Model=t.Map.extend({fullName:"can.Model",_reqs:0,setup:function(e,n,o,r){if("string"!=typeof n&&(r=o,o=n),r||(r=o),this.store={},t.Map.setup.apply(this,arguments),t.Model){o&&o.List?(this.List=o.List,this.List.Map=this):this.List=e.List.extend({Map:this},{});var d=this,h=t.proxy(this._clean,d);t.each(c,function(i,n){if(o&&o[n]&&("string"==typeof o[n]||"object"==typeof o[n])?d[n]=u(i,o[n]):o&&o.resource&&!t.isFunction(o[n])&&(d[n]=u(i,l(d,n))),d["make"+t.capitalize(n)]){var r=d["make"+t.capitalize(n)](d[n]);t.Construct._overwrite(d,e,n,function(){t.Model._reqs++;var e=r.apply(this,arguments),i=e.then(h,h);return i.abort=e.abort,i})}});var p={};t.each(s,function(i,n){var r="parse"+t.capitalize(n),s=o&&o[n]||d[n];"string"==typeof s?(d[r]=s,t.Construct._overwrite(d,e,n,i)):o&&o[n]&&(p[r]=!0)}),t.each(a,function(i,n){var r=o&&o[n]||d[n];if("string"==typeof r)t.Construct._overwrite(d,e,n,i(r));else if(!(o&&t.isFunction(o[n])||d[n])){var s=i();s.useModelConverter=p[n],t.Construct._overwrite(d,e,n,s)}}),"can.Model"!==d.fullName&&d.fullName||(d.fullName="Model"+ ++i),t.Model._reqs=0,this._url=this._shortName+"/{"+this.id+"}"}},_ajax:u,_makeRequest:r,_clean:function(){if(!--t.Model._reqs)for(var e in this.store)this.store[e]._bindings||delete this.store[e];return arguments[0]},models:s.models,model:s.model},{setup:function(e){var i=e&&e[this.constructor.id];t.Model._reqs&&null!=i&&(this.constructor.store[i]=this),t.Map.prototype.setup.apply(this,arguments)},isNew:function(){var t=n(this);return!(t||0===t)},save:function(t,e){return r(this,this.isNew()?"create":"update",t,e)},destroy:function(e,i){if(this.isNew()){var n=this,o=t.Deferred();return o.then(e,i),o.done(function(t){n.destroyed(t)}).resolve(n)}return r(this,"destroy",e,i,"destroyed")},_bindsetup:function(){var e=this.___get(this.constructor.id);return null!=e&&(this.constructor.store[e]=this),t.Map.prototype._bindsetup.apply(this,arguments)},_bindteardown:function(){return delete this.constructor.store[n(this)],t.Map.prototype._bindteardown.apply(this,arguments)},___set:function(e,i){t.Map.prototype.___set.call(this,e,i),e===this.constructor.id&&this._bindings&&(this.constructor.store[n(this)]=this)}});var d=function(t){return function(e,i,n){return this[t](e,null,n)}},h=function(t){return this.parseModel.useModelConverter?this.model(t):this.parseModel(t)},p={makeFindAll:d("models"),makeFindOne:d("model"),makeCreate:h,makeUpdate:h,makeDestroy:h};t.each(p,function(i,n){t.Model[n]=function(n){return function(){var o=t.makeArray(arguments),r=t.isFunction(o[1])?o.splice(0,1):o.splice(0,2),s=e(n.apply(this,r),this,i);return s.then(o[0],o[1]),s}}}),t.each(["created","updated","destroyed"],function(e){t.Model.prototype[e]=function(i){var n=this,o=n.constructor;i&&"object"==typeof i&&this.attr(t.isFunction(i.attr)?i.attr():i),t.dispatch.call(this,{type:e,target:this},[]),t.dispatch.call(o,e,[this])}});var f=t.Model.List=t.List.extend({_bubbleRule:function(e,i){var n=t.List._bubbleRule(e,i);return n.push("destroyed"),n}},{setup:function(e){t.isPlainObject(e)&&!t.isArray(e)?(t.List.prototype.setup.apply(this),this.replace(t.isPromise(e)?e:this.constructor.Map.findAll(e))):t.List.prototype.setup.apply(this,arguments),this.bind("destroyed",t.proxy(this._destroyed,this))},_destroyed:function(t,e){if(/\w+/.test(e))for(var i;(i=this.indexOf(t.target))>-1;)this.splice(i,1)}});return t.Model}),define("can/read",["can/util/library"],function(t){var e=function(t,i,o){o=o||{};for(var r,s,a={foundObservable:!1},c=n(t,0,i,o,a),u=i.length,l=0;l<u;){s=c;for(var d=0,h=e.propertyReaders.length;d<h;d++){var p=e.propertyReaders[d];if(p.test(c)){c=p.read(c,i[l],l,o,a);break}}if(l+=1,c=n(c,l,i,o,a,s),r=typeof c,l<i.length&&(null===c||"function"!==r&&"object"!==r))return o.earlyExit&&o.earlyExit(s,l-1,c),{value:void 0,parent:s}}return void 0===c&&o.earlyExit&&o.earlyExit(s,l-1),{value:c,parent:s}},i=function(t,e){var i=e[t-1];return i&&i.at},n=function(t,i,n,o,r,s){var a;do{a=!1;for(var c=0,u=e.valueReaders.length;c<u;c++)e.valueReaders[c].test(t,i,n,o)&&(t=e.valueReaders[c].read(t,i,n,o,r,s))}while(a);return t};e.valueReaders=[{name:"compute",test:function(t,e,n,o){return t&&t.isComputed&&!i(e,n)},read:function(e,i,n,o,r){return!1===o.readCompute&&i===n.length?e:(!r.foundObservable&&o.foundObservable&&(o.foundObservable(e,i),r.foundObservable=!0),e instanceof t.Compute?e.get():e())}},{name:"function",test:function(e,i,n,o){return!("function"!=typeof e||e.isComputed||t.Construct&&e.prototype instanceof t.Construct||t.route&&e===t.route)},read:function(e,n,o,r,s,a){return i(n,o)?n===o.length?t.proxy(e,a):e:r.callMethodsOnObservables&&t.isMapLike(a)?e.apply(a,r.args||[]):r.isArgument&&n===o.length?!1!==r.proxyMethods?t.proxy(e,a):e:e.apply(a,r.args||[])}}],e.propertyReaders=[{name:"map",test:t.isMapLike,read:function(t,e,i,n,o){!o.foundObservable&&n.foundObservable&&(n.foundObservable(t,i),o.foundObservable=!0);var r=t.attr(e.key);return void 0!==r?r:t[e.key]}},{name:"promise",test:function(e){return t.isPromise(e)},read:function(e,i,n,o,r){!r.foundObservable&&o.foundObservable&&(o.foundObservable(e,n),r.foundObservable=!0);var s=e.__observeData;return e.__observeData||(s=e.__observeData={isPending:!0,state:"pending",isResolved:!1,isRejected:!1,value:void 0,reason:void 0},t.cid(s),t.simpleExtend(s,t.event),e.then(function(t){s.isPending=!1,s.isResolved=!0,s.value=t,s.state="resolved",s.dispatch("state",["resolved","pending"])},function(t){s.isPending=!1,s.isRejected=!0,s.reason=t,s.state="rejected",s.dispatch("state",["rejected","pending"])})),t.__observe(s,"state"),i.key in s?s[i.key]:e[i.key]}},{name:"object",test:function(){return!0},read:function(t,e){if(null!=t)return e.key in t?t[e.key]:e.at&&o[e.key]&&"@"+e.key in t?(e.at=!1,t["@"+e.key]):void 0}}];var o={index:!0,key:!0,event:!0,element:!0,viewModel:!0};return e.write=function(e,i,n,o){return o=o||{},t.isMapLike(e)?!o.isArgument&&e._data&&e._data[i]&&e._data[i].isComputed?e._data[i](n):e.attr(i,n):e[i]&&e[i].isComputed?e[i](n):void("object"==typeof e&&(e[i]=n))},e.reads=function(t){var e=[],i=0,n=!1;"@"===t.charAt(0)&&(i=1,n=!0);for(var o="",r=i;r<t.length;r++){var s=t.charAt(r);"."===s||"@"===s?"\\"!==t.charAt(r-1)?(e.push({key:o,at:n}),n="@"===s,o=""):o=o.substr(0,o.length-1)+".":o+=s}return e.push({key:o,at:n}),e},e}),define("can/proto_compute",["can/util/library","can/util/bind","can/read","can/get_value_and_bind","can/util/batch"],function(t,e,i,n){t.Compute=function(e,i,n,o){t.cid(this,"compute");for(var r=[],s=0,a=arguments.length;s<a;s++)r[s]=arguments[s];var c=typeof r[1];"function"==typeof r[0]?this._setupGetterSetterFn(r[0],r[1],r[2],r[3]):r[1]?"string"===c?this._setupProperty(r[0],r[1],r[2]):"function"===c?this._setupSetter(r[0],r[1],r[2]):r[1]&&r[1].fn?this._setupAsyncCompute(r[0],r[1]):this._setupSettings(r[0],r[1]):this._setupSimpleValue(r[0]),this._args=r,this._primaryDepth=0,this.isComputed=!0},t.simpleExtend(t.Compute.prototype,{setPrimaryDepth:function(t){this._primaryDepth=t},_setupGetterSetterFn:function(e,i,n){this._set=i?t.proxy(e,i):e,this._get=i?t.proxy(e,i):e,this._canObserve=!1!==n;var o=r(this,e,i||this);t.simpleExtend(this,o)},_setupProperty:function(e,i,n){var o,r=t.isMapLike(e),s=this;r?(o=function(t,e,i){s.updater(e,i,t.batchNum)},this.hasDependencies=!0,this._get=function(){return e.attr(i)},this._set=function(t){e.attr(i,t)}):(o=function(){s.updater(s._get(),s.value)},this._get=function(){return t.getObject(i,[e])},this._set=function(n){var o=i.split("."),r=o.pop();t.getObject(o.join("."),[e])[r]=n}),this._on=function(r){t.bind.call(e,n||i,o),this.value=this._get()},this._off=function(){return t.unbind.call(e,n||i,o)}},_setupSetter:function(e,i,n){this.value=e,this._set=i,t.simpleExtend(this,n)},_setupSettings:function(t,e){if(this.value=t,this._set=e.set||this._set,this._get=e.get||this._get,!e.__selfUpdater){var i=this,n=this.updater;this.updater=function(){n.call(i,i._get(),i.value)}}this._on=e.on?e.on:this._on,this._off=e.off?e.off:this._off},_setupAsyncCompute:function(e,i){var n=this;this.value=e,this._setUpdates=!0,this.lastSetValue=new t.Compute(e),this._set=function(t){return t===n.lastSetValue.get()?this.value:n.lastSetValue.set(t)},this._get=function(){return s.call(i.context,n.lastSetValue.get())};var o,s=i.fn;if(0===s.length)o=r(this,s,i.context);else if(1===s.length)o=r(this,function(){return s.call(i.context,n.lastSetValue.get())},i);else{var a=this.updater,c=function(t){a.call(n,t,n.value)};this.updater=function(t){a.call(n,t,n.value)},o=r(this,function(){var t=s.call(i.context,n.lastSetValue.get(),c);return void 0!==t?t:this.value},this)}t.simpleExtend(this,o)},_setupSimpleValue:function(t){this.value=t},_bindsetup:t.__notObserve(function(){this.bound=!0,this._on(this.updater)}),_bindteardown:function(){this._off(this.updater),this.bound=!1},bind:t.bindAndSetup,unbind:t.unbindAndTeardown,clone:function(e){return e&&"function"==typeof this._args[0]?this._args[1]=e:e&&(this._args[2]=e),new t.Compute(this._args[0],this._args[1],this._args[2],this._args[3])},_on:t.k,_off:t.k,get:function(){var e=t.__isRecordingObserves();return e&&!1!==this._canObserve&&(t.__observe(this,"change"),this.bound||t.Compute.temporarilyBind(this)),this.bound?(e&&this.getDepth&&this.getDepth()>=e.getDepth()&&n.updateUntil(this.getPrimaryDepth(),this.getDepth()),this.value):this._get()},_get:function(){return this.value},set:function(t){var e=this.value,i=this._set(t,e);return this._setUpdates?this.value:this.hasDependencies?this._get():(this.value=void 0===i?this._get():i,o(this,this.value,e),this.value)},_set:function(t){return this.value=t},updater:function(t,e,i){this.value=t,o(this,t,e,i)},toFunction:function(){return t.proxy(this._computeFn,this)},_computeFn:function(t){return arguments.length?this.set(t):this.get()}});var o=function(e,i,n,o){i!==n&&!(i!==i&&n!==n)&&t.batch.trigger(e,{type:"change",batchNum:o},[i,n])},r=function(e,i,o){var r=new n(i,o,e);return{readInfo:r,_on:function(){r.getValueAndBind(),e.value=r.value,e.hasDependencies=!t.isEmptyObject(r.newObserved)},_off:function(){r.teardown()},getDepth:function(){return r.getDepth()},getPrimaryDepth:function(){return r.getPrimaryDepth()}}};t.Compute.temporarilyBind=function(e){var i=e.computeInstance||e;i.bind("change",t.k),s||(s=[],setTimeout(a,10)),s.push(i)};var s,a=function(){for(var e=0,i=s.length;e<i;e++)s[e].unbind("change",t.k);s=null};return t.Compute.async=function(e,i,n){return new t.Compute(e,{fn:i,context:n})},t.Compute.truthy=function(e){return new t.Compute(function(){var t=e.get();return"function"==typeof t&&(t=t.get()),!!t})},t.Compute.read=i,t.Compute.set=i.write,t.Compute}),define("can/compute",["can/util/library","can/util/bind","can/util/batch","can/proto_compute"],function(t,e){return t.compute=function(e,i,n,o){var r=new t.Compute(e,i,n,o),s=r.bind,a=r.unbind,c=function(t){return arguments.length?r.set(t):r.get()},u=t.cid(c,"compute"),l="__handler"+u;return c.bind=function(t,e){var i=e&&e[l];return e&&!i&&(i=e[l]=function(){e.apply(c,arguments)}),s.call(r,t,i)},c.unbind=function(t,e){var i=e&&e[l];return i?(delete e[l],r.unbind(t,i)):a.apply(r,arguments)},c.isComputed=r.isComputed,c.clone=function(n){return"function"==typeof e&&(i=n),t.compute(e,i,n,o)},c.computeInstance=r,c},t.compute.truthy=function(e){return t.compute(function(){var t=e();return"function"==typeof t&&(t=t()),!!t})},t.compute.async=function(e,i,n){return t.compute(e,{fn:i,context:n})},t.compute.read=t.Compute.read,t.compute.set=t.Compute.set,t.compute.temporarilyBind=t.Compute.temporarilyBind,t.compute}),define("can/map/define",["can/util/library","can/map_helpers","can/map","can/compute"],function(t,e){if(!t.define){var i=t.define={},n=function(t,e,i){var n,o;if(i){if(n=i[e],o=i["*"],n&&void 0!==n[t])return n[t];if(o&&void 0!==o[t])return o[t]}};e.define=function(n,o){var r=n.prototype.define;if(o){var s=t.simpleExtend({},o);e.twoLevelDeepExtend(s,r),t.simpleExtend(r,s)}n.defaultGenerators={};for(var a in r){var c=r[a].type;"string"==typeof c&&"object"==typeof i.types[c]&&(delete r[a].type,t.extend(r[a],i.types[c])),"value"in r[a]&&("function"==typeof r[a].value?n.defaultGenerators[a]=r[a].value:n.defaults[a]=r[a].value),"function"==typeof r[a].Value&&function(t){n.defaultGenerators[a]=function(){return new t}}(r[a].Value)}};var o=t.Map.prototype._setupDefaults;t.Map.prototype._setupDefaults=function(t){var e=o.call(this),i={},n=this.constructor,r=this._get;this._get=function(t){var n=-1!==t.indexOf(".")?t.substr(0,t.indexOf(".")):t;return n in e&&!(n in i)&&(this.attr(n,e[n]),i[n]=!0),r.apply(this,arguments)};for(var s in n.defaultGenerators)t&&s in t||(e[s]=n.defaultGenerators[s].call(this));return delete this._get,e};var r=t.Map.prototype,s=r.__set;r.__set=function(e,i,o,r,a){var c=function(i){return!1!==(a&&a.call(u,i))&&t.trigger(u,"error",[e,i],!0),!1},u=this,l=n("set",e,this.define),d=n("get",e,this.define);if(l){t.batch.start();var h=!1,p=l.call(this,i,function(t){d?u[e](t):s.call(u,e,t,o,r,c),h=!0},c,d?this._computedAttrs[e].compute.computeInstance.lastSetValue.get():o);return d?(void 0!==p&&!h&&l.length>=1&&this._computedAttrs[e].compute(p),void t.batch.stop()):void 0===p&&!h&&l.length>=1?void t.batch.stop():(h||s.call(u,e,0===l.length&&void 0===p?i:p,o,r,c),t.batch.stop(),this)}return s.call(u,e,i,o,r,c),this},i.types={date:function(t){var e=typeof t;return"string"===e?(t=Date.parse(t),isNaN(t)?null:new Date(t)):"number"===e?new Date(t):t},number:function(t){return null==t?t:+t},boolean:function(t){return!("false"===t||"0"===t||!t)},htmlbool:function(t){return"string"==typeof t||!!t},"*":function(t){return t},string:function(t){return null==t?t:""+t},compute:{set:function(t,e,i,n){return t&&t.isComputed?t:n&&n.isComputed?(n(t),n):t},get:function(t){return t&&t.isComputed?t():t}}};var a=r.__type;r.__type=function(e,o){var r=n("type",o,this.define),s=n("Type",o,this.define),c=e;return"string"==typeof r&&(r=i.types[r]),r||s?(r&&(c=r.call(this,c,o)),!s||c instanceof s||(c=new s(c)),c):(t.isPlainObject(c)&&c.define&&(c=t.Map.extend(c),c=new c),a.call(this,c,o))};var c=r.__remove;r.__remove=function(e,i){var o,r=n("remove",e,this.define);return r?(t.batch.start(),o=r.call(this,i),!1===o?void t.batch.stop():(o=c.call(this,e,i),t.batch.stop(),o)):c.call(this,e,i)};var u=r._setupComputedProperties;r._setupComputedProperties=function(){u.apply(this,arguments);for(var i in this.define){var n=this.define[i],o=n.get;o&&e.addComputedAttr(this,i,t.compute.async(void 0,o,this))}};var l=r.___serialize;r.___serialize=function(t,e){return d(this,t,e)};var d=function(t,e,i){var o="*"!==e&&n("serialize",e,t.define);return void 0===o?l.call(t,e,i):!1!==o?"function"==typeof o?o.call(t,i,e):l.call(t,e,i):void 0},h=r.serialize;return r.serialize=function(t){var e=h.apply(this,arguments);if(t)return e;var i;for(var n in this.define)n in e||this.define&&this.define[n]&&this.define[n].serialize&&void 0!==(i=d(this,n,this.attr(n)))&&(e[n]=i);return e},t.define}}),define("can/view/compute_data",["can/util/library","can/compute","can/get_value_and_bind"],function(t,e,i){var n=function(e){return e.reads&&1===e.reads.length&&e.root instanceof t.Map&&!t.isFunction(e.root[e.reads[0].key])},o=function(e,i,n,o,r){if(!(arguments.length>4)){if(o.root)return t.compute.read(o.root,o.reads,n).value;var s=e.read(i,n);return o.scope=s.scope,o.initialValue=s.value,o.reads=s.reads,o.root=s.rootObserve,o.setRoot=s.setRoot,s.value}var a=o.root||o.setRoot;if(a)if(a.isComputed)a(r);else if(o.reads.length){var c=o.reads.length-1,u=o.reads.length?t.compute.read(a,o.reads.slice(0,c)).value:a;t.compute.set(u,o.reads[c].key,r,n)}};return function(e,r,s){s=s||{args:[]};var a={},c=function(t){return arguments.length?o(e,r,s,a,t):o(e,r,s,a)},u=t.compute(void 0,{on:function(){l.getValueAndBind(),n(a)&&(l.dependencyChange=function(t,e){return"function"!=typeof e?this.newVal=e:(l.dependencyChange=i.prototype.dependencyChange,l.getValueAndBind=i.prototype.getValueAndBind),i.prototype.dependencyChange.call(this,t)},l.getValueAndBind=function(){this.value=this.newVal}),u.computeInstance.value=l.value,u.computeInstance.hasDependencies=!t.isEmptyObject(l.newObserved)},off:function(){l.dependencyChange=i.prototype.dependencyChange,l.getValueAndBind=i.prototype.getValueAndBind,l.teardown()},set:c,get:c,__selfUpdater:!0}),l=new i(c,null,u.computeInstance);return a.compute=u,a}}),define("can/view",["can/util/library"],function(t){var e=t.isFunction,i=t.makeArray,n=1,o=function(t){var e=function(){return u.frag(t.apply(this,arguments))};return e.render=function(){return t.apply(t,arguments)},e},r=function(t,e){if(!t.length)throw new Error("can.view: No template or empty template:"+e)},s=function(i,n){if(e(i)){return t.Deferred().resolve(i)}var o,s,a,c="string"==typeof i?i:i.url,l=i.engine&&"."+i.engine||c.match(/\.[\w\d]+$/);if(c.match(/^#/)&&(c=c.substr(1)),(s=document.getElementById(c))&&(l="."+s.type.match(/\/(x\-)?(.+)/)[2]),l||u.cached[c]||(c+=l=u.ext),t.isArray(l)&&(l=l[0]),a=u.toId(c),c.match(/^\/\//)&&(c=c.substr(2),c=window.steal?steal.config().root.mapJoin(""+steal.id(c)):c),window.require&&require.toUrl&&(c=require.toUrl(c)),o=u.types[l],u.cached[a])return u.cached[a];if(s)return u.registerView(a,s.innerHTML,o);var d=new t.Deferred;return t.ajax({async:n,url:c,dataType:"text",error:function(t){r("",c),d.reject(t)},success:function(t){r(t,c),u.registerView(a,t,o,d)}}),d},a=function(e){var i=[];if(t.isPromise(e))return[e];for(var n in e)t.isPromise(e[n])&&i.push(e[n]);return i},c=function(e){return t.isArray(e)&&"success"===e[1]?e[0]:e},u=t.view=t.template=function(t,i,n,o){return e(n)&&(o=n,n=void 0),u.renderAs("fragment",t,i,n,o)};return t.extend(u,{frag:function(t,e){return u.hookup(u.fragment(t),e)},fragment:function(e){return t.frag(e,document)},toId:function(e){return t.map(e.toString().split(/\/|\./g),function(t){if(t)return t}).join("_")},toStr:function(t){return null==t?"":""+t},hookup:function(e,i){var n,o,r=[];return t.each(e.childNodes?t.makeArray(e.childNodes):e,function(e){1===e.nodeType&&(r.push(e),r.push.apply(r,t.makeArray(e.getElementsByTagName("*"))))}),t.each(r,function(t){t.getAttribute&&(n=t.getAttribute("data-view-id"))&&(o=u.hookups[n])&&(o(t,i,n),delete u.hookups[n],t.removeAttribute("data-view-id"))}),e},hookups:{},hook:function(t){return u.hookups[++n]=t," data-view-id='"+n+"'"},cached:{},cachedRenderers:{},cache:!0,register:function(e){this.types["."+e.suffix]=e,t[e.suffix]=u[e.suffix]=function(t,i){var n,r;if(!i)return r=function(){return n||(n=e.fragRenderer?e.fragRenderer(null,t):o(e.renderer(null,t))),n.apply(this,arguments)},r.render=function(){var i=e.renderer(null,t);return i.apply(i,arguments)},r;var s=function(){return n||(n=e.fragRenderer?e.fragRenderer(t,i):e.renderer(t,i)),n.apply(this,arguments)};return e.fragRenderer?u.preload(t,s):u.preloadStringRenderer(t,s)}},types:{},ext:".ejs",registerScript:function(t,e,i){return"can.view.preloadStringRenderer('"+e+"',"+u.types["."+t].script(e,i)+");"},preload:function(e,i){return(u.cached[e]=(new t.Deferred).resolve(function(t,e){return i.call(t,t,e)})).__view_id=e,u.cachedRenderers[e]=i,i},preloadStringRenderer:function(t,e){return this.preload(t,o(e))},render:function(e,i,n,o,r){return t.view.renderAs("string",e,i,n,o,r)},renderTo:function(t,e,i,n,o){return("string"===t&&e.render?e.render:e)(i,n,o)},renderAs:function(n,o,r,l,d,h){void 0!==d&&"string"==typeof d.expression&&(h=d,d=void 0),e(l)&&(d=l,l=void 0);var p,f,g,m,b=a(r);if(b.length)return p=new t.Deferred,f=t.extend({},r),b.push(s(o,!0)),t.when.apply(t,b).then(function(e){var o,s=i(arguments),a=s.pop();if(t.isPromise(r))f=c(e);else for(var u in r)t.isPromise(r[u])&&(f[u]=c(s.shift()));o=t.view.renderTo(n,a,f,l,h),p.resolve(o,f),d&&d(o,f)},function(){p.reject.apply(p,arguments)}),p;if(g=e(d),p=t.__notObserve(s)(o,g),g)m=p,p.then(function(e){d(r?t.view.renderTo(n,e,r,l,h):e)});else{if("resolved"===p.state()&&p.__view_id){var v=u.cachedRenderers[p.__view_id];return r?t.view.renderTo(n,v,r,l,h):v}p.then(function(e){m=r?t.view.renderTo(n,e,r,l,h):e})}return m},registerView:function(e,i,n,r){var s,a="object"==typeof n?n:u.types[n||u.ext];return s=a.fragRenderer?a.fragRenderer(e,i):o(a.renderer(e,i)),r=r||new t.Deferred,u.cache&&(u.cached[e]=r,r.__view_id=e,u.cachedRenderers[e]=s),r.resolve(s)},simpleHelper:function(e){return function(){var i=[],n=arguments;return t.each(n,function(t,e){if(e<=n.length){for(;t&&t.isComputed;)t=t();i.push(t)}}),e.apply(this,i)}}}),t}),define("can/view/scope",["can/util/library","can/view/compute_data","can/construct","can/map","can/list","can/view","can/compute"],function(t,e){function i(t,e,i){this._context=t,this._parent=e,this._meta=i||{},this.__cache={}}function n(t,e,n){t.helpers||t.partials||t.tags||(t={helpers:t}),i.call(this,t,e,n)}return t.simpleExtend(i,{read:t.compute.read,Refs:t.Map.extend({shortName:"ReferenceMap"},{}),refsScope:function(){return new t.view.Scope(new this.Refs)}}),t.simpleExtend(i.prototype,{add:function(t,e){return t!==this._context?new this.constructor(t,this,e):this},read:function(e,i){if("%root"===e)return{value:this.getRoot()};var n="./"===e.substr(0,2),o="../"===e.substr(0,3),r="."===e||"this"===e,s=".."===e;if((n||o||r||s)&&this._meta.notContext)return this._parent.read(e,i);var a;if(n)a=!0,e=e.substr(2);else{if(o||s){for(var c=this._parent;c._meta.notContext;)c=c._parent;return s?{value:c._context}:c.read(e.substr(3)||".",i)}if(r)return{value:this._context}}var u=t.compute.read.reads(e);return"*"===u[0].key.charAt(0)?this.getRefs()._read(u,i,!0):this._read(u,i,a)},_read:function(e,i,n){for(var o,r,s,a,c,u=this,l=[],d=-1,h=t.simpleExtend({foundObservable:function(t,i){r=t,s=e.slice(i)},earlyExit:function(t,e){e>d&&(c=r,a=s,d=e)}},i);u;){if(null!==(o=u._context)&&("object"==typeof o||"function"==typeof o)){var p=t.__trapObserves(),f=t.compute.read(o,e,h),g=p();if(void 0!==f.value)return t.__observes(g),{scope:u,rootObserve:r,value:f.value,reads:s};l.push.apply(l,g)}u=n?null:u._parent}return t.__observes(l),{setRoot:c,reads:a,value:void 0}},get:t.__notObserve(function(e,i){return i=t.simpleExtend({isArgument:!0},i),this.read(e,i).value}),getScope:function(t){for(var e=this;e;){if(t(e))return e;e=e._parent}},getContext:function(t){var e=this.getScope(t);return e&&e._context},getRefs:function(){return this.getScope(function(t){return t._context instanceof i.Refs})},getRoot:function(){for(var t=this,e=this;t._parent;)e=t,t=t._parent;return t._context instanceof i.Refs&&(t=e),t._context},set:function(e,i,n){var o,r,s=e.lastIndexOf("."),a=e.lastIndexOf("/");if(a>s?(o=e.substring(0,a),r=e.substring(a+1,e.length)):-1!==s?(o=e.substring(0,s),r=e.substring(s+1,e.length)):(o=".",r=e),"*"===e.charAt(0))t.compute.set(this.getRefs()._context,e,i,n);else{var c=this.read(o,n).value;t.compute.set(c,r,i,n)}},attr:t.__notObserve(function(e,i,n){return n=t.simpleExtend({isArgument:!0},n),2===arguments.length?this.set(e,i,n):this.get(e,n)}),computeData:function(t,i){return e(this,t,i)},compute:function(t,e){return this.computeData(t,e).compute},cloneFromRef:function(){for(var e,n,o=[],r=this;r;){if((e=r._context)instanceof i.Refs){n=r._parent;break}o.unshift(e),r=r._parent}
return n?(t.each(o,function(t){n=n.add(t)}),n):this}}),t.view.Scope=i,n.prototype=new i,n.prototype.constructor=n,t.view.Options=n,i}),define("can/elements",["can/util/library","can/view"],function(t){var e="undefined"!=typeof document?document:null,i=e&&function(){return 1===t.$(document.createComment("~")).length}(),n={tagToContentPropMap:{option:e&&"textContent"in document.createElement("option")?"textContent":"innerText",textarea:"value"},attrMap:t.attr.map,attrReg:/([^\s=]+)[\s]*=[\s]*/,defaultValue:t.attr.defaultValue,tagMap:{"":"span",colgroup:"col",table:"tbody",tr:"td",ol:"li",ul:"li",tbody:"tr",thead:"tr",tfoot:"tr",select:"option",optgroup:"option"},reverseTagMap:{col:"colgroup",tr:"tbody",option:"select",td:"tr",th:"tr",li:"ul"},selfClosingTags:{col:!0},getParentNode:function(t,e){return e&&11===t.parentNode.nodeType?e:t.parentNode},setAttr:t.attr.set,getAttr:t.attr.get,removeAttr:t.attr.remove,contentText:function(t){return"string"==typeof t?t:t||0===t?""+t:""},after:function(e,i){var n=e[e.length-1];n.nextSibling?t.insertBefore(n.parentNode,i,n.nextSibling,t.document):t.appendChild(n.parentNode,i,t.document)},replace:function(e,o){var r,s=e[0].parentNode;"SELECT"===s.nodeName.toUpperCase()&&s.selectedIndex>=0&&(r=s.value),n.after(e,o),t.remove(t.$(e)).length<e.length&&!i&&t.each(e,function(t){8===t.nodeType&&t.parentNode.removeChild(t)}),void 0!==r&&(s.value=r)}};return t.view.elements=n,n}),define("can/view/callbacks",["can/util/library","can/view"],function(t){var e=t.view.attr=function(t,e){if(!e){var o=i[t];if(!o)for(var r=0,s=n.length;r<s;r++){var a=n[r];if(a.match.test(t)){o=a.handler;break}}return o}"string"==typeof t?i[t]=e:n.push({match:t,handler:e})},i={},n=[],o=/[-\:]/,r=t.view.tag=function(e,i){if(!i){var n=s[e.toLowerCase()];return!n&&o.test(e)&&(n=function(){}),n}t.global.html5&&(t.global.html5.elements+=" "+e,t.global.html5.shivDocument()),s[e.toLowerCase()]=i},s={};return t.view.callbacks={_tags:s,_attributes:i,_regExpAttributes:n,tag:r,attr:e,tagHandler:function(e,i,n){var o,r=n.options.get("tags."+i,{proxyMethods:!1}),a=r||s[i],c=n.scope;if((o=a?t.__notObserve(a)(e,n):c)&&n.subtemplate){c!==o&&(c=c.add(o));var u=n.subtemplate(c,n.options),l="string"==typeof u?t.view.frag(u):u;t.appendChild(e,l)}}},t.view.callbacks}),define("can/scanner",["can/view","can/elements","can/view/callbacks"],function(can,elements,viewCallbacks){var newLine=/(\r|\n)+/g,notEndTag=/\//,clean=function(t){return t.split("\\").join("\\\\").split("\n").join("\\n").split('"').join('\\"').split("\t").join("\\t")},getTag=function(t,e,i){if(t)return t;for(;i<e.length;){if("<"===e[i]&&!notEndTag.test(e[i+1]))return elements.reverseTagMap[e[i+1]]||"span";i++}return""},bracketNum=function(t){return--t.split("{").length- --t.split("}").length},myEval=function(script){eval(script)},attrReg=/([^\s]+)[\s]*=[\s]*$/,startTxt="var ___v1ew = [];",finishTxt="return ___v1ew.join('')",put_cmd="___v1ew.push(\n",insert_cmd=put_cmd,htmlTag=null,quote=null,beforeQuote=null,rescan=null,getAttrName=function(){var t=beforeQuote.match(attrReg);return t&&t[1]},status=function(){return quote?"'"+getAttrName()+"'":htmlTag?1:0},top=function(t){return t[t.length-1]},Scanner;return can.view.Scanner=Scanner=function(t){can.extend(this,{text:{},tokens:[]},t),this.text.options=this.text.options||"",this.tokenReg=[],this.tokenSimple={"<":"<",">":">",'"':'"',"'":"'"},this.tokenComplex=[],this.tokenMap={};for(var e,i=0;e=this.tokens[i];i++)e[2]?(this.tokenReg.push(e[2]),this.tokenComplex.push({abbr:e[1],re:new RegExp(e[2]),rescan:e[3]})):(this.tokenReg.push(e[1]),this.tokenSimple[e[1]]=e[0]),this.tokenMap[e[0]]=e[1];this.tokenReg=new RegExp("("+this.tokenReg.slice(0).concat(["<",">",'"',"'"]).join("|")+")","g")},Scanner.prototype={helpers:[],scan:function(t,e){var i=[],n=0,o=this.tokenSimple,r=this.tokenComplex;t=t.replace(newLine,"\n"),this.transform&&(t=this.transform(t)),t.replace(this.tokenReg,function(e,s){var a=arguments[arguments.length-2];if(a>n&&i.push(t.substring(n,a)),o[e])i.push(e);else for(var c,u=0;c=r[u];u++)if(c.re.test(e)){i.push(c.abbr),c.rescan&&i.push(c.rescan(s));break}n=a+s.length}),n<t.length&&i.push(t.substr(n));var s,a,c,u,l="",d=[startTxt+(this.text.start||"")],h=function(t,e){d.push(put_cmd,'"',clean(t),'"'+(e||"")+");")},p=[],f=null,g=!1,m={attributeHookups:[],tagHookups:[],lastTagHookup:""},b=function(){m.lastTagHookup=m.tagHookups.pop()+m.tagHookups.length},v="",y=[],w=!1,k=!1,x=0,C=this.tokenMap;for(htmlTag=quote=beforeQuote=null;void 0!==(c=i[x++]);){if(null===f)switch(c){case C.left:case C.escapeLeft:case C.returnLeft:g=htmlTag&&1;case C.commentLeft:f=c,l.length&&h(l),l="";break;case C.escapeFull:g=htmlTag&&1,rescan=1,f=C.escapeLeft,l.length&&h(l),rescan=i[x++],l=rescan.content||rescan,rescan.before&&h(rescan.before),i.splice(x,0,C.right);break;case C.commentFull:break;case C.templateLeft:l+=C.left;break;case"<":0!==i[x].indexOf("!--")&&(htmlTag=1,g=0),l+=c;break;case">":htmlTag=0;var S="/"===l.substr(l.length-1)||"--"===l.substr(l.length-2),T="";if(m.attributeHookups.length&&(T="attrs: ['"+m.attributeHookups.join("','")+"'], ",m.attributeHookups=[]),v+m.tagHookups.length!==m.lastTagHookup&&v===top(m.tagHookups))S&&(l=l.substr(0,l.length-1)),d.push(put_cmd,'"',clean(l),'"',",can.view.pending({tagName:'"+v+"',"+T+"scope: "+(this.text.scope||"this")+this.text.options),S?(d.push("}));"),l="/>",b()):"<"===i[x]&&i[x+1]==="/"+v?(d.push("}));"),l=c,b()):(d.push(",subtemplate: function("+this.text.argNames+"){\n"+startTxt+(this.text.start||"")),l="");else if(g||!w&&elements.tagToContentPropMap[y[y.length-1]]||T){var P=",can.view.pending({"+T+"scope: "+(this.text.scope||"this")+this.text.options+'}),"';S?h(l.substr(0,l.length-1),P+'/>"'):h(l,P+'>"'),l="",g=0}else l+=c;(S||w)&&(y.pop(),v=y[y.length-1],w=!1),m.attributeHookups=[];break;case"'":case'"':if(htmlTag)if(quote&&quote===c){quote=null;var A=getAttrName();if(viewCallbacks.attr(A)&&m.attributeHookups.push(A),k){l+=c,h(l),d.push(finishTxt,"}));\n"),l="",k=!1;break}}else if(null===quote&&(quote=c,beforeQuote=s,u=getAttrName(),"img"===v&&"src"===u||"style"===u)){h(l.replace(attrReg,"")),l="",k=!0,d.push(insert_cmd,"can.view.txt(2,'"+getTag(v,i,x)+"',"+status()+",this,function(){",startTxt),h(u+"="+c);break}default:if("<"===s){v="!--"===c.substr(0,3)?"!--":c.split(/\s/)[0];var j,L=!1;0===v.indexOf("/")&&(L=!0,j=v.substr(1)),L?(top(y)===j&&(v=j,w=!0),top(m.tagHookups)===j&&(h(l.substr(0,l.length-1)),d.push(finishTxt+"}}) );"),l="><",b())):(v.lastIndexOf("/")===v.length-1&&(v=v.substr(0,v.length-1)),"!--"!==v&&viewCallbacks.tag(v)&&("content"===v&&elements.tagMap[top(y)]&&(c=c.replace("content",elements.tagMap[top(y)])),m.tagHookups.push(v)),y.push(v))}l+=c}else switch(c){case C.right:case C.returnRight:switch(f){case C.left:a=bracketNum(l),1===a?(d.push(insert_cmd,"can.view.txt(0,'"+getTag(v,i,x)+"',"+status()+",this,function(){",startTxt,l),p.push({before:"",after:finishTxt+"}));\n"})):(n=p.length&&-1===a?p.pop():{after:";"},n.before&&d.push(n.before),d.push(l,";",n.after));break;case C.escapeLeft:case C.returnLeft:a=bracketNum(l),a&&p.push({before:finishTxt,after:"}));\n"});for(var _=f===C.escapeLeft?1:0,M={insert:insert_cmd,tagName:getTag(v,i,x),status:status(),specialAttribute:k},O=0;O<this.helpers.length;O++){var E=this.helpers[O];if(E.name.test(l)){l=E.fn(l,M),E.name.source===/^>[\s]*\w*/.source&&(_=0);break}}"object"==typeof l?l.startTxt&&l.end&&k?d.push(insert_cmd,"can.view.toStr( ",l.content,"() ) );"):(l.startTxt?d.push(insert_cmd,"can.view.txt(\n"+("string"==typeof status()||(null!=l.escaped?l.escaped:_))+",\n'"+v+"',\n"+status()+",\nthis,\n"):l.startOnlyTxt&&d.push(insert_cmd,"can.view.onlytxt(this,\n"),d.push(l.content),l.end&&d.push("));")):k?d.push(insert_cmd,l,");"):d.push(insert_cmd,"can.view.txt(\n"+("string"==typeof status()||_)+",\n'"+v+"',\n"+status()+",\nthis,\nfunction(){ "+(this.text.escape||"")+"return ",l,a?startTxt:"}));\n"),rescan&&rescan.after&&rescan.after.length&&(h(rescan.after.length),rescan=null)}f=null,l="";break;case C.templateLeft:l+=C.left;break;default:l+=c}s=c}l.length&&h(l),d.push(";");var I=d.join(""),N={out:(this.text.outStart||"")+I+" "+finishTxt+(this.text.outEnd||"")};return myEval.call(N,"this.fn = (function("+this.text.argNames+"){"+N.out+"});\r\n//# sourceURL="+e+".js"),N}},can.view.pending=function(t){var e=can.view.getHooks();return can.view.hook(function(i){can.each(e,function(t){t(i)}),t.templateType="legacy",t.tagName&&viewCallbacks.tagHandler(i,t.tagName,t),can.each(t&&t.attrs||[],function(e){t.attributeName=e;var n=viewCallbacks.attr(e);n&&n(i,t)})})},can.view.tag("content",function(t,e){return e.scope}),can.view.Scanner=Scanner,Scanner}),define("can/view/node_lists",["can/util/library","can/elements"],function(t){var e=!0;try{document.createTextNode("")._=0}catch(t){e=!1}var i={},n={},o="ejs_"+Math.random(),r=0,s=function(t,i){var s=i||n,c=a(t,s);return c||(e||3!==t.nodeType?(++r,t[o]=(t.nodeName?"element_":"obj_")+r):(++r,s["text_"+r]=t,"text_"+r))},a=function(t,i){if(e||3!==t.nodeType)return t[o];for(var n in i)if(i[n]===t)return n},c=[].splice,u=[].push,l=function(t){for(var e=0,i=0,n=t.length;i<n;i++){var o=t[i];o.nodeType?e++:e+=l(o)}return e},d=function(t,e){for(var i={},n=0,o=t.length;n<o;n++){var r=p.first(t[n]);i[s(r,e)]=t[n]}return i},h=function(t,e,i){for(var n in e)i[n]||t.newDeepChildren.push(e[n])},p={id:s,update:function(e,i){var n=p.unregisterChildren(e);i=t.makeArray(i);var o=e.length;return c.apply(e,[0,o].concat(i)),e.replacements?(p.nestReplacements(e),e.deepChildren=e.newDeepChildren,e.newDeepChildren=[]):p.nestList(e),n},nestReplacements:function(t){for(var e=0,i={},n=d(t.replacements,i),o=t.replacements.length,r={};e<t.length&&o;){var s=t[e],c=a(s,i),u=n[c];u&&(t.splice(e,l(u),u),r[c]=!0,o--),e++}o&&h(t,n,r),t.replacements=[]},nestList:function(t){for(var e=0;e<t.length;){var n=t[e],o=i[s(n)];o?o!==t&&t.splice(e,l(o),o):i[s(n)]=t,e++}},last:function(t){var e=t[t.length-1];return e.nodeType?e:p.last(e)},first:function(t){var e=t[0];return e.nodeType?e:p.first(e)},flatten:function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];n.nodeType?e.push(n):e.push.apply(e,p.flatten(n))}return e},register:function(e,i,n,o){return t.cid(e),e.unregistered=i,e.parentList=n,e.nesting=n&&void 0!==n.nesting?n.nesting+1:0,n?(e.deepChildren=[],e.newDeepChildren=[],e.replacements=[],!0!==n&&(o?n.replacements.push(e):n.newDeepChildren.push(e))):p.nestList(e),e},unregisterChildren:function(e){var n=[];return t.each(e,function(t){t.nodeType?(e.replacements||delete i[s(t)],n.push(t)):u.apply(n,p.unregister(t,!0))}),t.each(e.deepChildren,function(t){p.unregister(t,!0)}),n},unregister:function(t,e){var i=p.unregisterChildren(t,!0);if(t.unregistered){var n=t.unregistered;if(t.replacements=t.unregistered=null,!e){var o=t.parentList&&t.parentList.deepChildren;if(o){var r=o.indexOf(t);-1!==r&&o.splice(r,1)}}n()}return i},nodeMap:i};return t.view.nodeLists=p,p}),define("can/view/parser",[],function(){function t(t,e){for(var i=0;i<t.length;i++)e(t[i],i)}function e(e){var i={};return t(e.split(","),function(t){i[t]=!0}),i}function i(t,e){for(var i=0,n=t.length;i<n;i++){var o=t[i];e[o.tokenType].apply(e,o.args)}return t}var n=new RegExp("^<([A-Za-z0-9][-:_A-Za-z0-9]*)((?:\\s*(?:(?:(?:[^=>\\s\\/]+)?(?:\\s*=\\s*(?:(?:\\{\\{[^\\}]\\}\\}\\}?)|(?:\\{[^\\}\\{]\\})|(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)|(?:\\{\\{[^\\}]*\\}\\}\\}?)+))*)\\s*(\\/?)>"),o=new RegExp("^<\\/([-:_A-Za-z0-9]+)[^>]*>"),r=new RegExp("\\{\\{([^\\}]*)\\}\\}\\}?","g"),s=/<|\{\{/,a=/\s/,c=e("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),u=e("a,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),l=e("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),d=e("altGlyph,altGlyphDef,altGlyphItem,animateColor,animateMotion,animateTransform,clipPath,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,foreignObject,glyphRef,linearGradient,radialGradient,textPath"),h=e("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),p=e("script"),f="start,end,close,attrStart,attrEnd,attrValue,chars,comment,special,done".split(","),g=function(){},m=function(e,a,b){function v(t,e,i,n){if(e=d[e]?e:e.toLowerCase(),u[e]&&!l[e])for(var o=P.last();o&&l[o]&&!u[o];)y("",o),o=P.last();h[e]&&P.last()===e&&y("",e),n=c[e]||!!n,a.start(e,n),n||P.push(e),m.parseAttrs(i,a),a.end(e,n)}function y(t,e){var i;if(e)for(e=d[e]?e:e.toLowerCase(),i=P.length-1;i>=0&&P[i]!==e;i--);else i=0;if(i>=0){for(var n=P.length-1;n>=i;n--)a.close&&a.close(P[n]);P.length=i}}function w(t,e){a.special&&a.special(e)}if("object"==typeof e)return i(e,a);var k=[];a=a||{},b&&t(f,function(t){var e=a[t]||g;a[t]=function(){!1!==e.apply(this,arguments)&&k.push({tokenType:t,args:[].slice.call(arguments,0)})}});var x,C,S,T=function(){j&&a.chars&&a.chars(j),j=""},P=[],A=e,j="";for(P.last=function(){return this[this.length-1]};e;){if(C=!0,P.last()&&p[P.last()])e=e.replace(new RegExp("([\\s\\S]*?)</"+P.last()+"[^>]*>"),function(t,e){return e=e.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),a.chars&&a.chars(e),""}),y("",P.last());else if(0===e.indexOf("\x3c!--")?(x=e.indexOf("--\x3e"))>=0&&(T(),a.comment&&a.comment(e.substring(4,x)),e=e.substring(x+3),C=!1):0===e.indexOf("</")?(S=e.match(o))&&(T(),e=e.substring(S[0].length),S[0].replace(o,y),C=!1):0===e.indexOf("<")?(S=e.match(n))&&(T(),e=e.substring(S[0].length),S[0].replace(n,v),C=!1):0===e.indexOf("{{")&&(S=e.match(r))&&(T(),e=e.substring(S[0].length),S[0].replace(r,w)),C){x=e.search(s),0===x&&e===A&&(j+=e.charAt(0),e=e.substr(1),x=e.search(s));var L=x<0?e:e.substring(0,x);e=x<0?"":e.substring(x),L&&(j+=L)}if(e===A)throw new Error("Parse Error: "+e);A=e}return T(),y(),a.done(),k},b=function(t,e,i,n){t.attrStart=n.substring("number"==typeof t.nameStart?t.nameStart:e,e),i.attrStart(t.attrStart),t.inName=!1},v=function(t,e,i,n){void 0!==t.valueStart&&t.valueStart<e?i.attrValue(n.substring(t.valueStart,e)):t.inValue,i.attrEnd(t.attrStart),t.attrStart=void 0,t.valueStart=void 0,t.inValue=!1,t.inName=!1,t.lookingForEq=!1,t.inQuote=!1,t.lookingForName=!0};return m.parseAttrs=function(t,e){if(t){for(var i,n=0,o={inDoubleCurly:!1,inName:!1,nameStart:void 0,inValue:!1,valueStart:void 0,inQuote:!1,attrStart:void 0,lookingForName:!0,lookingForValue:!1,lookingForEq:!1};n<t.length;){i=n;var r=t.charAt(n),s=t.charAt(n+1),c=t.charAt(n+2);if(n++,"{"===r&&"{"===s)o.inValue&&i>o.valueStart?e.attrValue(t.substring(o.valueStart,i)):o.inName&&o.nameStart<i?(b(o,i,e,t),v(o,i,e,t)):o.lookingForValue?o.inValue=!0:o.lookingForEq&&o.attrStart&&v(o,i,e,t),o.inDoubleCurly=!0,o.doubleCurlyStart=i+2,n++;else if(o.inDoubleCurly){if("}"===r&&"}"===s){var u="}"===c?1:0;e.special(t.substring(o.doubleCurlyStart,i)),o.inDoubleCurly=!1,o.inValue&&(o.valueStart=i+2+u),n+=1+u}}else o.inValue?o.inQuote?r===o.inQuote&&v(o,i,e,t):a.test(r)&&v(o,i,e,t):"="===r&&(o.lookingForEq||o.lookingForName||o.inName)?(o.attrStart||b(o,i,e,t),o.lookingForValue=!0,o.lookingForEq=!1,o.lookingForName=!1):o.inName?a.test(r)&&(b(o,i,e,t),o.lookingForEq=!0):o.lookingForName?a.test(r)||(o.attrStart&&v(o,i,e,t),o.nameStart=i,o.inName=!0):o.lookingForValue&&(a.test(r)||(o.lookingForValue=!1,o.inValue=!0,"'"===r||'"'===r?(o.inQuote=r,o.valueStart=i+1):o.valueStart=i))}o.inName?(b(o,i+1,e,t),v(o,i+1,e,t)):o.lookingForEq?v(o,i+1,e,t):o.inValue&&v(o,i+1,e,t)}},m}),define("can/util/diff",[],function(){var t=[].slice;return function(e,i){for(var n=0,o=0,r=e.length,s=i.length,a=[];n<r&&o<s;){var c=e[n],u=i[o];if(c!==u)if(o+1<s&&i[o+1]===c)a.push({index:o,deleteCount:0,insert:[i[o]]}),n++,o+=2;else{if(!(n+1<r&&e[n+1]===u))return a.push({index:o,deleteCount:r-n,insert:t.call(i,o)}),a;a.push({index:o,deleteCount:1,insert:[]}),n+=2,o++}else n++,o++}return o===s&&n===r?a:(a.push({index:o,deleteCount:r-n,insert:t.call(i,o)}),a)}}),define("can/view/live",["can/util/library","can/elements","can/view","can/view/node_lists","can/view/parser","can/util/diff"],function(t,e,i,n,o,r){e=e||t.view.elements,n=n||t.view.NodeLists,o=o||t.view.parser;var s=function(e,i,n){var o=!1,r=function(){return o||(o=!0,n(s),t.unbind.call(e,"removed",r)),!0},s={teardownCheck:function(t){return!t&&r()}};return t.bind.call(e,"removed",r),i(s),s},a=function(t){var e=t.childNodes;if("length"in e)return e;for(var i=t.firstChild,n=[];i;)n.push(i),i=i.nextSibling;return n},c=function(t,e,i){return s(t,function(){e.computeInstance.bind("change",i)},function(t){e.computeInstance.unbind("change",i),t.nodeList&&n.unregister(t.nodeList)})},u=function(t){var e,i={};return o.parseAttrs(t,{attrStart:function(t){i[t]="",e=t},attrValue:function(t){i[e]+=t},attrEnd:function(){}}),i},l=[].splice,d=function(t){return t&&t.nodeType},h=function(t){t.firstChild||t.appendChild(t.ownerDocument.createTextNode(""))},p=function(e){var i="string"==typeof e,n=t.frag(e);return i?t.view.hookup(n):n},f=function(e,i,o,r,s){var c=[];i&&(n.register(c,null,!0,!0),c.parentList=i,c.expression="#each SUBEXPRESSION");var u=o.apply(r,s.concat([c])),l=p(u),d=t.makeArray(a(l));return i?(n.update(c,d),e.push(c)):e.push(n.register(d)),l},g=function(e,i,o){var r=e.splice(i+1,o),s=[];return t.each(r,function(t){var e=n.unregister(t);[].push.apply(s,e)}),s},m=function(t,i,n,o){if(i&&0===t.length){var r=[],s=f(r,o,i,t,[t]);e.after([n[0]],s),n.push(r[0])}},b={},v={registerChildMutationCallback:function(t,e){if(!e)return b[t];b[t]=e},callChildMutationCallback:function(t){var e=t&&b[t.nodeName.toLowerCase()];e&&e(t)},list:function(i,o,a,c,u,d,h){var p,b=d||[i],y=[],w=!1,k=!1,x=function(i,o,r){if(w){var s=P.ownerDocument.createDocumentFragment(),u=[],h=[];t.each(o,function(e,i){var n=t.compute(i+r),o=f(u,d,a,c,[e,n]);s.appendChild(o),h.push(n)});var p=r+1;if(!y.length){var m=g(b,0,b.length-1);t.remove(t.$(m))}if(b[p]){var k=n.first(b[p]);t.insertBefore(k.parentNode,s,k)}else e.after(1===p?[P]:[n.last(b[p-1])],s);l.apply(b,[p,0].concat(u)),l.apply(y,[r,0].concat(h));for(var x=r+h.length,C=y.length;x<C;x++)y[x](x);!1!==i.callChildMutationCallback&&v.callChildMutationCallback(P.parentNode)}},C=function(t,e,i){S({},{length:1},i,!0),x({},[e],i)},S=function(e,i,o,r,s){if(w&&(r||!L.teardownCheck(P.parentNode))){o<0&&(o=y.length+o);var a=g(b,o,i.length);y.splice(o,i.length);for(var c=o,u=y.length;c<u;c++)y[c](c);s?n.unregister(b):(m(p,h,b,d),t.remove(t.$(a)),!1!==e.callChildMutationCallback&&v.callChildMutationCallback(P.parentNode))}},T=function(e,i,o,r){if(w){o+=1,r+=1;var s,a=b[o],c=t.frag(n.flatten(b[r]));s=r<o?n.last(a).nextSibling:n.first(a);b[0].parentNode.insertBefore(c,s);var u=b[r];[].splice.apply(b,[r,1]),[].splice.apply(b,[o,0,u]),o-=1,r-=1;var l=y[r];[].splice.apply(y,[r,1]),[].splice.apply(y,[o,0,l]);var d=Math.min(r,o),h=y.length;for(h;d<h;d++)y[d](d);!1!==e.callChildMutationCallback&&v.callChildMutationCallback(P.parentNode)}},P=i.ownerDocument.createTextNode(""),A=function(t){p&&p.unbind&&p.unbind("add",x).unbind("set",C).unbind("remove",S).unbind("move",T),S({callChildMutationCallback:!!t},{length:b.length-1},0,!0,t)},j=function(e,i,n){if(!k){if(w=!0,i&&n){p=i||[];var o=r(n,i);n.unbind&&n.unbind("add",x).unbind("set",C).unbind("remove",S).unbind("move",T);for(var s=0,a=o.length;s<a;s++){var c=o[s];c.deleteCount&&S({callChildMutationCallback:!1},{length:c.deleteCount},c.index,!0),c.insert.length&&x({callChildMutationCallback:!1},c.insert,c.index)}}else n&&A(),p=i||[],x({callChildMutationCallback:!1},p,0),m(p,h,b,d);v.callChildMutationCallback(P.parentNode),w=!1,p.bind&&p.bind("add",x).bind("set",C).bind("remove",S).bind("move",T),t.batch.afterPreviousEvents(function(){w=!0})}};u=e.getParentNode(i,u);var L=s(u,function(){t.isFunction(o)&&o.bind("change",j)},function(){t.isFunction(o)&&o.unbind("change",j),A(!0)});d?(e.replace(b,P),n.update(b,[P]),d.unregistered=function(){L.teardownCheck(),k=!0}):v.replace(b,P,L.teardownCheck),j(0,t.isFunction(o)?o():o)},html:function(i,o,r,s){var u;r=e.getParentNode(i,r),u=c(r,o,function(t,e,i){n.first(l).parentNode&&p(e);var o=n.first(l).parentNode;u.teardownCheck(o),v.callChildMutationCallback(o)});var l=s||[i],p=function(i){var o="function"==typeof i,s=d(i),c=t.frag(o?"":i),u=t.makeArray(l);h(c),s||o||(c=t.view.hookup(c,r)),u=n.update(l,a(c)),o&&i(c.firstChild),e.replace(u,c)};u.nodeList=l,s?s.unregistered=u.teardownCheck:n.register(l,u.teardownCheck),p(o())},replace:function(i,o,r){var s=i.slice(0),c=t.frag(o);return n.register(i,r),"string"==typeof o&&(c=t.view.hookup(c,i[0].parentNode)),n.update(i,a(c)),e.replace(s,c),i},text:function(i,o,r,s){var a=e.getParentNode(i,r),u=c(a,o,function(e,i,n){"unknown"!=typeof l.nodeValue&&(l.nodeValue=t.view.toStr(i)),u.teardownCheck(l.parentNode)}),l=i.ownerDocument.createTextNode(t.view.toStr(o()));s?(s.unregistered=u.teardownCheck,u.nodeList=s,n.update(s,[l]),e.replace([i],l)):u.nodeList=v.replace([i],l,u.teardownCheck)},setAttributes:function(e,i){var n=u(i);for(var o in n)t.attr.set(e,o,n[o])},attributes:function(i,n,o){var r={},s=function(n){var o,s=u(n);for(o in s){var a=s[o];a!==r[o]&&t.attr.set(i,o,a),delete r[o]}for(o in r)e.removeAttr(i,o);r=s};c(i,n,function(t,e){s(e)}),arguments.length>=3?r=u(o):s(n())},attributePlaceholder:"__!!__",attributeReplace:/__!!__/g,attribute:function(i,n,o){c(i,o,function(t,o){e.setAttr(i,n,a.render())});var r,s=t.$(i);(r=t.data(s,"hooks"))||t.data(s,"hooks",r={});var a,u=String(e.getAttr(i,n)),l=u.split(v.attributePlaceholder),d=[];d.push(l.shift(),l.join(v.attributePlaceholder)),r[n]?r[n].computes.push(o):r[n]={render:function(){var t=0;return u?u.replace(v.attributeReplace,function(){return e.contentText(a.computes[t++]())}):e.contentText(a.computes[t++]())},computes:[o],batchNum:void 0},a=r[n],d.splice(1,0,o()),e.setAttr(i,n,d.join(""))},specialAttribute:function(t,i,n){c(t,n,function(n,o){e.setAttr(t,i,w(o))}),e.setAttr(t,i,w(n()))},simpleAttribute:function(t,i,n){c(t,n,function(n,o){e.setAttr(t,i,o)}),e.setAttr(t,i,n())}};v.attr=v.simpleAttribute,v.attrs=v.attributes,v.getAttributeParts=u;var y=/(\r|\n)+/g,w=function(t){var i=/^["'].*["']$/;return t=t.replace(e.attrReg,"").replace(y,""),i.test(t)?t.substr(1,t.length-2):t};return t.view.live=v,v}),define("can/render",["can/view","can/elements","can/view/live","can/util/string"],function(t,e,i){var n,o=[],r=function(t){var i=e.tagMap[t]||"span";return"span"===i?"@@!!@@":"<"+i+">"+r(i)+"</"+i+">"},s=function(e,i){if("string"==typeof e)return e;if(!e&&0!==e)return"";var n=e.hookup&&function(t,i){e.hookup.call(e,t,i)}||"function"==typeof e&&e;return n?i?"<"+i+" "+t.view.hook(n)+"></"+i+">":(o.push(n),""):""+e},a=function(e,i){return"string"==typeof e||"number"==typeof e?t.esc(e):s(e,i)},c=!1,u=function(){};return t.extend(t.view,{live:i,setupLists:function(){var e,i=t.view.lists;return t.view.lists=function(t,i){return e={list:t,renderer:i},Math.random()},function(){return t.view.lists=i,e}},getHooks:function(){var t=o.slice(0);return n=t,o=[],t},onlytxt:function(t,e){return a(e.call(t))},txt:function(l,d,h,p,f){var g,m,b,v,y=e.tagMap[d]||"span",w=!1,k=u;if(c)g=f.call(p);else{"string"!=typeof h&&1!==h||(c=!0);var x=t.view.setupLists();k=function(){b.unbind("change",u)},b=t.compute(f,p,!1),b.bind("change",u),m=x(),g=b(),c=!1,w=b.computeInstance.hasDependencies}if(m)return k(),"<"+y+t.view.hook(function(t,e){i.list(t,m.list,m.renderer,p,e)})+"></"+y+">";if(!w||"function"==typeof g)return k(),(c||2===l||!l?s:a)(g,0===h&&y);var C=e.tagToContentPropMap[d];if(0!==h||C)return 1===h?(o.push(function(t){i.attributes(t,b,b()),k()}),b()):2===l?(v=h,o.push(function(t){i.specialAttribute(t,v,b),k()}),b()):(v=0===h?C:h,(0===h?n:o).push(function(t){i.attribute(t,v,b),k()}),i.attributePlaceholder);var S=!!e.selfClosingTags[y];return"<"+y+t.view.hook(l&&"object"!=typeof g?function(t,e){i.text(t,b,e),k()}:function(t,e){i.html(t,b,e),k()})+(S?"/>":">"+r(y)+"</"+y+">")}}),t}),define("can/view/utils",["can/util/library","can/view/scope"],function(can){var Options=can.view.Options;return{isArrayLike:function(t){return t&&t.splice&&"number"==typeof t.length},isObserveLike:function(t){return t instanceof can.Map||t&&!!t._get},emptyHandler:function(){},jsonParse:function(str){return"'"===str[0]?str.substr(1,str.length-2):"undefined"===str?void 0:can.global.JSON?JSON.parse(str):eval("("+str+")")},mixins:{last:function(){return this.stack[this.stack.length-1]},add:function(t){this.last().add(t)},subSectionDepth:function(){return this.stack.length-1}},convertToScopes:function(t,e,i,n,o,r,s){o&&(t.fn=this.makeRendererConvertScopes(o,e,i,n,s)),r&&(t.inverse=this.makeRendererConvertScopes(r,e,i,n,s))},makeRendererConvertScopes:function(t,e,i,n,o){var r=function(i,n,o){return t(i||e,n,o)},s=function(t,o,s){return void 0===t||t instanceof can.view.Scope||(t=e.add(t)),void 0===o||o instanceof Options||(o=i.add(o)),r(t,o||i,s||n)};return o?s:can.__notObserve(s)},getItemsFragContent:function(t,e,i){for(var n=this.isObserveLike(t),o=[],r=n?t.attr("length"):t.length,s=0;s<r;s++){var a={"%index":s,"@index":s},c=n?t.attr(""+s):t[s];o.push(e.fn(i.add(a,{notContext:!0}).add(c)))}return o},Options:Options}}),define("can/view/mustache_helpers",["can/util/library","can/view/utils","can/view/live"],function(t,e,i){i=i||t.view.live;var n=function(i){return e.isObserveLike(i)&&e.isArrayLike(i)&&i.attr("length")?i:t.isFunction(i)?i():i},o=function(t){var e={};for(var i in t){var n=t[i];n&&n.isComputed?e[i]=n():e[i]=n}return e},r=function(t){return t&&"function"==typeof t.fn&&"function"==typeof t.inverse},s={each:function(o,r){var s,a,c,u=n(o),l=[];if(u instanceof t.List&&!r.stringOnly)return function(e){var n=[e];n.expression="live.list",t.view.nodeLists.register(n,null,r.nodeList,!0),t.view.nodeLists.update(r.nodeList,[e]);var s=function(t,e,i){return r.fn(r.scope.add({"%index":e,"@index":e},{notContext:!0}).add(t),r.options,i)};i.list(e,o,s,r.context,e.parentNode,n,function(t,e){return r.inverse(r.scope.add(t),r.options,e)})};var d=u;if(d&&e.isArrayLike(d)){var h=e.getItemsFragContent(d,r,r.scope);Array.prototype.push.apply(l,h)}else if(e.isObserveLike(d))for(s=t.Map.keys(d),c=0;c<s.length;c++)a=s[c],l.push(r.fn(r.scope.add({"%key":a,"@key":a},{notContext:!0}).add(d[a])));else if(d instanceof Object)for(a in d)l.push(r.fn(r.scope.add({"%key":a,"@key":a},{notContext:!0}).add(d[a])));return r.stringOnly?l.join(""):l},"@index":function(e,i){i||(i=e,e=0);var n=i.scope.attr("@index");return""+((t.isFunction(n)?n():n)+e)},if:function(e,i){var o;return o=t.isFunction(e)?t.compute.truthy(e)():!!n(e),o?i.fn(i.scope||this):i.inverse(i.scope||this)},is:function(){var e,i,o=arguments[arguments.length-1];if(arguments.length-2<=0)return o.inverse();var r=arguments;return t.compute(function(){for(var o=0;o<r.length-1;o++){if(i=n(r[o]),i=t.isFunction(i)?i():i,o>0&&i!==e)return!1;e=i}return!0})()?o.fn():o.inverse()},eq:function(){return s.is.apply(this,arguments)},unless:function(e,i){return s.if.apply(this,[e,t.extend({},i,{fn:i.inverse,inverse:i.fn})])},with:function(t,e){var i=t;if(t=n(t))return e.fn(i)},log:function(t,e){"undefined"!=typeof console&&console.log&&(e?console.log(t,e.context):console.log(t.context))},data:function(e){var i=2===arguments.length?this:arguments[1];return function(n){t.data(t.$(n),e,i||this.context)}},switch:function(t,e){n(t);var i=!1,o=e.helpers.add({case:function(e,o){if(!i&&n(t)===n(e))return i=!0,o.fn(o.scope||this)},default:function(t){if(!i)return t.fn(t.scope||this)}});return e.fn(e.scope,o)},joinBase:function(e){var i=[].slice.call(arguments),o=i.pop(),r=t.map(i,function(e){var i=n(e);return t.isFunction(i)?i():i}).join(""),s=o.helpers.attr("helpers.module"),a=s?s.uri:void 0;if("."===r[0]&&a)return t.joinURIs(a,r);var c=t.baseURL||"undefined"!=typeof System&&(System.renderingLoader&&System.renderingLoader.baseURL||System.baseURL)||location.pathname;return"/"!==r[0]&&"/"!==c[c.length-1]&&(c+="/"),t.joinURIs(c,r)},routeUrl:function(e,i){return e||(e={}),"function"==typeof e.fn&&"function"==typeof e.inverse&&(e=o(e.hash)),t.route.url(e,"boolean"==typeof i?i:void 0)},routeCurrent:function(e){var i=t.last(arguments),n=i&&r(i);return!i||!n||i.exprData instanceof t.expression.Call?t.route.current(r(e)?{}:e||{}):t.route.current(o(e.hash||{}))?e.fn():e.inverse()}};s.routeCurrent.callAsMethod=!0,s.eachOf=s.each;var a=function(t,e){s[t]=e};return{registerHelper:a,registerSimpleHelper:function(e,i){a(e,t.view.simpleHelper(i))},getHelper:function(t,e){var i=e&&e.get("helpers."+t,{proxyMethods:!1});if(i||(i=s[t]),i)return{fn:i}}}}),define("can/view/expression",["can/util/library","can/view/utils","can/view/mustache_helpers","can/view/scope"],function(t,e,i,n){var o=function(e,i,n){var o=i.computeData(e,n);return t.compute.temporarilyBind(o.compute),o},r=function(t,e,i,n){var r=o(t,e,n);return r.compute.computeInstance.hasDependencies?{value:r.compute,computeData:r}:{value:r.initialValue,computeData:r}},s=function(t,e,n,o){var s=r(t,e,0,o);if(void 0===s.computeData.initialValue){"@"===t.charAt(0)&&"@index"!==t&&(t=t.substr(1));var a=i.getHelper(t,n);s.helper=a&&a.fn}return s},a=function(t){return t instanceof d||t instanceof c||t instanceof h?t:new d(t)},c=function(t){this._value=t};c.prototype.value=function(){return this._value};var u=function(t,e){this.key=t,this.rootExpr=e};u.prototype.value=function(t,e){var i=s(this.key,t,e);return this.isHelper=i.helper&&!i.helper.callAsMethod,i.helper||i.value};var l=function(t,e){u.apply(this,arguments)};l.prototype.value=function(t,e){return r(this.key,t).value};var d=function(t,e){this.expr=t,this.modifiers=e||{},this.isCompute=!1};d.prototype.value=function(){return this.expr.value.apply(this.expr,arguments)};var h=function(t){this.hashExprs=t};h.prototype.value=function(){var e={};for(var i in this.hashExprs){var n=this.hashExprs[i],o=n.value.apply(n,arguments);e[i]={call:o&&o.isComputed&&(!n.modifiers||!n.modifiers.compute),value:o}}return t.compute(function(){var t={};for(var i in e)t[i]=e[i].call?e[i].value():e[i].value;return t})};var p=function(e,i,n){n&&!t.isEmptyObject(n)&&i.push(new h(n)),this.methodExpr=e,this.argExprs=t.map(i,a)};p.prototype.args=function(t,e){for(var i=[],n=0,o=this.argExprs.length;n<o;n++){var r=this.argExprs[n],s=r.value.apply(r,arguments);i.push({call:s&&s.isComputed&&(!r.modifiers||!r.modifiers.compute),value:s})}return function(){for(var t=[],e=0,n=i.length;e<n;e++)t[e]=i[e].call?i[e].value():i[e].value;return t}},p.prototype.value=function(e,i,n){var o=this.methodExpr.value(e,i);this.isHelper=this.methodExpr.isHelper;var r=this.args(e,i);return t.compute(function(t){var e=o;if(e&&e.isComputed&&(e=e()),"function"==typeof e){var i=r();return n&&i.push(n),arguments.length&&i.unshift(new j.SetIdentifier(t)),e.apply(null,i)}})};var f=function(){u.apply(this,arguments)};f.prototype.value=function(t,e){var i=s(this.key,t,e,{isArgument:!0,args:[t.attr("."),t]});return i.helper||i.value};var g=function(){u.apply(this,arguments)};g.prototype.value=function(t,e){return r(this.key,t,0,{callMethodsOnObservables:!0,isArgument:!0,args:[t.attr("."),t]}).value};var m=function(t,e,i){this.methodExpr=t,this.argExprs=e,this.hashExprs=i,this.mode=null};m.prototype.args=function(t,e){for(var i=[],n=0,o=this.argExprs.length;n<o;n++){var r=this.argExprs[n];i.push(r.value.apply(r,arguments))}return i},m.prototype.hash=function(t,e){var i={};for(var n in this.hashExprs){var o=this.hashExprs[n];i[n]=o.value.apply(o,arguments)}return i},
m.prototype.helperAndValue=function(e,n){var r,s,a,u,l=this.argExprs.length||!t.isEmptyObject(this.hashExprs),d=this.methodExpr instanceof c?""+this.methodExpr._value:this.methodExpr.key;if(l){r=i.getHelper(d,n);var h=e.attr(".");r||"function"!=typeof h[d]||(r={fn:h[d]})}if(!r){u=this.args(e,n);var p=o(d,e,{isArgument:!1,args:u&&u.length?u:[e.attr("."),e]}),f=p.compute;a=p.initialValue,s=p.compute.computeInstance.hasDependencies?f:a,l||void 0!==a||(r=i.getHelper(d,n))}return{value:s,args:u,helper:r&&r.fn}},m.prototype.evaluator=function(i,n,o,r,s,a,c,u){var l={fn:function(){},inverse:function(){},stringOnly:u},d=n.attr("."),h=this.args(n,o,s,a,c,u),p=this.hash(n,o,s,a,c,u);return e.convertToScopes(l,n,o,s,a,c,u),t.simpleExtend(l,{context:d,scope:n,contexts:n,hash:p,nodeList:s,exprData:this,helperOptions:o,helpers:o}),h.push(l),function(){return i.apply(d,h)}},m.prototype.value=function(e,i,n,o,r,s){var a=this.helperAndValue(e,i),c=a.helper;if(!c)return a.value;var u=this.evaluator(c,e,i,n,o,r,s),l=t.compute(u);return t.compute.temporarilyBind(l),l.computeInstance.hasDependencies?l:l()};var b=/[\w\.\\\-_@\/\&%]+/,v=/('.*?'|".*?"|=|[\w\.\\\-_@\/*%\$:]+|[\(\)]|,|\~)/g,y=/^('.*?'|".*?"|[0-9]+\.?[0-9]*|true|false|null|undefined)$/,w=function(t){return b.test(t)},k=/^[\.@]\w/,x=function(t){return w(t)&&k.test(t)},C=function(t){return t.children||(t.children=[]),t},S=function(){this.root={children:[],type:"Root"},this.current=this.root,this.stack=[this.root]};t.simpleExtend(S.prototype,{top:function(){return t.last(this.stack)},isRootTop:function(){return this.top()===this.root},popTo:function(t){this.popUntil(t),this.isRootTop()||this.stack.pop()},firstParent:function(e){for(var i=this.stack.length-2;i>0&&-1===t.inArray(this.stack[i].type,e);)i--;return this.stack[i]},popUntil:function(e){for(;-1===t.inArray(this.top().type,e)&&!this.isRootTop();)this.stack.pop();return this.top()},addTo:function(t,e){var i=this.popUntil(t);C(i).children.push(e)},addToAndPush:function(t,e){this.addTo(t,e),this.stack.push(e)},topLastChild:function(){return t.last(this.top().children)},replaceTopLastChild:function(t){var e=C(this.top()).children;return e.pop(),e.push(t),t},replaceTopLastChildAndPush:function(t){this.replaceTopLastChild(t),this.stack.push(t)},replaceTopAndPush:function(t){var e;return this.top()===this.root?e=C(this.top()).children:(this.stack.pop(),e=C(this.top()).children),e.pop(),e.push(t),this.stack.push(t),t}});var T=function(t){var e=t.lastIndexOf("./"),i=t.lastIndexOf(".");if(i>e)return t.substr(0,i)+"@"+t.substr(i+1);var n=-1===e?0:e+2,o=t.charAt(n);return"."===o||"@"===o?t.substr(0,n)+"@"+t.substr(n+1):t.substr(0,n)+"@"+t.substr(n)},P=function(t){return"Lookup"===t.type&&(t.key=T(t.key)),t},A=function(t){var e=t.top();if(e&&"Lookup"===e.type){var i=t.stack[t.stack.length-2];"Helper"!==i.type&&i&&t.replaceTopAndPush({type:"Helper",method:e})}},j={convertKeyToLookup:T,Literal:c,Lookup:u,ScopeLookup:l,Arg:d,Hashes:h,Call:p,Helper:m,HelperLookup:f,HelperScopeLookup:g,SetIdentifier:function(t){this.value=t},tokenize:function(e){var i=[];return(t.trim(e)+" ").replace(v,function(t,e){i.push(e)}),i},lookupRules:{default:function(t,e,i){var n=("Helper"!==e||t.root?"":"Helper")+(i?"Scope":"")+"Lookup";return j[n]},method:function(t,e,i){return l}},methodRules:{default:function(t){return"Call"===t.type?p:m},call:function(t){return p}},parse:function(t,e){e=e||{};var i=this.ast(t);return e.lookupRule||(e.lookupRule="default"),"string"==typeof e.lookupRule&&(e.lookupRule=j.lookupRules[e.lookupRule]),e.methodRule||(e.methodRule="default"),"string"==typeof e.methodRule&&(e.methodRule=j.methodRules[e.methodRule]),this.hydrateAst(i,e,e.baseMethodType||"Helper")},hydrateAst:function(e,i,n,o){var r,s=this;if("Lookup"===e.type)return new(i.lookupRule(e,n,o))(e.key,e.root&&this.hydrateAst(e.root,i,n));if("Literal"===e.type)return new c(e.value);if("Arg"===e.type)return new d(this.hydrateAst(e.children[0],i,n,o),{compute:!0});if("Hashes"===e.type)return r={},t.each(e.children,function(t){r[t.prop]=s.hydrateAst(t.children[0],i,e.type,!0)}),new h(r);if("Hash"===e.type)throw new Error("");if("Call"===e.type||"Helper"===e.type){var a=[];return r={},t.each(e.children,function(t){"Hash"===t.type?r[t.prop]=s.hydrateAst(t.children[0],i,e.type,!0):a.push(s.hydrateAst(t,i,e.type,!0))}),new(i.methodRule(e))(this.hydrateAst(e.method,i,e.type),a,r)}},ast:function(t){var e=this.tokenize(t);return this.parseAst(e,{index:0})},parseAst:function(i,n){for(var o,r=new S;n.index<i.length;){var s=i[n.index],a=i[n.index+1];if(n.index++,y.test(s))A(r),r.addTo(["Helper","Call","Hash"],{type:"Literal",value:e.jsonParse(s)});else if("="===a){if((o=r.top())&&"Lookup"===o.type){var c=r.firstParent(["Call","Helper","Hash"]);"Call"!==c.type&&"Root"!==c.type||(r.popUntil(["Call"]),o=r.top(),r.replaceTopAndPush({type:"Helper",method:"Root"===o.type?t.last(o.children):o}))}o=r.popUntil(["Helper","Call","Hashes"]),"Call"===o.type&&r.addToAndPush(["Call"],{type:"Hashes"}),r.addToAndPush(["Helper","Hashes"],{type:"Hash",prop:s}),n.index++}else if(b.test(s)){var u=r.topLastChild();u&&"Call"===u.type&&x(s)?r.replaceTopLastChildAndPush({type:"Lookup",root:u,key:s}):(A(r),r.addToAndPush(["Helper","Call","Hash","Arg"],{type:"Lookup",key:s}))}else if("~"===s)A(r),r.addToAndPush(["Helper","Call","Hash"],{type:"Arg",key:s});else if("("===s){if(o=r.top(),"Lookup"!==o.type)throw new Error("Unable to understand expression "+i.join(""));r.replaceTopAndPush({type:"Call",method:P(o)})}else")"===s?r.popTo(["Call"]):","===s&&r.popUntil(["Call"])}return r.root.children[0]}};return t.expression=j,j}),define("can/view/href",["can/util/library","can/view/expression","can/view/callbacks","can/view/scope"],function(t,e){var i=function(t){return"{"===t[0]&&"}"===t[t.length-1]?t.substr(1,t.length-2):t};t.view.attr("can-href",function(n,o){var r=e.parse("tmp("+i(n.getAttribute("can-href"))+")",{baseMethodType:"Call"}),s=r.argExprs[0].value(o.scope,null),a=t.compute(function(){return t.route.url(s())});n.setAttribute("href",a());var c=function(t,e){n.setAttribute("href",e)};a.bind("change",c),t.bind.call(n,"removed",function(){a.unbind("change",c)})})}),define("can/view/bindings",["can/util/library","can/view/expression","can/view/callbacks","can/view/live","can/view/scope","can/view/href"],function(t,e,i,n){var o={viewModel:function(e,i,n,o){o=o||{};var r,s={},a=[],c={},u={},d=t.extend({},o);t.each(t.makeArray(e.attributes),function(t){var n=l(t,e,{templateType:i.templateType,scope:i.scope,semaphore:s,getViewModel:function(){return r},attributeViewModelBindings:d,alreadyUpdatedChild:!0,nodeList:i.parentNodeList});n&&(n.onCompleteBinding&&(n.bindingInfo.parentToChild&&void 0!==n.value&&(o[b(n.bindingInfo.childName)]=n.value),a.push(n.onCompleteBinding)),c[t.name]=n.onTeardown)}),r=n(o);for(var h=0,p=a.length;h<p;h++)a[h]();return t.bind.call(e,"attributes",function(t){var n=t.attributeName,o=e.getAttribute(n);c[n]&&c[n]();var s=u[n]&&"attribute"===u[n].parent;if(null!==o||s){var a=l({name:n,value:o},e,{templateType:i.templateType,scope:i.scope,semaphore:{},getViewModel:function(){return r},attributeViewModelBindings:d,initializeValues:!0,nodeList:i.parentNodeList});a&&(a.onCompleteBinding&&a.onCompleteBinding(),u[n]=a.bindingInfo,c[n]=a.onTeardown)}}),function(){for(var t in c)c[t]()}},data:function(e,i){if(!t.data(t.$(e),"preventDataBindings")){var n,o=t.viewModel(e),r={},s=l({name:i.attributeName,value:e.getAttribute(i.attributeName),nodeList:i.nodeList},e,{templateType:i.templateType,scope:i.scope,semaphore:r,getViewModel:function(){return o}});s.onCompleteBinding&&s.onCompleteBinding(),n=s.onTeardown,t.one.call(e,"removed",function(){n()}),t.bind.call(e,"attributes",function(t){var s=t.attributeName,a=e.getAttribute(s);if(s===i.attributeName&&(n&&n(),null!==a)){var c=l({name:s,value:a},e,{templateType:i.templateType,scope:i.scope,semaphore:r,getViewModel:function(){return o},initializeValues:!0,nodeList:i.nodeList});c&&(c.onCompleteBinding&&c.onCompleteBinding(),n=c.onTeardown)}})}},reference:function(e,i){e.getAttribute(i.attributeName)&&console.warn("*reference attributes can only export the view model.");var n=t.camelize(i.attributeName.substr(1).toLowerCase()),o=t.viewModel(e);i.scope.getRefs()._context.attr("*"+n,o)},event:function(i,n){var o=n.attributeName,r=0===o.indexOf("can-"),s=0===o.indexOf("can-")?o.substr("can-".length):t.camelize(f(o,"(",")")),a=r;"$"===s.charAt(0)&&(s=s.substr(1),a=!0);var c=function(r){var s=i.getAttribute(o);if(s){var a=t.$(i),c=t.viewModel(a[0]),u=e.parse(f(s),{lookupRule:"method",methodRule:"call"});if(!(u instanceof e.Call||u instanceof e.Helper)){var l=t.map([n.scope._context,a].concat(t.makeArray(arguments)),function(t){return new e.Literal(t)});u=new e.Call(u,l,{})}var d=n.scope.add({"@element":a,"@event":r,"@viewModel":c,"@scope":n.scope,"@context":n.scope._context,"%element":this,$element:a,"%event":r,"%viewModel":c,"%scope":n.scope,"%context":n.scope._context},{notContext:!0}),h=d.read(u.methodExpr.key,{isArgument:!0});if(!h.value)return h=d.read(u.methodExpr.key,{isArgument:!0}),null;var p=u.args(d,null)();return h.value.apply(h.parent,p)}};if(v[s]){var u=v[s](n,i,c);c=u.handler,s=u.event}t.bind.call(a?i:t.viewModel(i),s,c);var l=function(e){e.attributeName!==o||this.getAttribute(o)||(t.unbind.call(a?i:t.viewModel(i),s,c),t.unbind.call(i,"attributes",l))};t.bind.call(i,"attributes",l)},value:function(e,i){var n,o="$value",s=t.trim(f(e.getAttribute("can-value")));if("input"!==e.nodeName.toLowerCase()||"checkbox"!==e.type&&"radio"!==e.type)p(e)&&(o="$innerHTML");else{var a=r.scope(e,i.scope,s,{},!0);if("checkbox"===e.type){var c=!t.attr.has(e,"can-true-value")||e.getAttribute("can-true-value"),u=!!t.attr.has(e,"can-false-value")&&e.getAttribute("can-false-value");n=t.compute(function(t){if(!arguments.length)return a()==c;a(t?c:u)})}else"radio"===e.type&&(n=t.compute(function(t){if(!arguments.length)return a()==e.value;t&&a(e.value)}));o="$checked",s="getterSetter",i.scope=new t.view.Scope({getterSetter:n})}var d=l({name:"{("+o+"})",value:s},e,{templateType:i.templateType,scope:i.scope,semaphore:{},initializeValues:!0,legacyBindings:!0,syncChildWithParent:!0});t.one.call(e,"removed",function(){d.onTeardown()})}};t.view.attr(/^\{[^\}]+\}$/,o.data),t.view.attr(/\*[\w\.\-_]+/,o.reference),t.view.attr(/^\([\$?\w\.\-]+\)$/,o.event),t.view.attr(/can-[\w\.]+/,o.event),t.view.attr("can-value",o.value);var r={scope:function(i,n,o,r,s,a){if(o){if(s){return e.parse(o,{baseMethodType:"Call"}).value(n,new t.view.Options({}))}return function(t){n.attr(b(o),t)}}return t.compute()},viewModel:function(e,i,n,o,r,s){var a=b(n);return r?t.compute(function(e){var i=o.getViewModel();if(!arguments.length)return"."===n?i:t.compute.read(i,t.compute.read.reads(n),{}).value;i.attr(a,e)}):function(e){var i,n=o.getViewModel();s?(i=n._get(a,{readCompute:!1}),i&&i.isComputed||(i=t.compute(),n._set(a,i,{readCompute:!1})),i(e)):n.attr(a,e)}},attribute:function(e,i,n,o,r,s,a){var c,u,l,d,h,p="select"===e.nodeName.toLowerCase(),f="value"===n&&p&&e.multiple,g=!1;a||(a="innerHTML"===n?["blur","change"]:"change"),t.isArray(a)||(a=[a]);var m=function(i){if(p&&!g&&(clearTimeout(l),l=setTimeout(function(){m(i)},1)),u=i,f){i&&"string"==typeof i?(i=i.split(";"),c=!0):i=i?t.makeArray(i):[];var r={};t.each(i,function(t){r[t]=!0}),t.each(e.childNodes,function(t){t.value&&(t.selected=!!r[t.value])})}else!o.legacyBindings&&p&&"selectedIndex"in e&&"value"===n?t.attr.setSelectValue(e,i):t.attr.setAttrOrProp(e,n,null==i?"":i);return i},b=function(){if(f){var i=[],o=e.childNodes;return t.each(o,function(t){t.selected&&t.value&&i.push(t.value)}),c?i.join(";"):i}if(!(p&&"selectedIndex"in e&&-1===e.selectedIndex))return t.attr.get(e,n)};p&&setTimeout(function(){g=!0},1),e.tagName&&"input"===e.tagName.toLowerCase()&&e.form&&(d=[{el:e.form,eventName:"reset",handler:function(){m(h)}}]);var v;return h=b(),t.compute(h,{on:function(i){if(t.each(a,function(n){t.bind.call(e,n,i)}),t.each(d,function(e){t.bind.call(e.el,e.eventName,e.handler)}),p){var n=function(t){s&&m(s()),i()};t.attr.MutationObserver?(v=new t.attr.MutationObserver(n),v.observe(e,{childList:!0,subtree:!0})):t.data(t.$(e),"canBindingCallback",{onMutation:n})}},off:function(i){t.each(a,function(n){t.unbind.call(e,n,i)}),t.each(d,function(e){t.unbind.call(e.el,e.eventName,e.handler)}),p&&(t.attr.MutationObserver?v.disconnect():t.data(t.$(e),"canBindingCallback",null))},get:b,set:m})}},s={childToParent:function(e,i,n,o,r,s){var a="function"==typeof i,c=function(e,c){o[r]||(a?(i(c),s&&i()!==n()&&(o[r]=(o[r]||0)+1,t.batch.start(),n(i()),t.batch.after(function(){--o[r]}),t.batch.stop())):i instanceof t.Map&&i.attr(c,!0))};return n&&n.isComputed&&n.bind("change",c),c},parentToChild:function(e,i,n,o,r){var s=function(e,i){o[r]=(o[r]||0)+1,t.batch.start(),n(i),t.batch.after(function(){--o[r]}),t.batch.stop()};return i&&i.isComputed&&i.bind("change",s),s}},a=function(e,n,o,r){var s,a=e.name,l=e.value||"",d=a.match(c);if(!d){var h=u.test(a),p=t.camelize(a);if(h||i.attr(a))return;var f="{"===l[0]&&"}"===t.last(l),g="legacy"===o?n[p]:!f,m=f?l.substr(1,l.length-2):l;return g?{bindingAttributeName:a,parent:"attribute",parentName:a,child:"viewModel",childName:p,parentToChild:!0,childToParent:!0}:{bindingAttributeName:a,parent:"scope",parentName:m,child:"viewModel",childName:p,parentToChild:!0,childToParent:!0}}var b=!!d[1],v=b||!!d[2],y=b||!v,w=d[3];return"$"===w.charAt(0)?(s={parent:"scope",child:"attribute",childToParent:v,parentToChild:y,bindingAttributeName:a,childName:w.substr(1),parentName:l,initializeValues:!0},"select"===r&&(s.stickyParentToChild=!0),s):(s={parent:"scope",child:"viewModel",childToParent:v,parentToChild:y,bindingAttributeName:a,childName:t.camelize(w),parentName:l,initializeValues:!0},"~"===l.trim().charAt(0)&&(s.stickyParentToChild=!0),s)},c=/\{(\()?(\^)?([^\}\)]+)\)?\}/,u=/^(data-view-id|class|id|\[[\w\.-]+\]|#[\w\.-])$/i,l=function(e,i,n){var o=a(e,n.attributeViewModelBindings,n.templateType,i.nodeName.toLowerCase());if(o){o.alreadyUpdatedChild=n.alreadyUpdatedChild,n.initializeValues&&(o.initializeValues=!0);var c,u,l,h=r[o.parent](i,n.scope,o.parentName,n,o.parentToChild),p=r[o.child](i,n.scope,o.childName,n,o.childToParent,o.stickyParentToChild&&h);n.nodeList&&(h&&h.isComputed&&h.computeInstance.setPrimaryDepth(n.nodeList.nesting+1),p&&p.isComputed&&p.computeInstance.setPrimaryDepth(n.nodeList.nesting+1)),o.parentToChild&&(u=s.parentToChild(i,h,p,n.semaphore,o.bindingAttributeName));var f=function(){o.childToParent?c=s.childToParent(i,h,p,n.semaphore,o.bindingAttributeName,n.syncChildWithParent):o.stickyParentToChild&&p.bind("change",l=t.k),o.initializeValues&&d(o,p,h,u,c)},b=function(){m(h,u),m(p,c),m(p,l)};return"viewModel"===o.child?{value:g(h),onCompleteBinding:f,bindingInfo:o,onTeardown:b}:(f(),{bindingInfo:o,onTeardown:b})}},d=function(t,e,i,n,o){var r=!1;t.parentToChild&&!t.childToParent?t.stickyParentToChild&&n({},g(i)):!t.parentToChild&&t.childToParent?r=!0:void 0===g(e)||void 0===g(i)&&(r=!0),r?o({},g(e)):t.alreadyUpdatedChild||n({},g(i))};if(!t.attr.MutationObserver){var h=function(e){var i=t.data(t.$(e),"canBindingCallback");i&&i.onMutation(e)};n.registerChildMutationCallback("select",h),n.registerChildMutationCallback("optgroup",function(t){h(t.parentNode)})}var p=function(){var t={"":!0,true:!0,false:!1},e=function(e){if(e&&e.getAttribute){var i=e.getAttribute("contenteditable");return t[i]}};return function(t){var i=e(t);return"boolean"==typeof i?i:!!e(t.parentNode)}}(),f=function(t,e,i){return e=e||"{",i=i||"}",t[0]===e&&t[t.length-1]===i?t.substr(1,t.length-2):t},g=function(t){return t&&t.isComputed?t():t},m=function(t,e){t&&t.isComputed&&"function"==typeof e&&t.unbind("change",e)},b=function(t){return t.replace(/@/g,"")},v={enter:function(t,e,i){return{event:"keyup",handler:function(t){if(13===t.keyCode)return i.call(this,t)}}}};return t.bindings={behaviors:o,getBindingInfo:a,special:v},t.bindings}),define("can/view/mustache",["can/util/library","can/view/scope","can/view","can/scanner","can/compute","can/render","can/view/bindings"],function(t){t.view.ext=".mustache";var e="scope,options",i=/((([^'"\s]+?=)?('.*?'|".*?"))|.*?)\s/g,n=/^(('.*?'|".*?"|[0-9]+\.?[0-9]*|true|false|null|undefined)|((.+?)=(('.*?'|".*?"|[0-9]+\.?[0-9]*|true|false)|(.+))))$/,o=function(t){return'{get:"'+t.replace(/"/g,'\\"')+'"}'},r=function(t){return t&&"string"==typeof t.get},s=function(e){return e instanceof t.Map||e&&!!e._get},a=function(t){return t&&t.splice&&"number"==typeof t.length},c=function(e,i,n){var o=function(t,n){return e(t||i,n)};return function(e,r){return void 0===e||e instanceof t.view.Scope||(e=i.add(e)),void 0===r||r instanceof t.view.Options||(r=n.add(r)),o(e,r||n)}},u=function(e,i){if(this.constructor!==u){var n=new u(e);return function(t,e){return n.render(t,e)}}if("function"==typeof e)return void(this.template={fn:e});t.extend(this,e),this.template=this.scanner.scan(this.text,this.name)};t.Mustache=t.global.Mustache=u,u.prototype.render=function(e,i){return e instanceof t.view.Scope||(e=new t.view.Scope(e||{})),i instanceof t.view.Options||(i=new t.view.Options(i||{})),i=i||{},this.template.fn.call(e,e,i)},t.extend(u.prototype,{scanner:new t.view.Scanner({text:{start:"",scope:"scope",options:",options: options",argNames:e},tokens:[["returnLeft","{{{","{{[{&]"],["commentFull","{{!}}","^[\\s\\t]*{{!.+?}}\\n"],["commentLeft","{{!","(\\n[\\s\\t]*{{!|{{!)"],["escapeFull","{{}}","(^[\\s\\t]*{{[#/^][^}]+?}}\\n|\\n[\\s\\t]*{{[#/^][^}]+?}}\\n|\\n[\\s\\t]*{{[#/^][^}]+?}}$)",function(t){return{before:/^\n.+?\n$/.test(t)?"\n":"",content:t.match(/\{\{(.+?)\}\}/)[1]||""}}],["escapeLeft","{{"],["returnRight","}}}"],["right","}}"]],helpers:[{name:/^>[\s]*\w*/,fn:function(i,n){return"can.Mustache.renderPartial('"+t.trim(i.replace(/^>\s?/,"")).replace(/["|']/g,"")+"',"+e+")"}},{name:/^\s*data\s/,fn:function(t,e){return"can.proxy(function(__){can.data(can.$(__),'"+t.match(/["|'](.*)["|']/)[1]+"', this.attr('.')); }, scope)"}},{name:/\s*\(([\$\w]+)\)\s*->([^\n]*)/,fn:function(t){var e=/\s*\(([\$\w]+)\)\s*->([^\n]*)/,i=t.match(e);return"can.proxy(function(__){var "+i[1]+"=can.$(__);with(scope.attr('.')){"+i[2]+"}}, this);"}},{name:/^.*$/,fn:function(e,r){var s=!1,a={content:"",startTxt:!1,startOnlyTxt:!1,end:!1};if(e=t.trim(e),e.length&&(s=e.match(/^([#^\/]|else$)/))){switch(s=s[0]){case"#":case"^":r.specialAttribute?a.startOnlyTxt=!0:(a.startTxt=!0,a.escaped=0);break;case"/":return a.end=!0,a.content+='return ___v1ew.join("");}}])',a}e=e.substring(1)}if("else"!==s){var c,u=[],l=[],d=0;a.content+="can.Mustache.txt(\n"+(r.specialAttribute?"{scope:scope,options:options, special: true}":"{scope:scope,options:options}")+",\n"+(s?'"'+s+'"':"null")+",",(t.trim(e)+" ").replace(i,function(t,e){d&&(c=e.match(n))?c[2]?u.push(c[0]):l.push(c[4]+":"+(c[6]?c[6]:o(c[5]))):u.push(o(e)),d++}),a.content+=u.join(","),l.length&&(a.content+=",{___h4sh:{"+l.join(",")+"}}")}switch(s&&"else"!==s&&(a.content+=",[\n\n"),s){case"^":case"#":a.content+="{fn:function(scope,options){var ___v1ew = [];";break;case"else":a.content+='return ___v1ew.join("");}},\n{inverse:function(scope,options){\nvar ___v1ew = [];';break;default:a.content+=")"}return s||(a.startTxt=!0,a.end=!0),a}}]})});for(var l=t.view.Scanner.prototype.helpers,d=0;d<l.length;d++)u.prototype.scanner.helpers.unshift(l[d]);return u.txt=function(e,i,n){for(var o,l,d=e.scope,h=e.options,p=[],f={fn:function(){},inverse:function(){}},g=d.attr("."),m=!0,b=3;b<arguments.length;b++){var v=arguments[b];if(i&&t.isArray(v))f=t.extend.apply(t,[f].concat(v));else if(v&&v.___h4sh){o=v.___h4sh;for(var y in o)r(o[y])&&(o[y]=u.get(o[y].get,e,!1,!0))}else v&&r(v)?p.push(u.get(v.get,e,!1,!0,!0)):p.push(v)}if(r(n)){var w=n.get;n=u.get(n.get,e,p.length,!1),m=w===n}if(f.fn=c(f.fn,d,h),f.inverse=c(f.inverse,d,h),"^"===i){var k=f.fn;f.fn=f.inverse,f.inverse=k}return(l=m&&"string"==typeof n&&u.getHelper(n,h)||t.isFunction(n)&&!n.isComputed&&{fn:n})?(t.extend(f,{context:g,scope:d,contexts:d,hash:o}),p.push(f),function(){var t=l.fn.apply(g,p);return null==t?"":t}):function(){var e;e=t.isFunction(n)&&n.isComputed?n():n;var o,r,c,u=p.length?p:[e],l=!0,d=[];if(i)for(o=0;o<u.length;o++)c=u[o],r=void 0!==c&&s(c),a(c)?"#"===i?l=l&&!!(r?c.attr("length"):c.length):"^"===i&&(l=l&&!(r?c.attr("length"):c.length)):l="#"===i?l&&!!c:"^"===i?l&&!c:l;if(l){if("#"===i){if(a(e)){var h=s(e);for(o=0;o<e.length;o++)d.push(f.fn(h?e.attr(""+o):e[o]));return d.join("")}return f.fn(e||{})||""}return"^"===i?f.inverse(e||{})||"":""+(null!=e?e:"")}return""}},u.get=function(e,i,n,o,r){var s=i.scope.attr("."),a=i.options||{};if(n){if(u.getHelper(e,a))return e;if(i.scope&&t.isFunction(s[e]))return s[e]}var c=i.scope.computeData(e,{isArgument:o,args:[s,i.scope]}),l=c.compute;t.compute.temporarilyBind(l);var d=c.initialValue;u.getHelper(e,a);return r||void 0!==d&&c.scope===i.scope||!u.getHelper(e,a)?l.computeInstance.hasDependencies?l:d:e},u.resolve=function(e){return s(e)&&a(e)&&e.attr("length")?e:t.isFunction(e)?e():e},u._helpers={},u.registerHelper=function(t,e){this._helpers[t]={name:t,fn:e}},u.registerSimpleHelper=function(e,i){u.registerHelper(e,t.view.simpleHelper(i))},u.getHelper=function(t,e){var i;return e&&(i=e.get("helpers."+t,{proxyMethods:!1})),i?{fn:i}:this._helpers[t]},u.render=function(e,i,n){return t.view.cached[e]||t.__notObserve(function(){var t=i.attr(e);t&&(e=t)})(),t.view.render(e,i,n)},u.safeString=function(t){return{toString:function(){return t}}},u.renderPartial=function(e,i,n){var o=n.get("partials."+e,{proxyMethods:!1});return o?o.render?o.render(i,n):o(i,n):t.Mustache.render(e,i,n)},t.each({if:function(e,i){var n;return n=t.isFunction(e)?t.compute.truthy(e)():!!u.resolve(e),n?i.fn(i.contexts||this):i.inverse(i.contexts||this)},is:function(){var e,i,n=arguments[arguments.length-1];if(arguments.length-2<=0)return n.inverse();for(var o=0;o<arguments.length-1;o++){if(i=u.resolve(arguments[o]),i=t.isFunction(i)?i():i,o>0&&i!==e)return n.inverse();e=i}return n.fn()},eq:function(){return u._helpers.is.fn.apply(this,arguments)},unless:function(e,i){return u._helpers.if.fn.apply(this,[e,t.extend({},i,{fn:i.inverse,inverse:i.fn})])},each:function(e,i){var n,o,r,c=u.resolve(e),l=[];if(t.view.lists&&(c instanceof t.List||e&&e.isComputed&&void 0===c))return t.view.lists(e,function(t,e){return i.fn(i.scope.add({"@index":e}).add(t))});if((e=c)&&a(e)){for(r=0;r<e.length;r++)l.push(i.fn(i.scope.add({"@index":r}).add(e[r])));return l.join("")}if(s(e)){for(n=t.Map.keys(e),r=0;r<n.length;r++)o=n[r],l.push(i.fn(i.scope.add({"@key":o}).add(e[o])));return l.join("")}if(e instanceof Object){for(o in e)l.push(i.fn(i.scope.add({"@key":o}).add(e[o])));return l.join("")}},with:function(t,e){var i=t;if(t=u.resolve(t))return e.fn(i)},log:function(t,e){"undefined"!=typeof console&&console.log&&(e?console.log(t,e.context):console.log(t.context))},"@index":function(e,i){i||(i=e,e=0);var n=i.scope.read("@index",{isArgument:!0}).value;return""+((t.isFunction(n)?n():n)+e)}},function(t,e){u.registerHelper(e,t)}),t.view.register({suffix:"mustache",contentType:"x-mustache-template",script:function(t,e){return"can.Mustache(function(scope,options) { "+new u({text:e,name:t}).template.out+" })"},renderer:function(t,e){return u({text:e,name:t})}}),t.mustache.registerHelper=t.proxy(t.Mustache.registerHelper,t.Mustache),t.mustache.safeString=t.Mustache.safeString,t}),define("can/observe",["can/util/library","can/map","can/list","can/compute"],function(t){return t.Observe=t.Map,t.Observe.startBatch=t.batch.start,t.Observe.stopBatch=t.batch.stop,t.Observe.triggerBatch=t.batch.trigger,t}),define("can/util/view_model",["can/util/library"],function(t){var e=t.$;e.fn&&(e.fn.scope=e.fn.viewModel=function(){return t.viewModel.apply(t,[this].concat(t.makeArray(arguments)))})}),define("can/component",["can/util/library","can/view/callbacks","can/elements","can/view/bindings","can/control","can/observe","can/view/mustache","can/util/view_model"],function(t,e,i,n){var o=/\{([^\}]+)\}/g,r=t.Component=t.Construct.extend({setup:function(){if(t.Construct.setup.apply(this,arguments),t.Component){var e=this,i=this.prototype.scope||this.prototype.viewModel;if(this.Control=s.extend(this.prototype.events),i&&("object"!=typeof i||i instanceof t.Map)?i.prototype instanceof t.Map&&(this.Map=i):this.Map=t.Map.extend(i||{}),this.attributeScopeMappings={},t.each(this.Map?this.Map.defaults:{},function(t,i){"@"===t&&(e.attributeScopeMappings[i]=i)}),this.prototype.template)if("function"==typeof this.prototype.template){var n=this.prototype.template;this.renderer=function(){return t.view.frag(n.apply(null,arguments))}}else this.renderer=t.view.mustache(this.prototype.template);t.view.tag(this.prototype.tag,function(t,i){new e(t,i)})}}},{setup:function(e,o){var r,s,a={},c=this,u=void 0!==this.leakScope&&!this.leakScope&&!!this.template,l=[],d=function(){for(var t=0,e=l.length;t<e;t++)l[t]()},h=t.$(e),p=!t.data(h,"preventDataBindings");t.each(this.constructor.attributeScopeMappings,function(i,n){a[n]=e.getAttribute(t.hyphenate(i))}),p&&l.push(n.behaviors.viewModel(e,o,function(i){i["%root"]=o.scope.attr("%root");var n=c.scope||c.viewModel;if(c.constructor.Map)r=new c.constructor.Map(i);else if(n instanceof t.Map)r=n;else if(t.isFunction(n)){var s=n.call(c,i,o.scope,e);r=s instanceof t.Map?s:s.prototype instanceof t.Map?new s(i):new(t.Map.extend(s))(i)}var a=r.serialize;return r.serialize=function(){var t=a.apply(this,arguments);return delete t["%root"],t},r},a)),this.scope=this.viewModel=r,t.data(h,"scope",this.viewModel),t.data(h,"viewModel",this.viewModel),t.data(h,"preventDataBindings",!0);var f;f=u?t.view.Scope.refsScope().add(this.viewModel,{viewModel:!0}):(this.constructor.renderer?o.scope.add(new t.view.Scope.Refs):o.scope).add(this.viewModel,{viewModel:!0});var g={helpers:{}},m=function(t,e){g.helpers[t]=function(){return e.apply(r,arguments)}};t.each(this.helpers||{},function(e,i){t.isFunction(e)&&m(i,e)}),t.each(this.simpleHelpers||{},function(e,i){m(i,t.view.simpleHelper(e))}),this._control=new this.constructor.Control(e,{scope:this.viewModel,viewModel:this.viewModel,destroy:d});var b=t.view.nodeLists.register([],void 0,o.parentNodeList||!0,!1);b.expression="<"+this.tag+">",l.push(function(){t.view.nodeLists.unregister(b)}),this.constructor.renderer?(g.tags||(g.tags={}),g.tags.content=function e(n,r){var s=o.subtemplate||r.subtemplate,a=s===o.subtemplate;if(s){delete g.tags.content;var c;if(c=a?u?o:{scope:r.scope.cloneFromRef(),options:r.options}:r,r.parentNodeList){var l=s(c.scope,c.options,r.parentNodeList);i.replace([n],l)}else t.view.live.replace([n],s(c.scope,c.options));g.tags.content=e}},s=this.constructor.renderer(f,o.options.add(g),b)):s="legacy"===o.templateType?t.view.frag(o.subtemplate?o.subtemplate(f,o.options.add(g)):""):o.subtemplate?o.subtemplate(f,o.options.add(g),b):document.createDocumentFragment(),t.appendChild(e,s,t.document),t.view.nodeLists.update(b,t.childNodes(e))}}),s=t.Control.extend({_lookup:function(t){return[t.scope,t,window]},_action:function(e,i,n){var r,s;if(o.lastIndex=0,r=o.test(e),n||!r){if(r){s=t.compute(function(){var n,r=e.replace(o,function(e,o){var r;return"scope"===o||"viewModel"===o?(n=i.viewModel,""):(o=o.replace(/^(scope|^viewModel)\./,""),r=t.compute.read(i.viewModel,t.compute.read.reads(o),{readCompute:!1}).value,void 0===r&&(r=t.getObject(o)),"string"==typeof r?r:(n=r,""))}),s=r.split(/\s+/g),a=s.pop();return{processor:this.processors[a]||this.processors.click,parts:[r,s.join(" "),a],delegate:n||void 0}},this);var a=function(t,i){n._bindings.control[e](n.element),n._bindings.control[e]=i.processor(i.delegate||n.element,i.parts[2],i.parts[1],e,n)};return s.bind("change",a),n._bindings.readyComputes[e]={compute:s,handler:a},s()}return t.Control._action.apply(this,arguments)}}},{setup:function(e,i){return this.scope=i.scope,this.viewModel=i.viewModel,t.Control.prototype.setup.call(this,e,i)},off:function(){this._bindings&&t.each(this._bindings.readyComputes||{},function(t){t.compute.unbind("change",t.handler)}),t.Control.prototype.off.apply(this,arguments),this._bindings.readyComputes={}},destroy:function(){t.Control.prototype.destroy.apply(this,arguments),"function"==typeof this.options.destroy&&this.options.destroy.apply(this,arguments)}}),a=t.$;return a.fn&&(a.fn.scope=a.fn.viewModel=function(){return t.viewModel.apply(t,[this].concat(t.makeArray(arguments)))}),r}),define("can",["can/util/library","can/control/route","can/model","can/map/define","can/view/mustache","can/component"],function(t){return t}),define("debug",["can"],function(t){"use strict";return t.Control.extend({defaults:{debug:!1,control:null}},{init:function(t,e){var i=decodeURIComponent(window.location.search);!e.debug&&null!==typeof e.control&&i.indexOf("aceui:debug="+e.control)>-1?(this.options.debug=!0,this.info("Enabling URL Debug mode for "+this.options.control)):e.debug&&null!==typeof e.control&&this.info("Enabling File Debug mode for "+this.options.control)},log:function(t){this.printIt("log",arguments)},warn:function(t){this.printIt("warn",arguments)},error:function(t){this.printIt("error",arguments)},info:function(t){this.printIt("info",arguments)},debug:function(t){this.printIt("debug",arguments)},printIt:function(t,e){var i,n,o;switch(t){case"error":n=console.error;break;case"warn":n=console.warn;break;case"log":n=console.log;break;case"info":n=console.info;break;case"debug":n=console.debug}if(this.options.debug){for(o=[this.options.control+":"],i=0;i<e.length;i++)o.push(e[i]);o=[].concat.apply([],o),n.apply(console,o)}}})}),define("dom/topEndMatters/TopOfPageControl",["can","debug"],function(t,e){"use strict";function i(t){var e=t instanceof HTMLElement,i=!!e&&!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length),n=e?"hidden"===window.getComputedStyle(t).getPropertyValue("visibility"):void 0,o=e&&t.parentElement instanceof HTMLElement?"hidden"===window.getComputedStyle(t.parentElement).getPropertyValue("visibility"):void 0;return!(n&&!o)&&i}return t.Control.extend({defaults:{debug:!1}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"TopOfPage"}),this.debug.log("----------------------------------------TopOfPage--------------------------------------------------")},stickyNavToggle:function(){var t,e,n,o=[".banner",".message",".translation_mtwidget_main_box"],r=!1;if(document.querySelector(".Gnav-active")instanceof HTMLElement&&window.adobeGlobalnav){for(n=o.length,e=0;e<n;e++)if(t=document.querySelector(o[e]),i(t)){r=!0;break}r?window.adobeGlobalnav.unsetSticky():window.adobeGlobalnav.setSticky()}},"{window} adobeGlobalnav:GlobalnavReady":function(){this.stickyNavToggle()},"{window} aceui-topMessageClose":function(){this.debug.log("The top message has been closed, Gnav is becoming sticky again"),window.adobeGlobalnav&&window.adobeGlobalnav.setSticky()},"{window} aceui-topMessageOpen":function(){this.debug.log("A top message has been opened, Gnav is no longer sticky"),window.adobeGlobalnav&&window.adobeGlobalnav.unsetSticky()}})}),define("dom/topEndMatters/SeedTopOfPage",["linseed!./TopOfPageControl"],function(t){"use strict";return t("seed-topofpage").seedEach()}),define("topofpage",["./dom/topEndMatters/SeedTopOfPage"],function(t){"use strict";return{name:t.id}}),define("interactive/js/http/deeplink/DeepLink",["can","debug"],function(t,e){"use strict";function i(e,i,n){var r=t.$("#"+i.id).data("hash-mobilelink");n.log("HashEvents loading with: evn",e,"target",i),t.$("body").width()<"700"&&void 0!==r?(n.log("HashEvents width() < 700"),window.location.hash="x",document.documentElement.classList.remove("root-noscroll"),window.location.href=r):(n.log("HashEvents width() > 700"),this.create=function(){return document.createEvent?(o=document.createEvent("CustomEvent"),o.initEvent(e,!0,!1)):(o=document.createEventObject(),o.eventType=e),o.validDom=i,o}(),this.fire=function(t){
i.dispatchEvent?(n.log("HashEvents: dispatchEvent",t),i.dispatchEvent(t)):(n.log("HashEvents: !dispatchEvent"),i.fireEvent&&htmlEvents["on"+eventName]&&(n.log("HashEvents: target.fireEvent"),i.fireEvent("on"+t.eventType,t))),n.log("HashEvents: FIRED "+t.type+" targeting "+i.tagName.toLowerCase()+"#"+i.id)})}function n(t,e){var i,n=!1;for(i=0;i<=e.length;i++){if(t.contains&&t.contains(e[i]))return n=!0;if(t.indexOf&&t.indexOf(e[i])>=0)return n=!0}return n}var o;return t.Control.extend({defaults:{debug:!1,linkable:"deeplinkable",modals:["hash-window"],logHosts:["localhost","127","aceui","dev0","qa0","stage"]}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"Deeplink"}),t.$("body").on("adobeGNav:ImsReady",function(){t.$(".globalnav__menu-bar__button").on("click",function(){window.location.hash=""})})},config:function(t,e){var i,o,r,s,a;t.length>=2&&!t.match(/[!&=]/i)&&(i=document.querySelector(t),o=!!i&&i.dataset[this.options.linkable],this.debug.log("DeepLink domEl & elValid",i,o),i&&o&&(r=i.getAttribute("type"),s="radio"===r||"checkbox"===r,a=n(i.classList,this.options.modals),this.debug.log("elRCck",s),this.debug.log("elModalCk",a),s?this.checkedit(i):a?(this.debug.log("elModalCk firing"),this.modal(i)):"details"===i.tagName.toLowerCase()&&this.showDetails(i)))},checkedit:function(t){t.checked=!0,this.triggerEvent("hashInputChecked",t)},showDetails:function(t){t.setAttribute("open","open"),this.triggerEvent("hashShowDetails",t)},modal:function(t){this.triggerEvent("hashDomValidated",t)},triggerEvent:function(t,e){var n=new i(t,e,this.debug),o=n.create;n.fire(o)},handleHash:function(t,e){var i=t.location.hash||"";i&&this.config(i,e)},"{window} load":function(t,e){this.debug.log("DeepLink log {window} load: ",e.type,e.timeStamp,window.location.hash),this.handleHash(e.target,e)},"{window} hashchange":function(t,e){this.debug.log("DeepLink log {window} hashchange:",e.type,e.timeStamp,window.location.hash),this.handleHash(e.target,e)}})}),define("interactive/js/http/deeplink/SeedDeepLink",["linseed!./DeepLink"],function(t){"use strict";return t().seedOn(document.querySelector("body"),"data-seed-deeplink"),t("seed-deeplink").seedEach()}),define("interactive/js/http",["module","./http/deeplink/SeedDeepLink"],function(t){"use strict";return{name:t.id}}),define("tools/js/utils/LangUtil",["can"],function(){"use strict";return{isEmptyString:function(t){return this.isNull(this.getStringSafely(t))?null:""===this.getStringSafely(t)},isUndefined:function(t){return void 0===t},isNotNumber:function(t){return"number"==typeof t&&isNaN(t)},isNull:function(t){return"object"==typeof t&&null===t},isNullish:function(t){var e=typeof t;return"undefined"===e||"object"===e&&null===t||"number"===e&&isNaN(t)},getStringSafely:function(t){var e;return this.isNullish(t)?null:(e=typeof t,"string"===e?t:"number"===e||"boolean"===e?String(t):"object"===e&&t.hasOwnProperty("toString")&&"function"==typeof t.toString?t.toString():null)},getPropertySafely:function(t,e){var i,n,o;if("object"==typeof t&&"string"==typeof e&&Object.keys(t).length&&e.length){for(e=e.split("."),n=e.length,o=t,i=0;i<n;i++){if(!o.hasOwnProperty(e[i]))return;o=o[e[i]]}return o}},isStringy:function(t){return null!==this.getStringSafely(t)},filterHTMLTags:function(t){return t.replace(/&lt;(?:.|\n)*?&gt;/gm,"").replace(/<(?:.|\n)*?>/gm,"")},isEmptyObject:function(t){var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}}}),define("interactive/js/observer/adchoices/AdChoices",["can","debug","tools/js/utils/LangUtil"],function(t,e,i){"use strict";return t.Control.extend({defaults:{debug:!1}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"AdChoices"})},click:function(t,e){e.preventDefault(),"object"==typeof window.adobePrivacy&&"function"==typeof window.adobePrivacy.showConsentPopup&&window.adobePrivacy.showConsentPopup()}})}),define("interactive/js/observer/adchoices/SeedAdChoices",["linseed!./AdChoices"],function(t){"use strict";return t("seed-adchoices").seedEach()}),function(t){"function"==typeof define&&define.amd?define("jquery-cookie",["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){function e(t){return a.raw?t:encodeURIComponent(t)}function i(t){return a.raw?t:decodeURIComponent(t)}function n(t){return e(a.json?JSON.stringify(t):String(t))}function o(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(s," ")),a.json?JSON.parse(t):t}catch(t){}}function r(e,i){var n=a.raw?e:o(e);return t.isFunction(i)?i(n):n}var s=/\+/g,a=t.cookie=function(o,s,c){if(void 0!==s&&!t.isFunction(s)){if(c=t.extend({},a.defaults,c),"number"==typeof c.expires){var u=c.expires,l=c.expires=new Date;l.setTime(+l+864e5*u)}return document.cookie=[e(o),"=",n(s),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}for(var d=o?void 0:{},h=document.cookie?document.cookie.split("; "):[],p=0,f=h.length;p<f;p++){var g=h[p].split("="),m=i(g.shift()),b=g.join("=");if(o&&o===m){d=r(b,s);break}o||void 0===(b=r(b))||(d[m]=b)}return d};a.defaults={},t.removeCookie=function(e,i){return void 0!==t.cookie(e)&&(t.cookie(e,"",t.extend({},i,{expires:-1})),!t.cookie(e))}}),define("tools/js/http/Cookie",["can","jquery-cookie"],function(t){"use strict";return t.Control.extend({defaults:{expires:365,path:"/",domain:".adobe.com"}},{domain:function(){var t=window.location.hostname;return t.substring(t.lastIndexOf(".",t.lastIndexOf(".")-1)+1)},resetHost:function(t){t=void 0!==t?t:window.location.hostname,-1===t.indexOf(this.options.domain)&&(this.options.domain=t)},changeOptions:function(t,e){this.options[t]=e},getCookie:function(e){return t.$.cookie(e)},setCookie:function(e,i){return t.$.cookie(e,i,{path:this.options.path,expires:this.options.expires,domain:this.options.domain})},checkCookie:function(e){return t.$.removeCookie(e)},deleteCookie:function(e){return t.$.removeCookie(e,{path:this.options.path,domain:this.options.domain})}})}),define("tools/js/utils/String",["can"],function(t){"use strict";return t.Control.extend({startsWith:function(t,e){return void 0!==t&&void 0!==e&&0===t.toString().lastIndexOf(e,0)},contains:function(t,e){return void 0!==t&&void 0!==e&&0===t.toString().indexOf(e)},search:function(t,e){return void 0!==t&&void 0!==e&&t.search(e)>-1}})}),function(t){"use strict";define("tools/js/http/URLParser",["can","../utils/String"],function(e,i){return e.Control({init:function(){this.stringUtils=new i,this.pageURL=t.location.toString(),this.urlArray=[],this.pathArray=[],this.product="",this.urlArray=this.pageURL.split("//"),this.pathArray=this.urlArray[1].split("/"),this.subDomain=this.pathArray[0].split(".")[0],this.locale=null!==this.pathArray[1]&&""!==this.pathArray[1]?this.pathArray[1]:"",this.locale=2===this.locale.length||"ca_fr"===this.locale||"africa"===this.locale||"be_en"===this.locale||"be_fr"===this.locale||"be_nl"===this.locale||"eeurope"===this.locale||"il_en"===this.locale||"il_he"===this.locale||"lu_de"===this.locale||"lu_en"===this.locale||"lu_fr"===this.locale||"mena_ar"===this.locale||"mena_fr"===this.locale||"ch_de"===this.locale||"ch_fr"===this.locale||"ch_it"===this.locale||"hk_zh"===this.locale||"hk_en"===this.locale||"sea"===this.locale||"cy_en"===this.locale||"gr_en"===this.locale?this.locale:"en_us","en_us"===this.locale&&this.pathArray.splice(1,0,this.locale),this.siteLevel=null!==this.pathArray[2]&&""!==this.pathArray[2]?this.pathArray[2]:"",this.siteSection=null!==this.pathArray[3]&&""!==this.pathArray[3]?this.pathArray[3]:"",this.productName="products"===this.siteLevel?this.product=this.pathArray[3]:"",this.siteSubSection=null!==this.pathArray[4]&&""!==this.pathArray[4]?this.pathArray[4]:"",this.productSection="products"===this.siteLevel?this.product=this.pathArray[4]:"",this.productSubSection="products"===this.siteLevel?this.product=this.pathArray[5]:"",this.fileName="",e.$.each(this.pathArray,e.proxy(function(t,e){this.stringUtils.contains(e,".html")&&(this.filename=e)},this))},urlItems:function(){return{url:t.location,path:t.location.pathname,protocol:t.location.protocol,hash:t.location.hash,search:t.location.search,origin:t.location.origin,subDomain:this.subDomain,host:this.pathArray[0],hostname:t.location.hostname,locale:this.locale,referrer:document.referrer,siteLevel:this.siteLevel,siteSection:this.siteSection,productName:this.productName,siteSubSection:this.siteSubSection,productSection:this.productSection,productSubSection:this.productSubSection,fileName:this.fileName}},checkQueryParam:function(e){var i;return e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),i=new RegExp("[\\?&]"+e+"([&=#]+|$)"),i.test(t.location.search)},getQueryParam:function(t){var e,i;return t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),e=new RegExp("[\\?&]"+t+"=([^&#]*)"),i=e.exec(location.search),null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))},cleanUrl:function(e,i,n){return e=void 0!==e?e:t.location,!!this.stringUtils.startsWith(e,i)&&(void 0===n||e.replace(i,n))},envCheck:function(){var t,i=this,n=this.urlItems(),o=["author","dev0","con-","wcms","qa","4502","4503","5502","5503","6502","6503","7502","7503"],r=n.protocol+"//"+n.hostname;switch(e.$.each(o,function(){i.stringUtils.contains(r,this)&&(r="cq")}),r){case"www.adobe.com":case"adobe.com":case"www.stage.adobe.com":case"www.stage2.adobe.com":t="publish";break;case"cq":t="author";break;default:t="dev"}return t},storeLandscape:function(){var t="prod";switch(!0){case this.pageURL.indexOf("stage.")>-1||this.pageURL.indexOf("localhost")>-1||this.pageURL.indexOf("aceui.")>-1:t="stage";break;case this.pageURL.indexOf(".qa")>-1:t="pre-stage";break;case this.pageURL.indexOf(".dev")>-1:t="dev";break;default:t="prod"}return t},getCountry:function(t,i){t=void 0!==t?"?"+decodeURIComponent(e.$.param(t)):"",e.$.ajax({type:"GET",dataType:"jsonp",url:"https://geo.adobe.com/json/"+t}).done(function(t){e.$(document).trigger("getCountryReady",[t]),i&&e.$(document).trigger("getCountryTestReady",[t])})}})})}(this),define("interactive/js/observer/georouting/GeoRouting",["can","tools/js/http/Cookie","tools/js/http/URLParser","tools/js/utils/String"],function(t,e,i,n){"use strict";return t.Control.extend({defaults:{regionCookie:"international",storeCookie:"storeregion"}},{init:function(){this.options.geo=window.Adobe.AceUI.geoOb,this.theCookie=new e,this.urLParser=new i,this.stringUtils=new n,this.urlItems=this.urLParser.urlItems(),this.currURL=this.urlItems.path+this.urlItems.search,this.theCookie.resetHost(),this.cookieStatus=this.theCookie.getCookie(this.options.regionCookie),this.storeRegionParsed=this.cookieStatus,void 0!==this.cookieStatus&&this.parseRegion(this.cookieStatus),this.bindEvents()},parseRegion:function(t){t=null!==t?t:this.cookieStatus,this.stringUtils.startsWith(t,"be_")||this.stringUtils.startsWith(t,"lu_")?this.storeRegionParsed=this.cookieStatus.split("_")[0]:this.stringUtils.startsWith(t,"ca")?this.storeRegionParsed="ca":this.stringUtils.startsWith(t,"eeur")?this.storeRegionParsed="eu":this.stringUtils.startsWith(t,"hk_")?this.storeRegionParsed="cn":this.stringUtils.startsWith(t,"uk")?this.storeRegionParsed="gb":this.storeRegionParsed=this.cookieStatus},setRegionCookie:function(e,i){i.preventDefault(),this.cookieStatus=t.$(e).attr("hreflang"),this.parseRegion(this.cookieStatus),this.theCookie.setCookie(this.options.regionCookie,this.cookieStatus),this.theCookie.setCookie(this.options.storeCookie,this.storeRegionParsed),this.cookieStatus=this.theCookie.getCookie(this.options.regionCookie),this.regionDirect()},bindEvents:function(){var e=this;this.regionSelector=this.element.find(".dd .dropdown a[hreflang]"),this.regionFooterLink=t.$("footer .Footernav-region"),this.regionFooterLink.unbind("click"),this.regionFooterLink.bind("click",function(){t.$(document).on("modalReady",function(){t.$(".modal-region .modal-content a").each(function(){t.$(this).unbind("click"),t.$(this).bind("click",function(t){e.setRegionCookie(this,t)})})})}),this.regionSelector.unbind("click"),this.regionSelector.bind("click",function(t){e.setRegionCookie(this,t)})},regionDirect:function(){var e,i,n=this,o=this.urLParser.envCheck(),r="",s=["/content/beagle/","/content/acom/","/content/help/","/en/","/us/"],a=this.options.geo.options.geoArray;"publish"!==o&&"author"!==o?e=this.currURL:t.$.each(s,function(t,i){n.urLParser.cleanUrl(n.currURL,i)&&(r=i,e=n.urLParser.cleanUrl(n.currURL,i,"/"))}),t.$.each(a,function(t,i){n.urLParser.cleanUrl(e,"/"+i+"/")&&(e=n.urLParser.cleanUrl(e,"/"+i+"/","/"))}),""!==r?(e=r+this.cookieStatus+e,i=r+this.cookieStatus+"/"):"us"!==this.cookieStatus?(e="/"+this.cookieStatus+e,i="/"+this.cookieStatus+"/"):i="/",t.$.ajax({url:e,type:"HEAD",error:function(){window.location=i},success:function(){window.location=e}})}})}),define("interactive/js/observer/georouting/SeedGeoRouting",["linseed!./GeoRouting"],function(t){"use strict";return t("seed-georouting").seedEach()}),define("interactive/js/observer/privacy/Privacy",["can","debug","tools/js/http/Cookie","tools/js/utils/LangUtil"],function(t,e,i,n){"use strict";return t.Control.extend({defaults:{expires:10950,domain:function(){var t=window.location.hostname;return t.substring(t.lastIndexOf(".",t.lastIndexOf(".")-1)+1)},arraySplit:",",debug:!1}},{init:function(){if(this.debug=new e("",{debug:this.options.debug,control:"Privacy"}),this.cookieItems=this.element.data("seed-privacy"),this.originalMsg=this.element.text(),this.debug.log("this.cookieItems",this.cookieItems),n.isNullish(this.cookieItems)||n.isEmptyString(this.cookieItems))return this.debug.log("this.cookieItems is null, returning false",this.cookieItems),!1;null!==this.cookieItems.match(",")&&(this.cookieItems=this.splitArray(this.cookieItems,this.options.arraySplit),this.debug.log("this.cookieItems was an array, splitting:",this.cookieItems)),this.cookie=new i,this.cookie.resetHost(this.options.domain()),this.debug.log("this.cookieItems not null, instantiating Cookie()",this.cookie),this.bake(!1)},bake:function(e){var i=null;this.debug.log("bake: route",e),this.debug.log("is this.cookieItems an Array?",t.$.isArray(this.cookieItems)),t.$.isArray(this.cookieItems)?t.each(this.cookieItems,t.proxy(function(t){i=this.determineType(t),e?(this.router(i,t),this.swapCookie(i,t)):"cookie"===i&&this.swapCookie(i,t)},this)):(i=this.determineType(this.cookieItems),e?(this.router(i,this.cookieItems),this.swapCookie(i,this.cookieItems)):"cookie"===i&&this.swapCookie(i,this.cookieItems))},determineType:function(t){var e,i=n.isEmptyString(t),o=/([^\s]+(?=\.(jpg|jpeg|gif|png))\.\2)/gm;return this.debug.log("empty",i),i?null:(this.debug.log("not empty, determining type"),e=null!==t.match(o)?"image":null!==t.match("^http")?"address":"cookie",this.debug.log("type",e),e)},splitArray:function(t,e){return this.debug.log("array.split(char)",t.split(e)),t.split(e)},openLink:function(t){this.debug.log("opening:",t),window.open(t,"_blank")},injectImage:function(t){var e;"string"==typeof t&&t.length>0&&(e=new Image,e.src=t,e.style.display="none",e.setAttribute("aria-hidden",!0),e.width=0,e.height=0,document.body.appendChild(e))},realCookie:function(t){this.debug.log("cookie status:",this.cookie.getCookie(t)),this.debug.log("altering cookie:",t),this.cookieStatus(t)?(this.cookie.changeOptions("expires",this.options.expires),this.cookie.setCookie(t,"1"),this.debug.log("just set it, check cookie:",this.cookie.getCookie(t))):(this.cookie.deleteCookie(t),this.debug.log("just removed it, check cookie:",this.cookie.getCookie(t)))},cookieStatus:function(t){return n.isUndefined(this.cookie.getCookie(t))},swapStatus:function(t){var e=this.element.data("privacy-alt");this.debug.log("swapStatus: this.element",this.element),this.debug.log("swapStatus: name",t),this.debug.log("swapStatus: altMsg",e),this.debug.log("swapStatus: this.originalMsg:",this.originalMsg),this.debug.log("swapStatus: this.cookieStatus(name):",this.cookieStatus(t)),this.cookieStatus(t)?(this.debug.log("swapStatus: Cookie does not exist, they are opted in. show msg",this.originalMsg),this.element.text(this.originalMsg)):(this.debug.log("swapStatus: Cookie exists, they have opted out show altMsg",e),this.element.text(e))},swapCookie:function(t,e){"cookie"===t?this.swapStatus(e):this.thanks()},router:function(t,e){if(this.debug.log("router: ",t,e),!n.isNull(t))switch(this.debug.log("type is not null, taking action",t,e),t){case"image":this.debug.log("clicked image, injecting:",e),this.injectImage(e);break;case"address":this.debug.log("clicked address, opening:",t,e),this.openLink(e);break;case"cookie":this.debug.log("clicked cookie:",t,e),this.realCookie(e);break;default:this.debug.log("Cant determine type",t)}},thanks:function(){var t=this.element.siblings("mark");t.length>0&&this.element.length>0&&(t.fadeIn("slow"),this.element.hide())},click:function(){this.debug.log("clicked a privacy item"),this.bake(!0)}})}),define("interactive/js/observer/privacy/SeedPrivacy",["linseed!./Privacy"],function(t){"use strict";return t("seed-privacy").seedEach()}),define("interactive/js/observer/socialshare/SocialShare",["can","debug"],function(t,e){"use strict";return t.Control.extend({defaults:{Toolbar:0,Status:0,Width:626,Height:436,WindowTitle:"sharer",copy:!1,debug:!1}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"SocialShare"}),this.debug.log("----------------------------------------Social Share--------------------------------------------------"),this.Network=this.element.data("seed-socialshare"),this.element.parents(".social-share").unbind("click").on("click",function(t){t.stopPropagation()})},stringBuilder:function(){var t=this.getNetwork(this.Network);this.netString=t.urlPrefix+encodeURIComponent(this.Url)+t.shareTitle+encodeURIComponent(this.Title)},getNetwork:function(t){var e={};switch(t){case"facebook":e={urlPrefix:"//www.facebook.com/sharer.php?u=",shareTitle:"&t="};break;case"twitter":this.options.Height=300,e={urlPrefix:"//twitter.com/share?url=",shareTitle:"&text="};break;case"linkedin":this.options.Height=500,e={urlPrefix:"//www.linkedin.com/shareArticle?mini=true&url=",shareTitle:"&title="};break;case"pinterest":e={urlPrefix:"//www.pinterest.com/pin/create/button/?url=",shareTitle:"&description="};break;case"googleplus":e={urlPrefix:"https://plus.google.com/share?url=",shareTitle:"&t="};break;case"weibo":e={urlPrefix:"//service.weibo.com/share/share.php?url=",shareTitle:"&title="};break;case"adobe-copy":this.options.copy=!0}return e},click:function(t,e){e.stopPropagation(),this.options.copy=!1,this.Url=""!==t.data("socialshare-link")?t.data("socialshare-link"):location.href,this.Title=""!==t.data("socialshare-title")?t.data("socialshare-title"):document.title,this.stringBuilder(),this.options.copy?window.prompt(this.Title,this.Url):window.open(this.netString,this.options.WindowTitle,"toolbar="+this.options.Toolbar+",status="+this.options.Status+",width="+this.options.Width+",height="+this.options.Height)}})}),define("interactive/js/observer/socialshare/SeedSocialShare",["linseed!./SocialShare"],function(t){"use strict";return t().seedOn(document.querySelector("body"),"data-seed-socialshare"),t("seed-socialshare").seedEach()}),define("interactive/js/observer",["module","./observer/adchoices/SeedAdChoices","./observer/georouting/SeedGeoRouting","./observer/privacy/SeedPrivacy","./observer/socialshare/SeedSocialShare"],function(t){"use strict";return{name:t.id}}),define("tools/js/http/GetScript",["can"],function(t){"use strict";return t.Control({get:function(e,i){return i=i||{},this.options=t.$.extend(!0,{dataType:"script",cache:!0,url:e},i),t.$.ajax(this.options)}})}),define("interactive/js/store/marketsegment/MarketSegment",["can","tools/js/http/Cookie","tools/js/http/URLParser"],function(t,e,i){"use strict";return t.Control.extend({defaults:{marketSegmentCookie:"x-adobe-cart-marketsegment",marketSegment:"COM",queryOverride:"marketSegment",debug:!1}},{init:function(){this.options.debug&&console.log("----------------------------------------MarketSegment--------------------------------------------------"),this.segmentCookie=new e,this.urlParser=new i,this.newSegment=this.element.data("buypod-segment")},getSegment:function(t){var e=this.options.marketSegment,i=this.urlParser.getQueryParam(this.options.queryOverride);return null!==t&&""!==t?(e=t,this.options.debug&&console.log("Found author setting for Market Segment: ",e)):null!==i&&""!==i?(e=i,this.options.debug&&console.log("Found url param for Market Segment: ",e)):this.options.debug&&console.log("defaulting Market Segment: ",e),e},click:function(){this.segmentCookie.setCookie(this.options.marketSegmentCookie,this.newSegment),location.reload()}})}),define("interactive/js/store/price/PriceView",["module","can/view/mustache"],function(t,e){"use strict";return e.view.mustache("{{{.}}}")}),define("tools/js/utils/Money",["can"],function(t){"use strict";return t.Control.extend({formatPrice:function(t,e){var i;return e="number"==typeof e?e:2,t=t.toFixed(e),i=t.toString().split("."),i[0]=i[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),i.join(".")},formatByMask:function(t,e){var i,n,o,r,s,a,c;return!t||isNaN(+e)?e:(e=this.addSigntoValue(t,e),i=this.processAbs(e),n=t.match(/[^\d\-\+#]/g),o=n&&n[n.length-1]||".",r=n&&n[1]&&n[0]||",",t=this.getSplitValue(t,o),e=e.toFixed(t[1]&&t[1].length),e=+e+"",s=this.getSplitValue(e,"."),e=this.fillBackTrials(t,e,s),a=this.getSplitValue(t[0],r),t[0]=a.join(""),e=this.getSplitValue(e,"."),e[0]=this.getLeadZeroPos(t,s),c=a[1]&&a[a.length-1].length,c&&(e[0]=this.getLeadMoney(c,e[0],r)),e[1]=t[1]&&e[1]?o+e[1]:"",(i?"-":"")+e[0]+e[1])},addSigntoValue:function(t,e){return"-"===t.charAt(0)?-e:+e},processAbs:function(t){return t<0?t=-t:0},fillBackTrials:function(t,e,i){var n=t[1]&&t[1].lastIndexOf("0");return(!i[1]||i[1]&&i[1].length<=n)&&(e=(+e).toFixed(n+1)),e},getSplitValue:function(t,e){return t.split(e)},getLeadZeroPos:function(t,e){var i=t[0]&&t[0].indexOf("0");if(i>-1)for(;e[0].length<t[0].length-i;)e[0]="0"+e[0];else 0==+e[0]&&(e[0]="");return e[0]},getLeadMoney:function(t,e,i){var n,o,r=e,s="",a=r.length%t;for(n=0,o=r.length;n<o;n++)s+=r.charAt(n),(n-a+1)%t==0&&n<o-t&&(s+=i);return s}})}),define("tools/js/http/CDNPrefix",["can","./URLParser"],function(t,e){"use strict";return t.Control({init:function(){this.options="object"==typeof this.options?this.options:{},this.urlParser=new e,this.cdnPrefix="",this.hostProtocol=this.options.hostProtocol?this.options.hostProtocol:this.urlParser.protocol||window.location.protocol||"",this.cdnAddy="https:"===this.hostProtocol?this.hostProtocol+"//commerce":"http://commerce",this.unifiedAddy="https:"===this.hostProtocol?this.hostProtocol+"//commerce":"http://commerce",this.offerPriceAddy="https://bps-il",this.hostname=this.options.hostname||this.urlParser.hostname||window.location.hostname||"",this.prod=".adobe.com",this.stage=".stage.adobe.com",this.UCStage="-stg.adobe.com",this.offersStage="-stage.adobe.io",this.offersProd=".adobe.io",this.setHostName()},sortPrefix:function(){return this.getURLPrefix(this.hostname,this.cdnAddy,"dr"),this.cdnPrefix},sortUCPrefix:function(){return this.getURLPrefix(this.hostname,this.unifiedAddy,"unified"),this.cdnPrefix},sortOffersPrefix:function(){return this.getURLPrefix(this.hostname,this.offerPriceAddy,"offers"),this.cdnPrefix},setHostName:function(t){this.hostname=t||this.hostname,null===this.hostname.match(/aceui.corp/g)&&null===this.hostname.match(/dev/g)&&null===this.hostname.match(/qa/g)&&null===this.hostname.match(/stage/g)&&null===this.hostname.match(/stg/g)&&null===this.hostname.match(/macromedia.com/g)&&null===this.hostname.match(/wcmsbuild/g)&&null===this.hostname.match(/localhost/g)&&null===this.hostname.match(/acom-author.con-/g)&&null===this.hostname.match(/acom-author.t01/g)&&null===this.hostname.match(/author-s-02.corp.adobe.com/g)||(this.hostname="stage"),null===this.hostname.match(/acom-author.corp/g)&&null===this.hostname.match(/author.corp.adobe.com/g)&&null===this.hostname.match(/author-02.corp.adobe.com/g)&&null===this.hostname.match(/adobe-students.com/g)&&null===this.hostname.match(/www.adobe.com/g)||(this.hostname="prod")},getURLPrefix:function(t,e,i){var n=this.stage;switch("offers"===i?n=this.offersStage:"unified"!==i&&"dr"!==i||(n=this.UCStage),t){case"prod":case"adobe.com":this.cdnPrefix="offers"===i?e+this.offersProd:e+this.prod;break;case"stage":this.cdnPrefix=e+n;break;default:this.cdnPrefix=""}}})}),define("interactive/js/store/price/PriceControl",["can","debug","tools/js/http/GetScript","interactive/js/store/marketsegment/MarketSegment","./PriceView","tools/js/utils/Money","tools/js/http/URLParser","tools/js/http/CDNPrefix","tools/js/utils/LangUtil"],function(t,e,i,n,o,r,s,a,c){"use strict";return t.Control.extend({defaults:{clientId:"adobe_com",landscape:"prod",dataMarketSegment:"price-segment",countryCode:"US",offersCountryCode:"US",subLocales:{SEA:["sg","ph","my","id","th"],LA:["ar","cl","co","pe"]},priceTableIndex:1,priceTableSize:1,subLocaleTerm:"N/A",isSubLocale:!1,isLocal:!1,debug:!1,identifier:"offers",comPriceLoaded:"aceui_comPriceLoaded",eduPriceLoaded:"aceui_eduPriceLoaded",jilComPriceLoaded:"aceui_jilComPriceLoaded",jilEduPriceLoaded:"aceui_jilEduPriceLoaded",api_key:"adobedotcom2"}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"Price"}),this.getScript=new i,this.marketControl=new n,this.cdn=new a,this.money=new r,this.defaultSegment=this.marketControl.options.marketSegment,this.jilEndpoint=t.$("body").data("uf-jilofferdataurl")||"https://www.adobe.com/jil-api/v2/subscription-offerings/offers-data",this.anyware=t.$("body").data("uf-commerceproductsuri")||"/commerce-api/v1/offers/products",this.allProducts=t.$("[data-price-product]"),this.allOfferIds=t.$("[data-price-offerIds]"),void 0===window.Adobe.AceUI.storage&&(window.Adobe.AceUI.storage={}),this.debug.log("init: Setting failSafe"),this.failSafe=setTimeout(t.proxy(function(){this.debug.log("aceui:geoLoaded did not happen, calling this.getCountryCode"),t.$(document).off("aceui:geoLoaded"),this.getCountryCode()},this),3e3)},clearFailSafe:function(){this.debug.log("clearFailSafe: fired by aceui:geoloader, clearing this.failSafe()"),this.failSafe&&clearTimeout(this.failSafe)},setToStorage:function(t,e){void 0!==t&&void 0!==e&&(window.Adobe.AceUI.storage[t]=e)},getFromStorage:function(t){var e=null;return t&&void 0!==c.getPropertySafely(window,"Adobe.AceUI.storage")&&(e=window.Adobe.AceUI.storage[t]),e},getCountryCode:function(){this.allProducts.length>0&&(this.setOffers(t.$(this.allProducts),"countryCode"),this.setMarkets(),this.combineProducts()),this.allOfferIds.length>0&&(this.setOffers(t.$(this.allOfferIds),"offersCountryCode",this.options.identifier),this.setMarkets(this.options.identifier),this.combineOfferIds())},setOffers:function(e,i,n){e.each(t.proxy(function(e,o){var r=t.$(o).data("priceCountry");null!==r&&""!==r&&(this.debug.log("getAllOfferIds: country: ",r),this.options[i]=void 0!==n?this.getSubLocale(r,n):this.getSubLocale(r)),this.debug.log("offer country from getSubLocale: ",this.options[i])},this))},getSubLocale:function(t,e){var i=t.toLowerCase();return"sea"===i?(this.options.isSubLocale=!0,i=this.searchLocales(this.options.subLocales.SEA,"sg",e)):"la"===i&&(this.options.isSubLocale=!0,i=this.searchLocales(this.options.subLocales.LA,"ec",e)),i},searchLocales:function(e,i,n){var o=c.getPropertySafely(window,"Adobe.AceUI.geoOb.options.akamai.country"),r=this.options.countryCode.toLowerCase(),s=!1;return this.debug.log("searchLocales: akamai Locale:",o),this.debug.log("searchLocales: Default Locale:",r),n===this.options.identifier&&(r=this.options.offersCountryCode.toLowerCase(),this.debug.log("searchLocales: Locale type === this.options.identifier:",r)),void 0!==o?(r=o.toLowerCase(),this.debug.log("searchLocales: Valid akamai Locale:",o,"converting to lowercase:",r),this.debug.log("searchLocales: Looping over:",e),t.each(e,t.proxy(function(t){this.debug.log("searchLocales:Searching for specific locales..."),t.indexOf(r)>-1&&(s=!0,this.debug.log("searchLocales:Index of sublocale:",s,t))},this)),s||(r=i,this.debug.log("searchLocales:No valid sublocales:",r))):(r=i,this.debug.log("Akamai service unavailable, setting page locale for DR stores:",r)),r},setMarkets:function(e){var i=null;this.debug.log("this.defaultSegment: ",this.defaultSegment),e||(this.segments=[],this.debug.log("initial this.segments: ",this.segments),t.$(this.allProducts).each(t.proxy(function(e,n){var o=t.$(n).data(this.options.dataMarketSegment);this.debug.log("segment: ",o),i=this.marketControl.getSegment(o),this.buildSegmentsArray(i,n,this.segments)},this)),this.debug.log("final this.segments: ",this.segments)),e===this.options.identifier&&(this.offerSegments=[],this.debug.log("initial this.offerSegments: ",this.offerSegments),t.$(this.allOfferIds).each(t.proxy(function(e,n){var o=t.$(n).data(this.options.dataMarketSegment);this.debug.log("segment: ",o),i=this.marketControl.getSegment(o),this.buildSegmentsArray(i,n,this.offerSegments)},this)),this.debug.log("final this.offerSegments: ",this.offerSegments))},buildSegmentsArray:function(t,e,i){-1===i.indexOf(t)&&(i.push(t),this.debug.log("else: !arr.indexOf: ",i),i[t]=[]),i[t].push(e)},combineProducts:function(){var e=!this.getFromStorage(this.options.comPriceLoaded),i=!this.getFromStorage(this.options.eduPriceLoaded);t.$(this.segments).each(t.proxy(function(n,o){var r=[],s=[];this.debug.log("combineProducts for segment: ",n,o),t.$(this.segments[o]).each(t.proxy(function(e,i){r.push(t.$(i).data("price-product")),null!==t.$(i).data("price-promo")&&void 0!==t.$(i).data("price-promo")&&""!==t.$(i).data("price-promo")&&(s.push(t.$(i).data("price-promo")),this.debug.log("adding promo code to array: ",t.$(i).data("price-promo"))),this.debug.log("adding product to array: ",t.$(i).data("price-product"))},this)),this.debug.log("sending priceListener: ",o,r),e&&"COM"===o&&(this.storeCallSetup(o,r,s),this.setToStorage(this.options.comPriceLoaded,!0)),i&&"EDU"===o&&(this.storeCallSetup(o,r,s),this.setToStorage(this.options.eduPriceLoaded,!0))},this))},storeCallSetup:function(t,e,i){var n=this.constructAnywareQueryString(t,e,i);this.getPrices(n)},combineOfferIds:function(){var e=!this.getFromStorage(this.options.jilComPriceLoaded),i=!this.getFromStorage(this.options.jilEduPriceLoaded);t.$(this.offerSegments).each(t.proxy(function(n,o){var r=[];this.debug.log("combineOffers for segment: ",n,o),t.$(this.offerSegments[o]).each(t.proxy(function(e,i){r.push(t.$(i).data("priceOfferids")),this.debug.log("adding product to array: ",t.$(i).data("priceOfferids"))},this)),this.debug.log("sending priceListener: ",o,r),e&&"COM"===o&&(this.jilCallSetup(o,r),this.setToStorage(this.options.jilComPriceLoaded,!0)),i&&"EDU"===o&&(this.jilCallSetup(o,r),this.setToStorage(this.options.jilEduPriceLoaded,!0))},this))},jilCallSetup:function(t,e){var i;i=this.constructQueryString(t,e),this.setLandscape(this.options.identifier),this.getPrices(i,this.options.identifier)},constructAnywareQueryString:function(e,i,n){var o="",r=this.options.countryCode.toUpperCase(),s="",a="";return t.$(i).each(function(t,e){s+="&product_key="+e}),t.$(n).each(function(t,e){a+="&promotion_code="+e}),o+="countryCode="+r+"&marketSegment="+e+s+a},constructQueryString:function(e,i){var n="",o=this.options.offersCountryCode.toUpperCase(),r=this.options.priceTableIndex,s=this.options.priceTableSize,a="";return t.$(i).each(function(t,e){a+="&offerIds="+e}),n+="country="+o+"&marketSegment="+e+"&priceTableIndex="+r+"&priceTableSize="+s+a},getPrices:function(e,i){var n=this,o={Anyware:{OfferPriceData:{}}},r={Anyware:{PriceData:{}}};i||t.$.ajax({url:this.anyware+"?"+e,contentType:"application/json",cache:!1,headers:{"X-api-key":this.options.api_key,Accept:"application/json"}}).success(function(e){n.debug.log("getPrices success:: priceData: ",e),
c.getPropertySafely(window,"Adobe.Anyware.PriceData")||t.$.extend(window.Adobe,r),t.$.extend(Adobe.Anyware.PriceData,e),n.setView(e)}).done(function(){window.Adobe.AceUI.priceReady=!0,t.$(document).trigger("aceui_priceReady")}).fail(function(t){n.debug.log("getPrices :: errorData: ",t),n.setView(t)}),i===this.options.identifier&&t.$.ajax({url:this.jilEndpoint+"?"+e,contentType:"application/json",cache:!1,headers:{"X-Api-Key":this.options.api_key}}).success(function(e){n.debug.log("getPrices success:: priceData: ",e),c.getPropertySafely(window,"Adobe.Anyware.OfferPriceData")||t.$.extend(window.Adobe,o),t.$.extend(Adobe.Anyware.OfferPriceData,e),n.setView(e,n.options.identifier)}).done(function(){window.Adobe.AceUI.priceReady=!0,t.$(document).trigger("aceui_priceReady")}).fail(function(t){n.debug.log("getPrices :: errorData: ",t),n.setView(t)})},setView:function(e,i){i||t.$(this.allProducts).each(t.proxy(function(n,r){var s,a;"undefined"===e.errorType?t.$(r).empty().append(new o(e.errorType)):(a=c.getPropertySafely(e,"productOffering.productOffers"),s=a?this.sortObject(a,t.$(r).data("price-product")):null,this.debug.log("setView: product: ",s),null!==s&&this.pickPrice(s,t.$(r),i,e.productOffering.currency))},this)),i===this.options.identifier&&t.$(this.allOfferIds).each(t.proxy(function(n,o){var r;c.getPropertySafely(e,"errorMessage")?this.debug.log("setView error:: priceData: ",c.getPropertySafely(e,"errorMessage")):(r=this.sortObject(e.subscriptionOffers,t.$(o).data("priceOfferids"),i),this.debug.log("prices: ",r),null!==r&&this.pickPrice(r,t.$(o),i))},this)),this.setToStorage(this.options.comPriceLoaded,!1),this.setToStorage(this.options.eduPriceLoaded,!1),this.setToStorage(this.options.jilComPriceLoaded,!1),this.setToStorage(this.options.jilEduPriceLoaded,!1)},sortObject:function(e,i,n){var o=null;return c.isNullish(i)||(this.debug.log("sortObject: obj: ",e),this.debug.log("sortObject: lookFor: ",i),n||Object.keys(e).forEach(t.proxy(function(t){this.debug.log("key: ",t),e[t].productKey===i&&(o=e[t],this.debug.log("sortObject: obj[key]: ",o))},this)),n===this.options.identifier&&t.$(e).each(t.proxy(function(t,e){if(this.debug.log("sortObject: val: ",e),e.id===i.toString())return o=e.pricing,void this.debug.log("sortObject: item: ",o)},this))),o},pickPrice:function(t,e,i,n){var r,s,a,u,l,d;i?i===this.options.identifier&&(r=t.data.countryPriceData[0],s=r.currency,a=r.priceMap.price,u=!c.isNullish(e.data("price-notax"))&&!c.isEmptyString(e.data("price-notax"))&&e.data("price-notax"),!c.isNullish(e.data("price-strike"))&&!c.isEmptyString(e.data("price-strike"))&&e.data("price-strike"),l=this.getPriceParts(s,a),d=this.getScreenPrice(l,u),e.empty().append(new o(d)),this.triggerUpdates(e),this.debug.log("product.formattedOriginalPrice: ",typeof t.formattedOriginalPrice,t.formattedOriginalPrice)):(u=!c.isNullish(e.data("price-notax"))&&!c.isEmptyString(e.data("price-notax"))&&e.data("price-notax"),!c.isNullish(e.data("price-strike"))&&!c.isEmptyString(e.data("price-strike"))&&e.data("price-strike"),r=t.priceMap,s=n,a=r[0].price,l=this.getPriceParts(s,a),d=this.getScreenPrice(l,u),e.empty().append(new o(d)),this.triggerUpdates(e))},getFormattedPrice:function(t,e){var i=this.getCurrencySymbol(t),n=t.formatString,o=this.getNumberMask(t),r=this.money.formatByMask(o,e);return n.replace(/'.*?'/,"SYMBOL").replace(/#.*0/,r).replace(/SYMBOL/,i)},getPriceParts:function(t,e){var i=e.displayPrice||e.display_price,n=e.priceWithoutTax,o=e.priceWithTax;return{price:i,priceWithoutTax:n,priceWithTax:o,formattedPrice:this.getFormattedPrice(t,i),formattedPriceWithoutTax:this.getFormattedPrice(t,n),formattedPriceWithTax:this.getFormattedPrice(t,o),symbol:this.getCurrencySymbol(t),decimalDelim:this.getDecimalDelim(t),thousandDelim:this.getThousandsDelim(t),includesTax:e.includes_tax||e.includesTax}},getScreenPrice:function(t,e){var i=e&&!c.isEmptyString(t.formattedPriceWithoutTax),n=t.includesTax?t.formattedPriceWithTax:t.formattedPriceWithoutTax;return i?t.formattedPriceWithoutTax:n},getCurrencySymbol:function(t){return t.formatString.match(/'(.*?)'/)[1]},getNumberMask:function(e){var i,n=e.formatString,o=t.$.trim(n.replace(/'.*?'/,"")),r=e.usePrecision;return r||(i="."===this.getThousandsDelim(e)?",":".",o+=i),o},getDecimalDelim:function(t){var e=t.formatString,i=e.match(/0.(?=0)/);return i?i[0].replace(/0/,""):""},getThousandsDelim:function(t){return t.formatString.match(/#.(?=#)/)[0].replace(/#/,"")},setLandscape:function(t){t||(this.setLandscapeByType(this.allProducts),this.anyware.indexOf("http")<0&&(this.anyware=this.cdn.sortPrefix()+this.anyware)),t===this.options.identifier&&(this.setLandscapeByType(this.allOfferIds),this.jilEndpoint.indexOf("http")<0&&(this.jilEndpoint=this.cdn.sortOffersPrefix()+this.jilEndpoint))},setLandscapeByType:function(e){var i,n,o=new s;t.$(e).each(t.proxy(function(e,r){n=t.$(r).data("price-landscape"),i=n&&n.indexOf("anyware-widgets")>-1?null:n,this.debug.log("url.storeLandscape(): ",o.storeLandscape()),this.debug.log("landscapeUrl: ",i),Boolean(i)&&(this.anyware=i,this.options.landscape=""!==o.storeLandscape()?o.storeLandscape():null,this.debug.log("url.storeLandscape(): ",o.storeLandscape()))},this))},triggerUpdates:function(e){var i=e.closest("aside.promo");i&&i.length&&t.$(document).trigger("aceui-promoPriceUpdate")},"{window} aceui:geoLoaded":function(){this.debug.log("aceui:geoLoaded triggered"),this.clearFailSafe(),this.getCountryCode()}})}),define("interactive/js/store/price/SeedPrice",["can","linseed!./PriceControl"],function(t,e){"use strict";return e().seedOn(document.querySelector("body"),"data-seed-price"),e("seed-price").seedEach()}),define("interactive/js/store/marketsegment/SeedMarketSegment",["linseed!./MarketSegment"],function(t){"use strict";return t("seed-segment").seedEach()}),define("interactive/js/store/checkout/Checkout",["can","tools/js/http/GetScript","tools/js/http/CDNPrefix","tools/js/http/URLParser","interactive/js/store/marketsegment/MarketSegment"],function(t,e,i,n,o){"use strict";return t.Control.extend({defaults:{checkout:{universalMode:!0,clientId:"adobe_com",countryCode:"US",items:[]},anyware:"/anyware/latest/anyware-widgets.min.js",debug:!1}},{init:function(){this.options.debug&&console.log("----------------------------------------Anyware Checkout--------------------------------------------------"),this.getScript=new e,this.cdn=new i,this.marketControl=new o,this.urlParser=new n,this.initCheckout(),this.product=this.element.data("checkout-product"),this.quantity=this.element.data("checkout-quantity"),this.lang=this.element.data("checkout-lang"),this.term=this.element.data("checkout-term"),this.options.checkout.countryCode=""!==this.element.data("checkout-country")?this.element.data("checkout-country"):this.options.checkout.countryCode,this.options.checkout.marketSegment=this.marketControl.getSegment(this.element.data("checkout-market")),this.options.checkout.landscape=this.urlParser.storeLandscape(),this.loadCheckoutScript()},initCheckout:function(){t.$(document).on("anywareReady",t.proxy(function(){this.options.debug&&(console.log("anywareReady fired"),console.log("default data:",this.options.checkout)),this.element.anyware_checkout(this.options.checkout)},this))},loadCheckoutScript:function(){window.Adobe.AceUI.AnywareWidget||(window.Adobe.AceUI.AnywareWidget=!0,this.options.debug&&console.log("Getting",this.options.anyware,"from Checkout()"),this.getScript.get(this.cdn.sortPrefix()+this.options.anyware).done())},collect:function(){return{productKey:this.product,quantity:this.quantity,languageCode:this.lang,serviceCommitment:this.term}},click:function(t,e){e.preventDefault(),this.options.checkout.items.push(this.collect()),this.options.debug&&console.log("clicked!",this.options.checkout),this.element.anyware_checkout("startUniversalCheckout",this.options.checkout)}})}),define("interactive/js/store/checkout/SeedCheckout",["linseed!./Checkout"],function(t){"use strict";return t("seed-checkout").seedEach()}),define("interactive/js/store/checkout/UnifiedCheckout",["can","debug","tools/js/http/GetScript","tools/js/http/URLParser","interactive/js/store/marketsegment/MarketSegment","tools/js/utils/LangUtil"],function(t,e,i,n,o,r){"use strict";return t.Control.extend({defaults:{unifiedcheckout:{clientId:"adobe_com",countryCode:"US",items:[],marketSegment:"COM",channel:"creative.adobe.com",languageCode:"en",promoid:"",sdid:"",trackingid:"",mv:"",returnUrl:""},debug:!1}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"UnifiedCheckout"}),this.getScript=new i,this.marketControl=new o,this.urlParser=new n,this.unified=t.$("body").data("uf-commerceliburl")||"https://commerce.adobe.com/anyware/commerce-lib/commerce-lib.min.js",this.options.unifiedcheckout.landscape=this.updateStoreLandscape(),this.loadUnifiedCheckoutScript()},setValues:function(t){var e=t.data("unifiedcheckoutOfferid");return!r.isNullish(e)&&(this.options.unifiedcheckout.items=[],this.options.unifiedcheckout.items.push({offerId:e,quantity:1}),this.options.unifiedcheckout.clientId=t.data("unifiedcheckoutClientid")?t.data("unifiedcheckoutClientid"):this.options.unifiedcheckout.clientId,this.options.unifiedcheckout.languageCode=""!==t.data("unifiedcheckoutLang")?t.data("unifiedcheckoutLang"):this.options.unifiedcheckout.languageCode,this.options.unifiedcheckout.countryCode=""!==t.data("unifiedcheckoutCountry")?t.data("unifiedcheckoutCountry"):this.options.unifiedcheckout.countryCode,this.options.unifiedcheckout.marketSegment=this.marketControl.getSegment(t.data("unifiedcheckoutMarket")),this.options.unifiedcheckout.channel=""!==t.data("unifiedcheckoutChannel")?t.data("unifiedcheckoutChannel"):this.options.unifiedcheckout.channel,this.options.unifiedcheckout.promoid=""!==t.data("unifiedcheckoutPromoid")?t.data("unifiedcheckoutPromoid"):this.options.unifiedcheckout.promoid,this.options.unifiedcheckout.sdid=""!==t.data("unifiedcheckoutSdid")?t.data("unifiedcheckoutSdid"):this.options.unifiedcheckout.sdid,this.options.unifiedcheckout.trackingid=""!==t.data("unifiedcheckoutTrackingid")?t.data("unifiedcheckoutTrackingid"):this.options.unifiedcheckout.trackingid,this.options.unifiedcheckout.mv=""!==t.data("unifiedcheckoutMv")?t.data("unifiedcheckoutMv"):this.options.unifiedcheckout.mv,this.options.unifiedcheckout.returnUrl=""!==t.data("unifiedcheckoutReturnurl")?decodeURIComponent(t.data("unifiedcheckoutReturnurl")):decodeURIComponent(this.options.unifiedcheckout.returnUrl),this.debug.log("Setting this.options.unifiedcheckout:",this.options.unifiedcheckout),!0)},updateStoreLandscape:function(){var t=this.urlParser.storeLandscape();switch(t){case"stage":case"pre-stage":case"dev":t="stage";break;default:t="prod"}return t},loadUnifiedCheckoutScript:function(e){window.Adobe.AceUI.UnifiedWidget||(window.Adobe.AceUI.UnifiedWidget=!0,this.debug.log("Getting",this.unified),this.getScript.get(this.unified).done(t.proxy(function(){this.debug.log("Success! Triggering unifiedReady."),e&&e()},this)).fail(t.proxy(function(){window.Adobe.AceUI.UnifiedWidget=!1,this.debug.log("Failure! Resetting window.Adobe.AceUI.UnifiedWidget:",window.Adobe.AceUI.UnifiedWidget)},this)))},click:function(t,e){e.preventDefault(),window.Adobe.AceUI.UnifiedWidget?this.setValues(t)?(this.debug.log("Valid Universal Checkout button clicked!"),r.getPropertySafely(window,"CommerceLib")&&(window.CommerceLib.setProperties(this.options.unifiedcheckout),this.debug.log("Setting window.CommerceLib.properties:",window.CommerceLib.properties),window.CommerceLib.redirectToCheckout(this.options.unifiedcheckout))):(t.unbind("click"),this.debug.log("No data found for",t,"unbinding click")):this.loadUnifiedCheckoutScript(t.click)}})}),define("interactive/js/store/checkout/SeedUnifiedCheckout",["linseed!./UnifiedCheckout"],function(t){"use strict";return t().seedOn(document.querySelector("body"),"data-seed-unifiedcheckout"),t("seed-unifiedcheckout").seedEach()}),define("interactive/js/store/checkout/UnifiedCheckoutV2",["can","debug","tools/js/http/URLParser","tools/js/utils/LangUtil"],function(t,e,i,n){"use strict";return t.Control.extend({defaults:{unifiedcheckout:{cli:"adobe_com",co:"US",items:[],lang:"en"},debug:!1,landcapeUrl:{stage:"https://commerce-stg.adobe.com/checkout",prod:"https://commerce.adobe.com/checkout"},imsParams:{targetClientId:"unified_checkout_client",targetScope:"AdobeID,openid,sao.stock,additional_info.roles,additional_info.vat_id,additional_info.dob,update_profile.countryCode"}}},{init:function(){var n=t.$("body");this.imsTargetClient=n.data("uf-commerceuc2imstargetclient"),this.imsTargetScope=n.data("uf-commerceuc2imstargetscope"),this.ucBaseUrl=n.data("uf-commerceuc2serverurl"),this.debug=new e("",{debug:this.options.debug,control:"UnifiedCheckoutV2"}),this.urlParser=new i,this.landScape=this.getStoreLandscape(),this.transAuthCode="",this.unifiedCheckoutParams={},this.preloadCommerceScript()},click:function(t,e){e.preventDefault(),this.setValues(t)?(this.debug.log("Valid UnifiedCheckoutV2 button clicked!"),window.location.href=this.buildUnifiedCheckoutV2Url()):(t.unbind("click"),this.debug.log("No data found for",t,"unbinding click"))},"{window} adobeGNav:ImsReady":function(){this.intializeTransitoryAuth()},preloadCommerceScript:function(){var e=document.createElement("script"),i=this.getPreloadScript();t.$("#uc-preload-script").length||(e.setAttribute("type","text/javascript"),e.setAttribute("defer","true"),e.setAttribute("id","uc-preload-script"),e.setAttribute("src",i),document.body.appendChild(e))},getPreloadScript:function(){return(this.ucBaseUrl||this.options.landcapeUrl[this.landScape])+"/iframe/uc-preload.js"},intializeTransitoryAuth:function(){var t,e=n.getPropertySafely(window.adobeIMS,"getTransitoryAuthorizationCode"),i=this;"function"==typeof e&&null!==(t=window.adobeIMS.isSignedInUser())&&t&&(i.getTransitoryAuthCode(),setInterval(function(){i.getTransitoryAuthCode()},15e5))},getTransitoryAuthCode:function(){var t=this;window.adobeIMS.getTransitoryAuthorizationCode({target_client_id:this.imsTargetClient||this.options.imsParams.targetClientId,target_scope:this.imsTargetScope||this.options.imsParams.targetScope},function(e){t.transAuthCode=e.code,t.debug.log("Setting trans auth code: ",e.code)},function(e){t.transAuthCode="",t.debug.log("Setting trans auth code: ","")})},setValues:function(t){var e=t.data("unifiedcheckoutOfferid");return!n.isNullish(e)&&(this.unifiedCheckoutParams.items=[],this.unifiedCheckoutParams.items.push(this.buildItemdObject(e)),this.unifiedCheckoutParams.cli=t.data("unifiedcheckoutClientid")||this.options.unifiedcheckout.cli,this.unifiedCheckoutParams.lang=this.setLanguageCode(t.data("unifiedcheckoutLang")),this.unifiedCheckoutParams.co=t.data("unifiedcheckoutCountry")||this.options.unifiedcheckout.co,this.unifiedCheckoutParams.code=this.transAuthCode,t.data("unifiedcheckoutPromoid")&&(this.unifiedCheckoutParams.promoid=t.data("unifiedcheckoutPromoid")),t.data("unifiedcheckoutSdid")&&(this.unifiedCheckoutParams.sdid=t.data("unifiedcheckoutSdid")),t.data("unifiedcheckoutTrackingid")&&(this.unifiedCheckoutParams.trackingid=t.data("unifiedcheckoutTrackingid")),t.data("unifiedcheckoutMv")&&(this.unifiedCheckoutParams.mv=t.data("unifiedcheckoutMv")),t.data("unifiedcheckoutReturnurl")&&(this.unifiedCheckoutParams.rUrl=decodeURIComponent(t.data("unifiedcheckoutReturnurl"))),this.debug.log("Setting this.options.unifiedcheckout:",this.options.unifiedcheckout),!0)},buildItemdObject:function(t){return{id:t,q:1}},setLanguageCode:function(t){return t?("no"===t?t="nb":"zh-tw"===t&&(t="zh-Hant"),t):this.options.unifiedcheckout.lang},getStoreLandscape:function(){var t=this.urlParser.storeLandscape();switch(t){case"stage":case"pre-stage":case"dev":t="stage";break;default:t="prod"}return t},buildUnifiedCheckoutV2Url:function(){return(this.ucBaseUrl||this.options.landcapeUrl[this.landScape])+"?"+t.$.param(this.unifiedCheckoutParams)}})}),define("interactive/js/store/checkout/SeedUnifiedCheckoutV2",["linseed!./UnifiedCheckoutV2"],function(t){"use strict";return t().seedOn(document.querySelector("body"),"data-seed-unifiedcheckoutv2"),t("seed-unifiedcheckoutv2").seedEach()}),define("interactive/js/store",["module","./store/price/SeedPrice","./store/marketsegment/SeedMarketSegment","./store/checkout/SeedCheckout","./store/checkout/SeedUnifiedCheckout","./store/checkout/SeedUnifiedCheckoutV2"],function(t){"use strict";return{name:t.id}}),define("interactive/js/ui/detailslist/DetailsPolyfill",[],function(){"use strict";function t(t){var e,i=t.target;"SUMMARY"===i.nodeName&&("keypress"===t.type&&13!==t.which&&32!==t.which||(t.preventDefault(),e=i.parentNode,"open"===e.getAttribute("open")?e.removeAttribute("open"):e.setAttribute("open","open")))}return function(e){var i,n,o;for(i=e.querySelectorAll("summary"),n=i.length,o=0;o<n;o++)i[o].setAttribute("tabindex","0"),i[o].addEventListener("click",t),i[o].addEventListener("keypress",t)}}),define("interactive/js/ui/detailslist/DetailsListControl",["can","./DetailsPolyfill"],function(t,e){"use strict";return t.Control.extend({init:function(){var t=this.element;this.element.length&&(t=this.element[0])&&e(t.ownerDocument)}})}),define("interactive/js/ui/detailslist/SeedDetailsList",["linseed!./DetailsListControl"],function(t){"use strict";return t("seed-details").seed()}),define("interactive/js/ui/marquee/Marquee",["can"],function(t){"use strict";return t.Control.extend({defaults:{figPadding:120,marqueeOffset:30,marqueeTextOffset:20}},{init:function(){this.marquee=this.element,this.figcaption=this.marquee.parents("figure"),this.tabsCollapsed=this.marquee.parents(".tabs-collapsed"),this.textWrap=this.element.find(".marquee-textbox"),this.textMaxHeight=this.marquee.height()-this.options.marqueeOffset,this.origTextWidth=this.sizeInPercent(this.textWrap),this.textObj=this.textWrap.find(".marquee-content"),this.siblingAside=this.figcaption.find(".product-background"),this.isDropped=!1},setFigure:function(){var t;this.figcaption.length>0&&0===this.tabsCollapsed&&(t=this.figcaption.height(),this.marquee.css("height",t-this.options.figPadding))},sizeInPercent:function(t){return Math.round(100*parseFloat(t.css("width"))/parseFloat(t.parent().css("width")))},checkTextBox:function(){this.textTooTall()||this.textTooWide()?this.resizeText():this.siblingAside.length>0&&this.siblingAside.css("height","auto")},textTooTall:function(){return this.textMaxHeight=this.marquee.innerHeight()-this.options.marqueeOffset,this.textMaxHeight<=this.textObj.innerHeight()},textTooWide:function(){var e=this,i=!1,n=parseFloat(t.$(e.textObj).css("paddingLeft"))+parseFloat(t.$(e.textObj).css("paddingRight"));return t.$(this.textObj).children().each(function(){parseFloat(t.$(this).innerWidth())+n>parseFloat(e.textWrap.width())&&(i=!0)}),i},resizeText:function(){var t=this.sizeInPercent(this.textWrap)+this.options.marqueeTextOffset;t<100?(this.isDropped&&this.restoreTheBox(),this.textWrap.css("width",t+"%"),this.checkTextBox()):this.dropTheBox()},saveParams:function(){this.previousHeight=this.element.css("height"),this.previousTextLeftPadding=this.textObj.css("paddingLeft"),this.previousTextRightPadding=this.textObj.css("paddingRight"),this.previousTextBg=this.textWrap.css("background"),this.previousTextWidth=this.textWrap.css("width")},dropTheBox:function(){var t,e,i,n,o,r;this.siblingAside.length>0&&(t=new Image,t.src=this.siblingAside.data("background"),e=t.width,i=t.height,n=e/i,o=this.siblingAside.parent().innerWidth(),r=Math.round(o/n),this.siblingAside.css("height",r),this.isDropped=!0)},restoreTheBox:function(){this.element.css("height",this.previousHeight),this.element.hasClass("hero")||this.textObj.css({paddingLeft:this.previousTextLeftPadding,paddingRight:this.previousTextRightPadding}),this.textWrap.css({position:"inherit",width:this.previousTextWidth,background:this.previousTextBg,marginLeft:"inherit",display:"inherit"}).find(".marquee-content-row").css("display","table-row").find(".marquee-content-cell").css("display","table-cell").find("a").css("maxWidth","none").find("img").css("maxWidth","none"),this.marquee.css({position:"absolute",overflow:"inherit"}),this.isDropped=!1},fixThumbnail:function(){var e=this.textObj.find("img");e.length>0&&t.$(e).each(function(){var e=t.$(this).width(),i=t.$(this).height();t.$(this).parent("a").length>0&&t.$(this).parent("a").css({width:e,height:i})})},resetText:function(){this.textWrap.css("width",this.origTextWidth+"%")},"{document} ready":function(){this.setFigure(),this.fixThumbnail(),this.checkTextBox()},"{window} resize":function(){this.setFigure(),this.checkTextBox()}})}),define("interactive/js/ui/marquee/SeedMarquee",["linseed!./Marquee"],function(t){"use strict";return t("seed-marquee").seedEach()}),define("can/map/attributes",["can/util/library","can/map_helpers","can/map","can/list"],function(t,e,i){t.each([t.Map,t.Model],function(e){if(void 0!==e){var i=function(t){return"object"==typeof t&&null!==t&&t};t.extend(e,{attributes:{},convert:{date:function(t){var e=typeof t;return"string"===e?(t=Date.parse(t),isNaN(t)?null:new Date(t)):"number"===e?new Date(t):t},number:function(t){return parseFloat(t)},boolean:function(t){return!("false"===t||"0"===t||!t)},default:function(e,i,n,o){if(t.Map.prototype.isPrototypeOf(o.prototype)&&"function"==typeof o.model&&"function"==typeof o.models)return o[t.isArray(e)?"models":"model"](e);if(t.Map.prototype.isPrototypeOf(o.prototype))return t.isArray(e)&&"function"==typeof o.List?new o.List(e):new o(e);if("function"==typeof o)return o(e,i);var r,s=t.getObject(o),a=window;return o.indexOf(".")>=0&&(r=o.substring(0,o.lastIndexOf(".")),a=t.getObject(r)),"function"==typeof s?s.call(a,e,i):e}},serialize:{default:function(t,e){return i(t)&&t.serialize?t.serialize():t},date:function(t){return t&&t.getTime()}}});var n=e.setup;e.setup=function(e,i,o,r){var s=this;n.call(s,e,i,o,r),t.each(["attributes"],function(t){s[t]&&e[t]!==s[t]||(s[t]={})}),t.each(["convert","serialize"],function(i){e[i]!==s[i]&&(s[i]=t.extend({},e[i],s[i]))})}}}),t.Map.prototype.__convert=function(t,e){var i,n,o=this.constructor,r=this.__get(t);return o.attributes&&(i=o.attributes[t],n=o.convert[i]||o.convert.default),null!==e&&i?n.call(o,e,r,function(){},i):e};var n=t.Map.prototype.___serialize;t.Map.prototype.___serialize=function(t,e){var i=this.constructor,o=i.attributes?i.attributes[t]:0,r=i.serialize?i.serialize[o]:0;return e&&"function"==typeof e.serialize?n.call(this,t,e):r?r(e,o):n.apply(this,arguments)};var o=t.Map.prototype.serialize;return t.Map.prototype.serialize=function(t){var e=o.apply(this,arguments);return t?e[t]:e},t.Map}),define("interactive/js/ui/modal/ModalState",["can/map","can/map/attributes"],function(t){"use strict";return t.extend({attributes:{src:"location",dom:"String",wrapId:"String",wrapClass:"String"},convert:{location:function(t){return String(t)}}},{setSrc:function(t){t&&t.length&&!/^javascript:/.test(t)?this.attr("src",t):(this.removeAttr("src"),this.removeAttr("dom"),this.removeAttr("marker"),this.removeAttr("wrapId"),this.removeAttr("wrapClass"))},setMarker:function(t){t?(this.attr("marker",t.attr("id")),this.setSrc(t.attr("href")),this.setSize(t.data("modal-size")),this.setWrapper(t.data("modal-wrapper"))):(this.removeAttr("marker"),this.setSrc(),this.setSize(),this.setWrapper())},setSize:function(t){var e;t&&(e=this.attr("sizes.".concat(t))),e?this.attr("size",e):this.removeAttr("size")},setWrapper:function(t){var e,i;if(t&&t.length){switch(e="",i="",t.charAt(0)){case"#":e='id="'+t.replace("#","")+'"';break;case".":i=t.replace(".","")}this.attr("wrapId",e),this.attr("wrapClass",i)}else this.removeAttr("wrapId"),this.removeAttr("wrapClass")}})}),define("text",["module"],function(t){"use strict";function e(t,e){return void 0===t||""===t?e:t}function i(t,i,n,o){if(i===o)return!0;if(t===n){if("http"===t)return e(i,"80")===e(o,"80");if("https"===t)return e(i,"443")===e(o,"443")}return!1}var n,o,r,s,a,c=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,d="undefined"!=typeof location&&location.href,h=d&&location.protocol&&location.protocol.replace(/\:/,""),p=d&&location.hostname,f=d&&(location.port||void 0),g={},m=t.config&&t.config()||{};return n={version:"2.0.15",strip:function(t){if(t){t=t.replace(u,"");var e=t.match(l);e&&(t=e[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:m.createXhr||function(){var t,e,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(e=0;e<3;e+=1){i=c[e];try{t=new ActiveXObject(i)}catch(t){}if(t){c=[i];break}}return t},parseName:function(t){var e,i,n,o=!1,r=t.lastIndexOf("."),s=0===t.indexOf("./")||0===t.indexOf("../");return-1!==r&&(!s||r>1)?(e=t.substring(0,r),i=t.substring(r+1)):e=t,n=i||e,r=n.indexOf("!"),-1!==r&&(o="strip"===n.substring(r+1),n=n.substring(0,r),i?i=n:e=n),{moduleName:e,ext:i,strip:o}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(t,e,o,r){var s,a,c,u=n.xdRegExp.exec(t);return!u||(s=u[2],a=u[3],a=a.split(":"),c=a[1],a=a[0],(!s||s===e)&&(!a||a.toLowerCase()===o.toLowerCase())&&(!c&&!a||i(s,c,e,r)))},finishLoad:function(t,e,i,o){i=e?n.strip(i):i,m.isBuild&&(g[t]=i),o(i)},load:function(t,e,i,o){if(o&&o.isBuild&&!o.inlineText)return void i();m.isBuild=o&&o.isBuild;var r=n.parseName(t),s=r.moduleName+(r.ext?"."+r.ext:""),a=e.toUrl(s),c=m.useXhr||n.useXhr;if(0===a.indexOf("empty:"))return void i();!d||c(a,h,p,f)?n.get(a,function(e){n.finishLoad(t,r.strip,e,i)},function(t){i.error&&i.error(t)}):e([s],function(t){n.finishLoad(r.moduleName+"."+r.ext,r.strip,t,i)})},write:function(t,e,i,o){if(g.hasOwnProperty(e)){var r=n.jsEscape(g[e]);i.asModule(t+"!"+e,"define(function () { return '"+r+"';});\n")}},writeFile:function(t,e,i,o,r){var s=n.parseName(e),a=s.ext?"."+s.ext:"",c=s.moduleName+a,u=i.toUrl(s.moduleName+a)+".js";n.load(c,i,function(e){var i=function(t){return o(u,t)};i.asModule=function(t,e){return o.asModule(t,u,e)},n.write(t,c,i,r)},r)}},"node"===m.env||!m.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(o=require.nodeRequire("fs"),n.get=function(t,e,i){try{var n=o.readFileSync(t,"utf8");"\ufeff"===n[0]&&(n=n.substring(1)),e(n)}catch(t){i&&i(t)}}):"xhr"===m.env||!m.env&&n.createXhr()?n.get=function(t,e,i,o){var r,s=n.createXhr();if(s.open("GET",t,!0),o)for(r in o)o.hasOwnProperty(r)&&s.setRequestHeader(r.toLowerCase(),o[r]);m.onXhr&&m.onXhr(s,t),s.onreadystatechange=function(n){var o,r;4===s.readyState&&(o=s.status||0,o>399&&o<600?(r=new Error(t+" HTTP status: "+o),r.xhr=s,i&&i(r)):e(s.responseText),m.onXhrComplete&&m.onXhrComplete(s,t))},s.send(null)}:"rhino"===m.env||!m.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?n.get=function(t,e){var i,n,o=new java.io.File(t),r=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),"utf-8")),a="";try{for(i=new java.lang.StringBuffer,n=s.readLine(),n&&n.length()&&65279===n.charAt(0)&&(n=n.substring(1)),null!==n&&i.append(n);null!==(n=s.readLine());)i.append(r),i.append(n);a=String(i.toString())}finally{s.close()}e(a)}:("xpconnect"===m.env||!m.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(r=Components.classes,s=Components.interfaces,Components.utils.import("resource://gre/modules/FileUtils.jsm"),a="@mozilla.org/windows-registry-key;1"in r,n.get=function(t,e){var i,n,o,c={};a&&(t=t.replace(/\//g,"\\")),o=new FileUtils.File(t);try{i=r["@mozilla.org/network/file-input-stream;1"].createInstance(s.nsIFileInputStream),i.init(o,1,0,!1),n=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(s.nsIConverterInputStream),n.init(i,"utf-8",i.available(),s.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),n.readString(i.available(),c),n.close(),i.close(),e(c.value)}catch(t){throw new Error((o&&o.path||"")+": "+t)}}),n}),define("text!interactive/js/ui/modal/ModalView.mustache",[],function(){return'{{#if src}}\n<div class="modal{{#if size}} {{/if}}{{size}}{{#if dom}} modal-dom{{/if}}">\n\t<input id="modal-toggle" type="checkbox" name="modal-toggle" checked/>\n\t<div class="modal-canvas">\n\t\t<div class="modal-frame {{wrapClass}}" {{wrapId}}>\n\t\t\t<label for="modal-toggle"><i tabindex="0" class="modal-toggle-visible"></i></label>\n\t\t\t{{#if dom}}\n\t\t\t\t<div class="modal-content">\n\t\t\t\t\t{{&dom}}\n\t\t\t\t</div>\n\t\t\t{{else}}\n\t\t\t\t<iframe name="modal-frame" src="{{src}}" seamless allowfullscreen></iframe>\n\t\t\t{{/if}}\n\t\t</div>\n\t</div>\n</div>\n{{/if}}\n'}),define("interactive/js/ui/modal/ModalView",["module","can/view/mustache","text!./ModalView.mustache"],function(t,e,i){"use strict";return e.view.mustache(i)}),define("interactive/js/ui/modal/ModalEscapeControl",["can/control"],function(t){"use strict";return t.extend({defaults:{state:null}},{keyup:function(t,e){27===e.which&&this.options.state&&this.options.state.setSrc()}})}),define("interactive/js/ui/modal/TabIndexControl",["can"],function(t){"use strict";function e(t){var e=t.tabIndex;return t.tabIndex=-1,function(){t.tabIndex=e}}return t.Control.extend({defaults:{tabbable:["input","select","a[href]","textarea","button","[tabindex]"].join(",")}},{init:function(){this.restoreTabbableEls=[]},disableBgTabbing:function(i,n){var o,r=t.$(i).find(this.options.tabbable).not(n).filter(":visible");for(o=0;o<r.length;o++)r[o].tabIndex>=0&&this.restoreTabbableEls.push(e(r[o]))},restoreBgTabbing:function(){this.restoreTabbableEls.forEach(function(t){t()}),this.restoreTabbableEls=[]}})}),define("interactive/js/ui/modal/ModalControl",["can","./ModalState","./ModalView","./ModalEscapeControl","./TabIndexControl"],function(t,e,i,n,o){"use strict";return t.Control.extend({sizes:{"1920x1080":"modal-size-1920x1080","1280x720":"modal-size-1280x720","935x580":"modal-size-935x580","854x480":"modal-size-854x480","640x360":"modal-size-640x360","426x240":"modal-size-426x240"},defaults:{minsize:"700"}},{init:function(){this.options.sizes=t.extend({},this.constructor.sizes,this.options.sizes),this.options.state=new e({sizes:this.options.sizes}),this.tabIndexControl=new o,this.element.append(i(this.options.state)),this.on()},_handleCanvasTouch:function(t,e){t[0]===e.target&&this.options.state.setSrc()},".modal-canvas click":function(t,e){this._handleCanvasTouch(t,e)},".modal-canvas keypress":function(t,e){this._handleCanvasTouch(t,e)},".modal-toggle-visible click":function(t,e){this._handleCanvasTouch(t,e)},".default-lang  click":function(t,e){this._handleCanvasTouch(t,e)},".modal-toggle-visible keypress":function(t,e){this._handleCanvasTouch(t,e)},'a[target="modal-frame"] click':function(e,i){var n,o=t.$(e.data("modal-target"));t.$("body").width()>=this.options.minsize&&(i.preventDefault(),o=t.$(e.data("modal-target")),null!==o&&o.length>0&&(n=o.children().html(),this.options.state.attr("dom",n)),this.options.state.setMarker(e),t.$(document).trigger("modalReady"))},'a[target="modal-frame"] keypress':function(e,i){13===i.which&&t.$("body").width()>=this.options.minsize&&(i.preventDefault(),this.options.state.setMarker(e))},"{state} src":function(e,i,o){var r=Boolean(o);this.element.find("[name=modal]").prop("checked",r),r?(this.escaper=new n(t.$(this.element.prop("ownerDocument")),{state:this.options.state}),this.tabIndexControl.disableBgTabbing(this.element,".modal-frame")):(this.options.state.setSrc(),t.$(document).unbind("modalReady"),this.escaper&&this.escaper.destroy(),this.tabIndexControl.restoreBgTabbing())},"[name=modal] change":function(t){t.prop("checked")||this.options.state.setSrc()},"{state} marker":function(e,i,n,o){!n&&o&&t.route.current({
type:"modal",id:o})&&t.route.attr({type:"",id:""})},":type/:id route":function(e){"modal"===e.type?this.options.state.setMarker(t.$(document.getElementById(e.id))):this.options.state.setMarker()}})}),define("interactive/js/ui/modal/SeedModal",["linseed!./ModalControl"],function(t){"use strict";return t("seed-modal").seed()}),define("interactive/js/ui/rotate/RotateControl",["can","debug"],function(t,e){"use strict";return t.Control({defaults:{debug:!1,time:6e3,selector:"input:radio",rotations:0,cancelOnHover:!0}},{init:function(t,i){this.debug=new e("",{debug:this.options.debug,control:"Rotate"}),this.items=this.setSelector(i),this.paused=!1,this.stopRotation=this.element.data("seed-rotate")>0?parseInt(this.element.data("seed-rotate")):1e6,this.debug.log("this.element.data(seed-rotate)",this.element.data("seed-rotate")),this.debug.log("selectors",i),this.debug.log("this.element",this.element),this.debug.log("this.items",this.items),this.timer()},setSelector:function(t){var e;return this.element.find(t).length>0?(e=this.element.find(t),this.options.selector=t):e=this.element.find(this.options.selector),e},timer:function(){this.paused=!1,this.timerIsSet=setTimeout(t.proxy(function(){this.rotate()},this),this.options.time),this.debug.log("this.timerIsSet",this.timerIsSet)},isChecked:function(t){return this.debug.log("isChecked?",t,t[0].checked),t[0].checked},rotate:function(){var e,i,n=this;this.items.length>0&&!this.paused&&this.options.rotations!==this.stopRotation?(t.$.each(this.items,function(o){n.isChecked(t.$(this))&&(i=t.$(this).parent().find("figure").length-1,i>o?e=t.$(this).next():i===o&&(n.debug.log("rotate: else. stopRotation:",n.stopRotation,"this.options.rotations:",n.options.rotations),e=n.items.first(),n.stopRotation>0&&(n.options.rotations++,n.debug.log("this.stopRotation found",n.stopRotation),n.debug.log("self.options.rotations count"))))}),n.setNextChecked(e)):this.cancel()},setNextChecked:function(t){t.length>0&&(t.trigger("click"),this.debug.log("checked after rotate",t),this.timer())},cancel:function(){this.paused=!0,clearTimeout(this.timerIsSet),this.debug.log("timer cancelled",this.timerIsSet)},"{selector} change":function(t,e){this.paused||(this.debug.log("Detected a change inside the carousel",t,e),this.cancel())},mouseenter:function(t,e){this.paused||(this.debug.log(t,e,"hover or focus event detected"),this.cancel())},focusin:function(e){t.trigger(e,"mouseenter")},"menu button click":function(t,e){this.debug.log(t,e,"play/stop controls clicked"),"start"===t.attr("data-action")?(this.options.rotations=0,this.timer()):this.cancel()}})}),define("interactive/js/ui/rotate/SeedRotate",["linseed!./RotateControl"],function(t){"use strict";return t("seed-rotate").seedEach()}),function(t){function e(e){return!e||void 0!==e.allowPageScroll||void 0===e.swipe&&void 0===e.swipeStatus||(e.allowPageScroll=u),void 0!==e.click&&void 0===e.tap&&(e.tap=e.click),e||(e={}),e=t.extend({},t.fn.swipe.defaults,e),this.each(function(){var n=t(this),o=n.data(T);o||(o=new i(this,e),n.data(T,o))})}function i(e,i){function P(e){if(!(at()||t(e.target).closest(i.excludedElements,Vt).length>0)){var n,o=e.originalEvent?e.originalEvent:e,r=S?o.touches[0]:o;if(Ht=w,S?qt=o.touches.length:e.preventDefault(),Et=0,It=null,$t=null,Nt=0,Dt=0,Rt=0,Ut=1,Ft=0,zt=ht(),Bt=gt(),rt(),!S||qt===i.fingers||i.fingers===v||B()?(ut(0,r),Wt=St(),2==qt&&(ut(1,o.touches[1]),Dt=Rt=vt(zt[0].start,zt[1].start)),(i.swipeStatus||i.pinchStatus)&&(n=E(o,Ht))):n=!1,!1===n)return Ht=C,E(o,Ht),n;ct(!0)}}function A(t){var e=t.originalEvent?t.originalEvent:t;if(Ht!==x&&Ht!==C&&!st()){var n,o=S?e.touches[0]:e,r=lt(o);if(Gt=St(),S&&(qt=e.touches.length),Ht=k,2==qt&&(0==Dt?(ut(1,e.touches[1]),Dt=Rt=vt(zt[0].start,zt[1].start)):(lt(e.touches[1]),Rt=vt(zt[0].end,zt[1].end),$t=wt(zt[0].end,zt[1].end)),Ut=yt(Dt,Rt),Ft=Math.abs(Dt-Rt)),qt===i.fingers||i.fingers===v||!S||B()){if(It=Ct(r.start,r.end),F(t,It),Et=kt(r.start,r.end),Nt=bt(),pt(It,Et),(i.swipeStatus||i.pinchStatus)&&(n=E(e,Ht)),!i.triggerOnTouchEnd||i.triggerOnTouchLeave){var s=!0;if(i.triggerOnTouchLeave){var a=Tt(this);s=Pt(r.end,a)}!i.triggerOnTouchEnd&&s?Ht=O(k):i.triggerOnTouchLeave&&!s&&(Ht=O(x)),Ht!=C&&Ht!=x||E(e,Ht)}}else Ht=C,E(e,Ht);!1===n&&(Ht=C,E(e,Ht))}}function j(t){var e=t.originalEvent;if(S&&e.touches.length>0)return ot(),!0;st()&&(qt=Jt),t.preventDefault(),Gt=St(),Nt=bt(),D()?(Ht=C,E(e,Ht)):i.triggerOnTouchEnd||0==i.triggerOnTouchEnd&&Ht===k?(Ht=x,E(e,Ht)):!i.triggerOnTouchEnd&&X()?(Ht=x,I(e,Ht,p)):Ht===k&&(Ht=C,E(e,Ht)),ct(!1)}function L(){qt=0,Gt=0,Wt=0,Dt=0,Rt=0,Ut=1,rt(),ct(!1)}function _(t){var e=t.originalEvent;i.triggerOnTouchLeave&&(Ht=O(x),E(e,Ht))}function M(){Vt.unbind(jt,P),Vt.unbind(Ot,L),Vt.unbind(Lt,A),Vt.unbind(_t,j),Mt&&Vt.unbind(Mt,_),ct(!1)}function O(t){var e=t,n=U(),o=N(),r=D();return!n||r?e=C:!o||t!=k||i.triggerOnTouchEnd&&!i.triggerOnTouchLeave?!o&&t==x&&i.triggerOnTouchLeave&&(e=C):e=x,e}function E(t,e){var i=void 0;return z()||q()?i=I(t,e,d):(V()||B())&&!1!==i&&(i=I(t,e,h)),it()&&!1!==i?i=I(t,e,f):nt()&&!1!==i?i=I(t,e,g):et()&&!1!==i&&(i=I(t,e,p)),e===C&&L(t),e===x&&(S?0==t.touches.length&&L(t):L(t)),i}function I(e,u,l){var m=void 0;if(l==d){if(Vt.trigger("swipeStatus",[u,It||null,Et||0,Nt||0,qt]),i.swipeStatus&&!1===(m=i.swipeStatus.call(Vt,e,u,It||null,Et||0,Nt||0,qt)))return!1;if(u==x&&H()){if(Vt.trigger("swipe",[It,Et,Nt,qt]),i.swipe&&!1===(m=i.swipe.call(Vt,e,It,Et,Nt,qt)))return!1;switch(It){case n:Vt.trigger("swipeLeft",[It,Et,Nt,qt]),i.swipeLeft&&(m=i.swipeLeft.call(Vt,e,It,Et,Nt,qt));break;case o:Vt.trigger("swipeRight",[It,Et,Nt,qt]),i.swipeRight&&(m=i.swipeRight.call(Vt,e,It,Et,Nt,qt));break;case r:Vt.trigger("swipeUp",[It,Et,Nt,qt]),i.swipeUp&&(m=i.swipeUp.call(Vt,e,It,Et,Nt,qt));break;case s:Vt.trigger("swipeDown",[It,Et,Nt,qt]),i.swipeDown&&(m=i.swipeDown.call(Vt,e,It,Et,Nt,qt))}}}if(l==h){if(Vt.trigger("pinchStatus",[u,$t||null,Ft||0,Nt||0,qt,Ut]),i.pinchStatus&&!1===(m=i.pinchStatus.call(Vt,e,u,$t||null,Ft||0,Nt||0,qt,Ut)))return!1;if(u==x&&$())switch($t){case a:Vt.trigger("pinchIn",[$t||null,Ft||0,Nt||0,qt,Ut]),i.pinchIn&&(m=i.pinchIn.call(Vt,e,$t||null,Ft||0,Nt||0,qt,Ut));break;case c:Vt.trigger("pinchOut",[$t||null,Ft||0,Nt||0,qt,Ut]),i.pinchOut&&(m=i.pinchOut.call(Vt,e,$t||null,Ft||0,Nt||0,qt,Ut))}}return l==p?u!==C&&u!==x||(clearTimeout(Kt),J()&&!Y()?(Qt=St(),Kt=setTimeout(t.proxy(function(){Qt=null,Vt.trigger("tap",[e.target]),i.tap&&(m=i.tap.call(Vt,e,e.target))},this),i.doubleTapThreshold)):(Qt=null,Vt.trigger("tap",[e.target]),i.tap&&(m=i.tap.call(Vt,e,e.target)))):l==f?u!==C&&u!==x||(clearTimeout(Kt),Qt=null,Vt.trigger("doubletap",[e.target]),i.doubleTap&&(m=i.doubleTap.call(Vt,e,e.target))):l==g&&(u!==C&&u!==x||(clearTimeout(Kt),Qt=null,Vt.trigger("longtap",[e.target]),i.longTap&&(m=i.longTap.call(Vt,e,e.target)))),m}function N(){var t=!0;return null!==i.threshold&&(t=Et>=i.threshold),t}function D(){var t=!1;return null!==i.cancelThreshold&&null!==It&&(t=ft(It)-Et>=i.cancelThreshold),t}function R(){return null===i.pinchThreshold||Ft>=i.pinchThreshold}function U(){return!i.maxTimeThreshold||!(Nt>=i.maxTimeThreshold)}function F(t,e){if(i.allowPageScroll===u||B())t.preventDefault();else{var a=i.allowPageScroll===l;switch(e){case n:(i.swipeLeft&&a||!a&&i.allowPageScroll!=m)&&t.preventDefault();break;case o:(i.swipeRight&&a||!a&&i.allowPageScroll!=m)&&t.preventDefault();break;case r:(i.swipeUp&&a||!a&&i.allowPageScroll!=b)&&t.preventDefault();break;case s:(i.swipeDown&&a||!a&&i.allowPageScroll!=b)&&t.preventDefault()}}}function $(){var t=W(),e=G(),i=R();return t&&e&&i}function B(){return!!(i.pinchStatus||i.pinchIn||i.pinchOut)}function V(){return!(!$()||!B())}function H(){var t=U(),e=N(),i=W(),n=G();return!D()&&n&&i&&e&&t}function q(){return!!(i.swipe||i.swipeStatus||i.swipeLeft||i.swipeRight||i.swipeUp||i.swipeDown)}function z(){return!(!H()||!q())}function W(){return qt===i.fingers||i.fingers===v||!S}function G(){return 0!==zt[0].end.x}function X(){return!!i.tap}function J(){return!!i.doubleTap}function Q(){return!!i.longTap}function K(){if(null==Qt)return!1;var t=St();return J()&&t-Qt<=i.doubleTapThreshold}function Y(){return K()}function Z(){return(1===qt||!S)&&(isNaN(Et)||0===Et)}function tt(){return Nt>i.longTapThreshold&&Et<y}function et(){return!(!Z()||!X())}function it(){return!(!K()||!J())}function nt(){return!(!tt()||!Q())}function ot(){Xt=St(),Jt=event.touches.length+1}function rt(){Xt=0,Jt=0}function st(){var t=!1;if(Xt){St()-Xt<=i.fingerReleaseThreshold&&(t=!0)}return t}function at(){return!(!0!==Vt.data(T+"_intouch"))}function ct(t){!0===t?(Vt.bind(Lt,A),Vt.bind(_t,j),Mt&&Vt.bind(Mt,_)):(Vt.unbind(Lt,A,!1),Vt.unbind(_t,j,!1),Mt&&Vt.unbind(Mt,_,!1)),Vt.data(T+"_intouch",!0===t)}function ut(t,e){var i=void 0!==e.identifier?e.identifier:0;return zt[t].identifier=i,zt[t].start.x=zt[t].end.x=e.pageX||e.clientX,zt[t].start.y=zt[t].end.y=e.pageY||e.clientY,zt[t]}function lt(t){var e=void 0!==t.identifier?t.identifier:0,i=dt(e);return i.end.x=t.pageX||t.clientX,i.end.y=t.pageY||t.clientY,i}function dt(t){for(var e=0;e<zt.length;e++)if(zt[e].identifier==t)return zt[e]}function ht(){for(var t=[],e=0;e<=5;e++)t.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return t}function pt(t,e){e=Math.max(e,ft(t)),Bt[t].distance=e}function ft(t){return Bt[t].distance}function gt(){var t={};return t[n]=mt(n),t[o]=mt(o),t[r]=mt(r),t[s]=mt(s),t}function mt(t){return{direction:t,distance:0}}function bt(){return Gt-Wt}function vt(t,e){var i=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y);return Math.round(Math.sqrt(i*i+n*n))}function yt(t,e){return(e/t*1).toFixed(2)}function wt(){return Ut<1?c:a}function kt(t,e){return Math.round(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)))}function xt(t,e){var i=t.x-e.x,n=e.y-t.y,o=Math.atan2(n,i),r=Math.round(180*o/Math.PI);return r<0&&(r=360-Math.abs(r)),r}function Ct(t,e){var i=xt(t,e);return i<=45&&i>=0?n:i<=360&&i>=315?n:i>=135&&i<=225?o:i>45&&i<135?s:r}function St(){return(new Date).getTime()}function Tt(e){e=t(e);var i=e.offset();return{left:i.left,right:i.left+e.outerWidth(),top:i.top,bottom:i.top+e.outerHeight()}}function Pt(t,e){return t.x>e.left&&t.x<e.right&&t.y>e.top&&t.y<e.bottom}var At=S||!i.fallbackToMouseEvents,jt=At?"touchstart":"mousedown",Lt=At?"touchmove":"mousemove",_t=At?"touchend":"mouseup",Mt=At?null:"mouseleave",Ot="touchcancel",Et=0,It=null,Nt=0,Dt=0,Rt=0,Ut=1,Ft=0,$t=0,Bt=null,Vt=t(e),Ht="start",qt=0,zt=null,Wt=0,Gt=0,Xt=0,Jt=0,Qt=0,Kt=null;try{Vt.bind(jt,P),Vt.bind(Ot,L)}catch(e){t.error("events not supported "+jt+","+Ot+" on jQuery.swipe")}this.enable=function(){return Vt.bind(jt,P),Vt.bind(Ot,L),Vt},this.disable=function(){return M(),Vt},this.destroy=function(){return M(),Vt.data(T,null),Vt},this.option=function(e,n){if(void 0!==i[e]){if(void 0===n)return i[e];i[e]=n}else t.error("Option "+e+" does not exist on jQuery.swipe.options")}}var n="left",o="right",r="up",s="down",a="in",c="out",u="none",l="auto",d="swipe",h="pinch",p="tap",f="doubletap",g="longtap",m="horizontal",b="vertical",v="all",y=10,w="start",k="move",x="end",C="cancel",S="ontouchstart"in window,T="TouchSwipe",P={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"button, input, select, textarea, a, .noSwipe"};t.fn.swipe=function(i){var n=t(this),o=n.data(T);if(o&&"string"==typeof i){if(o[i])return o[i].apply(this,Array.prototype.slice.call(arguments,1));t.error("Method "+i+" does not exist on jQuery.swipe")}else if(!(o||"object"!=typeof i&&i))return e.apply(this,arguments);return n},t.fn.swipe.defaults=P,t.fn.swipe.phases={PHASE_START:w,PHASE_MOVE:k,PHASE_END:x,PHASE_CANCEL:C},t.fn.swipe.directions={LEFT:n,RIGHT:o,UP:r,DOWN:s,IN:a,OUT:c},t.fn.swipe.pageScroll={NONE:u,HORIZONTAL:m,VERTICAL:b,AUTO:l},t.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:v}}(jQuery),define("touchswipe",function(){}),define("interactive/js/ui/swipe/SwipeControl",["can","debug","touchswipe"],function(t,e){"use strict";return t.Control({defaults:{debug:!1,leftPaddle:".Paddle-left",rightPaddle:".Paddle-right"}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"Swipe"}),this.debug.log("----------------------------------------Swipe--------------------------------------------------"),this.items=this.element.find("input[name="+this.element.data("seed-swipe")+"]"),this.target=this.element.find("section figure"),this.notNewCarousel="newcarousel"!==this.element.data("seed-swipe"),this.debug.log(["this.items",this.items]),this.debug.log(["this.items.first().attr(id)",this.items.first().attr("id")]),this.debug.log(["this.items.last().attr(id)",this.items.last().attr("id")]),this.debug.log(["this.target",this.target]),this.swipeIt()},swipeIt:function(){this.target.swipe({allowPageScroll:"vertical",swipe:t.proxy(function(e,i,n,o,r,s){var a=t.$(e.target).parents("figure"),c=t.$(a).index();if(this.debug.log(["You swiped "+i+" "+n+"px with "+r+" fingers. Swipe Data:",s]),this.findChecked(),this.eventCheck(e)&&n>=100){if("right"===i)return this.debug.log("saw SwipeRight!"),this.notNewCarousel?this.swipeRight():this.swipeClickRight(c);if("left"===i)return this.debug.log("saw SwipeLeft!"),this.notNewCarousel?this.swipeLeft():this.swipeClickLeft(c+1)}},this),tap:t.proxy(function(e,i){this.debug.log(["target",i]),this.eventCheck(e)&&(this.link=void 0!==t.$(i).attr("data-seed-link")?t.$(i).data("seed-link"):t.$(i).parents("[data-seed-link]").data("seed-link"),this.debug.log(["this.link",this.link]),void 0!==this.link&&""!==this.link&&(this.debug.log("saw a click!"),window.location.href=this.link))},this)})},eventCheck:function(t){return this.debug.log(["event",t]),this.debug.log(["event.type",t.type]),this.debug.log(["event.button",t.button]),this.debug.log(["event.ctrlKey",t.ctrlKey]),this.debug.log(["event.shiftKey",t.shiftKey]),("mouseup"===t.type&&0===t.button||"touchend"===t.type)&&!1===t.ctrlKey&&!1===t.shiftKey},findChecked:function(){var e=null;return t.$.each(this.items,function(){t.$(this).prop("checked")&&(e=t.$(this))}),this.checked=e,this.debug.log(["this.checked.attr(id)",this.checked.attr("id")]),e},swipeLeft:function(){this.debug.log("Moving Left!"),this.checked.attr("id")===this.items.last().attr("id")?(this.debug.log("last Item, moving to first item"),this.checked.removeProp("checked").blur(),this.items.first().prop("checked",!0)):(this.debug.log("moving to next item"),this.debug.log(["this.checked.next()",this.checked.next().attr("id")]),this.checked.removeProp("checked").blur(),this.checked.next().prop("checked",!0))},swipeRight:function(){this.debug.log("Moving Right!"),this.checked.attr("id")===this.items.first().attr("id")?(this.debug.log("First Item, moving to last item"),this.checked.removeProp("checked").blur(),this.items.last().prop("checked",!0)):(this.debug.log("moving to previous item"),this.debug.log(["this.checked.prev()",this.checked.prev().attr("id")]),this.checked.removeProp("checked").blur(),this.checked.prev().prop("checked",!0))},swipeClickLeft:function(e){var i=e+1<=this.target.length?e+1:1,n=t.$(this.element).find(this.options.rightPaddle+":nth-of-type("+i+")");this.debug.log("Moving Left! indexed, next, nextButton",e,i,n),n&&n.trigger("click")},swipeClickRight:function(e){var i=e>0?e:this.target.length,n=t.$(this.element).find(this.options.leftPaddle+":nth-of-type("+i+")");this.debug.log(["Moving Right! indexed, prev, prevButton",e,i,n]),n&&n.trigger("click")}})}),define("interactive/js/ui/swipe/SeedSwipe",["linseed!./SwipeControl"],function(t){"use strict";return t().seedOn(document.querySelector("body"),"data-seed-swipe"),t("seed-swipe").seedEach()}),function(){function m(){return function(){}}function p(t){return function(){return this[t]}}function q(t){return function(){return t}}function t(e,i,n){if("string"==typeof e){if(0===e.indexOf("#")&&(e=e.slice(1)),t.Ba[e])return t.Ba[e];e=t.v(e)}if(!e||!e.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return e.player||new t.Player(e,i,n)}function u(e,i,n,o){t.hc.forEach(n,function(t){e(i,t,o)})}function D(e,i){var n,o;n=Array.prototype.slice.call(i),o=m(),o=window.console||{log:o,warn:o,error:o},e?n.unshift(e.toUpperCase()+":"):e="log",t.log.history.push(n),n.unshift("VIDEOJS:"),o[e].apply?o[e].apply(o,n):o[e](n.join(" "))}function E(t){t.p("vjs-lock-showing")}function F(e,i,n,o){return n!==b?((n===j||t.Bd(n))&&(n=0),e.b.style[i]=-1!==(""+n).indexOf("%")||-1!==(""+n).indexOf("px")?n:"auto"===n?"":n+"px",o||e.k("resize"),e):e.b?(n=e.b.style[i],o=n.indexOf("px"),-1!==o?parseInt(n.slice(0,o),10):parseInt(e.b["offset"+t.ba(i)],10)):0}function G(t){var e,i,n,o,r,s,a,c;e=0,i=j,t.d("touchstart",function(t){1===t.touches.length&&(i=t.touches[0],e=(new Date).getTime(),o=f)}),t.d("touchmove",function(t){1<t.touches.length?o=l:i&&(s=t.touches[0].pageX-i.pageX,a=t.touches[0].pageY-i.pageY,22<(c=Math.sqrt(s*s+a*a))&&(o=l))}),r=function(){o=l},t.d("touchleave",r),t.d("touchcancel",r),t.d("touchend",function(t){i=j,o===f&&250>(n=(new Date).getTime()-e)&&(t.preventDefault(),this.k("tap"))})}function H(e,i){var n,o,r,s;return n=e.b,o=t.vd(n),s=r=n.offsetWidth,n=e.handle,e.options().vertical?(s=o.top,o=i.changedTouches?i.changedTouches[0].pageY:i.pageY,n&&(n=n.v().offsetHeight,s+=n/2,r-=n),Math.max(0,Math.min(1,(s-o+r)/r))):(r=o.left,o=i.changedTouches?i.changedTouches[0].pageX:i.pageX,n&&(n=n.v().offsetWidth,r+=n/2,s-=n),Math.max(0,Math.min(1,(o-r)/s)))}function ca(e,i){e.S(i),i.d("click",t.bind(e,function(){E(this)}))}function J(t){t.sa=f,t.Aa.m("vjs-lock-showing"),t.b.setAttribute("aria-pressed",f),t.P&&0<t.P.length&&t.P[0].v().focus()}function I(t){t.sa=l,E(t.Aa),t.b.setAttribute("aria-pressed",l)}function da(e){var i,n,o={sources:[],tracks:[]};if(i=t.za(e),n=i["data-setup"],n!==j&&t.g.z(i,t.JSON.parse(n||"{}")),t.g.z(o,i),e.hasChildNodes()){var r,s;for(e=e.childNodes,r=0,s=e.length;r<s;r++)i=e[r],n=i.nodeName.toLowerCase(),"source"===n?o.sources.push(t.za(i)):"track"===n&&o.tracks.push(t.za(i))}return o}function Q(e,i,n){e.n&&(e.la=l,e.n.dispose(),e.n=l),"Html5"!==i&&e.L&&(t.h.Bb(e.L),e.L=j),e.eb=i,e.la=l;var o=t.g.z({source:n,parentEl:e.b},e.l[i.toLowerCase()]);n&&(e.mc=n.type,n.src==e.G.src&&0<e.G.currentTime&&(o.startTime=e.G.currentTime),e.G.src=n.src),e.n=new window.videojs[i](e,o),e.n.J(function(){this.c.Fa()})}function R(t,e){e!==b&&t.uc!==e&&((t.uc=e)?(t.m("vjs-has-started"),t.k("firstplay")):t.p("vjs-has-started"))}function T(e,i,n){if(e.n&&!e.n.la)e.n.J(function(){this[i](n)});else try{e.n[i](n)}catch(e){throw t.log(e),e}}function S(e,i){if(e.n&&e.n.la)try{return e.n[i]()}catch(n){throw e.n[i]===b?t.log("Video.js: "+i+" method not defined for "+e.eb+" playback technology.",n):"TypeError"==n.name?(t.log("Video.js: "+i+" unavailable on "+e.eb+" playback technology element.",n),e.n.la=l):t.log(n),n}}function U(e,i){var n,o=e.selectSource(i);o?o.n===e.eb?e.src(o.source):Q(e,o.n,o.source):(n=setTimeout(t.bind(e,function(){this.error({code:4,message:this.s(this.options().notSupportedMessage)})}),0),e.Fa(),e.d("dispose",function(){clearTimeout(n)}))}function P(t,e){return e!==b?(t.wc=!!e,t):t.wc}function ea(t){return t.j().n&&t.j().n.featuresPlaybackRate&&t.j().options().playbackRates&&0<t.j().options().playbackRates.length}function ga(t){t.Kb=l,t.cb(),t.o("play",t.Qc),t.o("pause",t.cb)}function ja(){var t=W[X],e=t.charAt(0).toUpperCase()+t.slice(1);ka["set"+e]=function(e){return this.b.vjs_setProperty(t,e)}}function la(t){ka[t]=function(){return this.b.vjs_getProperty(t)}}function na(e,i,n,o,r){var s=e.Ea=e.Ea||[];r=r||{},r.kind=i,r.label=n,r.language=o,i=t.ba(i||"subtitles");var a=new window.videojs[i+"Track"](e,r);s.push(a),a.Ab()&&e.J(function(){setTimeout(function(){Y(a.j(),a.id())},0)})}function Y(t,e,i){for(var n,o,r=t.Ea,s=0,a=r.length;s<a;s++)n=r[s],n.id()===e?(n.show(),o=n):i&&n.K()==i&&0<n.mode()&&n.disable();(e=o?o.K():i||l)&&t.k(e+"trackchange")}function oa(e){0===e.na&&e.load(),0===e.ma&&(e.c.d("timeupdate",t.bind(e,e.update,e.U)),e.c.d("ended",t.bind(e,e.reset,e.U)),("captions"===e.H||"subtitles"===e.H)&&e.c.ka("textTrackDisplay").S(e))}function pa(t){var e=t.split(":");t=0;var i,n,o;return 3==e.length?(i=e[0],n=e[1],e=e[2]):(i=0,n=e[0],e=e[1]),e=e.split(/\s+/),e=e.splice(0,1)[0],e=e.split(/\.|,/),o=parseFloat(e[1]),e=e[0],t+=3600*parseFloat(i),t+=60*parseFloat(n),t+=parseFloat(e),o&&(t+=o/1e3),t}function $(t,e){var i=t.split("."),n=qa;!(i[0]in n)&&n.execScript&&n.execScript("var "+i[0]);for(var o;i.length&&(o=i.shift());)i.length||e===b?n=n[o]?n[o]:n[o]={}:n[o]=e}var b=void 0,f=!0,j=null,l=!1,s;document.createElement("video"),document.createElement("audio"),document.createElement("track");var videojs=window.videojs=t;t.Ub="4.9",t.Uc="https:"==document.location.protocol?"https://":"http://",t.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,playbackRates:[],inactivityTimeout:2e3,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{},errorDisplay:{}},language:document.getElementsByTagName("html")[0].getAttribute("lang")||navigator.languages&&navigator.languages[0]||navigator.we||navigator.language||"en",languages:{},notSupportedMessage:"No compatible source was found for this video."},"GENERATED_CDN_VSN"!==t.Ub&&(videojs.options.flash.swf=t.Uc+"vjs.zencdn.net/"+t.Ub+"/video-js.swf"),t.fd=function(e,i){return t.options.languages[e]=t.options.languages[e]!==b?t.ga.Va(t.options.languages[e],i):i,t.options.languages},t.Ba={},"function"==typeof define&&define.amd?define("videojs",[],function(){return videojs}):"object"==typeof exports&&"object"==typeof module&&(module.exports=videojs),t.qa=t.CoreObject=m(),t.qa.extend=function(e){var i,n;e=e||{},i=e.init||e.i||this.prototype.init||this.prototype.i||m(),n=function(){i.apply(this,arguments)},n.prototype=t.g.create(this.prototype),n.prototype.constructor=n,n.extend=t.qa.extend,n.create=t.qa.create;for(var o in e)e.hasOwnProperty(o)&&(n.prototype[o]=e[o]);return n},t.qa.create=function(){var e=t.g.create(this.prototype);return this.apply(e,arguments),e},t.d=function(e,i,n){if(t.g.isArray(i))return u(t.d,e,i,n);var o=t.getData(e);o.C||(o.C={}),o.C[i]||(o.C[i]=[]),n.w||(n.w=t.w++),o.C[i].push(n),o.X||(o.disabled=l,o.X=function(i){if(!o.disabled){i=t.qc(i);var n=o.C[i.type];if(n)for(var n=n.slice(0),r=0,s=n.length;r<s&&!i.yc();r++)n[r].call(e,i)}}),1==o.C[i].length&&(e.addEventListener?e.addEventListener(i,o.X,l):e.attachEvent&&e.attachEvent("on"+i,o.X))},t.o=function(e,i,n){if(t.tc(e)){var o=t.getData(e);if(o.C){if(t.g.isArray(i))return u(t.o,e,i,n);if(i){var r=o.C[i];if(r){if(n){if(n.w)for(o=0;o<r.length;o++)r[o].w===n.w&&r.splice(o--,1)}else o.C[i]=[];t.jc(e,i)}}else for(r in o.C)i=r,o.C[i]=[],t.jc(e,i)}}},t.jc=function(e,i){var n=t.getData(e);0===n.C[i].length&&(delete n.C[i],e.removeEventListener?e.removeEventListener(i,n.X,l):e.detachEvent&&e.detachEvent("on"+i,n.X)),t.Hb(n.C)&&(delete n.C,delete n.X,delete n.disabled),t.Hb(n)&&t.Hc(e)},t.qc=function(t){function e(){return f}function i(){return l}if(!t||!t.Ib){var n=t||window.event;t={};for(var o in n)"layerX"!==o&&"layerY"!==o&&"keyboardEvent.keyLocation"!==o&&("returnValue"==o&&n.preventDefault||(t[o]=n[o]));if(t.target||(t.target=t.srcElement||document),t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement,t.preventDefault=function(){n.preventDefault&&n.preventDefault(),t.returnValue=l,t.zd=e,t.defaultPrevented=f},t.zd=i,t.defaultPrevented=l,t.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),t.cancelBubble=f,t.Ib=e},t.Ib=i,t.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),t.yc=e,t.stopPropagation()},t.yc=i,t.clientX!=j){o=document.documentElement;var r=document.body;t.pageX=t.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),t.pageY=t.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!=j&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t},t.k=function(e,i){var n=t.tc(e)?t.getData(e):{},o=e.parentNode||e.ownerDocument;return"string"==typeof i&&(i={type:i,target:e}),i=t.qc(i),n.X&&n.X.call(e,i),o&&!i.Ib()&&i.bubbles!==l?t.k(o,i):o||i.defaultPrevented||(n=t.getData(i.target),!i.target[i.type])||(n.disabled=f,"function"==typeof i.target[i.type]&&i.target[i.type](),n.disabled=l),!i.defaultPrevented},t.Q=function(e,i,n){function o(){t.o(e,i,o),n.apply(this,arguments)}if(t.g.isArray(i))return u(t.Q,e,i,n);o.w=n.w=n.w||t.w++,t.d(e,i,o)};var v=Object.prototype.hasOwnProperty;t.e=function(e,i){var n;return i=i||{},n=document.createElement(e||"div"),t.g.Y(i,function(t,e){-1!==t.indexOf("aria-")||"role"==t?n.setAttribute(t,e):n[t]=e}),n},t.ba=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.g={},t.g.create=Object.create||function(t){function e(){}return e.prototype=t,new e},t.g.Y=function(t,e,i){for(var n in t)v.call(t,n)&&e.call(i||this,n,t[n])},t.g.z=function(t,e){if(!e)return t;for(var i in e)v.call(e,i)&&(t[i]=e[i]);return t},t.g.od=function(e,i){var n,o,r;e=t.g.copy(e);for(n in i)v.call(i,n)&&(o=e[n],r=i[n],e[n]=t.g.Ta(o)&&t.g.Ta(r)?t.g.od(o,r):i[n]);return e},t.g.copy=function(e){return t.g.z({},e)},t.g.Ta=function(t){return!!t&&"object"==typeof t&&"[object Object]"===t.toString()&&t.constructor===Object},t.g.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},t.Bd=function(t){return t!==t},t.bind=function(e,i,n){function o(){return i.apply(e,arguments)}return i.w||(i.w=t.w++),o.w=n?n+"_"+i.w:i.w,o},t.ua={},t.w=1,t.expando="vdata"+(new Date).getTime(),t.getData=function(e){var i=e[t.expando];return i||(i=e[t.expando]=t.w++,t.ua[i]={}),t.ua[i]},t.tc=function(e){return!(!(e=e[t.expando])||t.Hb(t.ua[e]))},t.Hc=function(e){var i=e[t.expando];if(i){delete t.ua[i];try{delete e[t.expando]}catch(i){e.removeAttribute?e.removeAttribute(t.expando):e[t.expando]=j}}},t.Hb=function(t){for(var e in t)if(t[e]!==j)return l;return f},t.Sa=function(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")},t.m=function(e,i){t.Sa(e,i)||(e.className=""===e.className?i:e.className+" "+i)},t.p=function(e,i){var n,o;if(t.Sa(e,i)){for(n=e.className.split(" "),o=n.length-1;0<=o;o--)n[o]===i&&n.splice(o,1);e.className=n.join(" ")}},t.A=t.e("video"),t.N=navigator.userAgent,t.$c=/iPhone/i.test(t.N),t.Zc=/iPad/i.test(t.N),t.ad=/iPod/i.test(t.N),t.Yc=t.$c||t.Zc||t.ad;var aa=t,x,y=t.N.match(/OS (\d+)_/i);x=y&&y[1]?y[1]:b,aa.le=x,t.Wc=/Android/i.test(t.N);var ba=t,z,A=t.N.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),B,C;A?(B=A[1]&&parseFloat(A[1]),C=A[2]&&parseFloat(A[2]),z=B&&C?parseFloat(A[1]+"."+A[2]):B||j):z=j,ba.Tb=z,t.bd=t.Wc&&/webkit/i.test(t.N)&&2.3>t.Tb,t.Xc=/Firefox/i.test(t.N),t.me=/Chrome/i.test(t.N),t.dc=!!("ontouchstart"in window||window.Vc&&document instanceof window.Vc),t.Jc=function(e,i){t.g.Y(i,function(t,i){i===j||void 0===i||i===l?e.removeAttribute(t):e.setAttribute(t,i===f?"":i)})},t.za=function(t){var e,i,n,o;if(e={},t&&t.attributes&&0<t.attributes.length){i=t.attributes;for(var r=i.length-1;0<=r;r--)n=i[r].name,o=i[r].value,"boolean"!=typeof t[n]&&-1===",autoplay,controls,loop,muted,default,".indexOf(","+n+",")||(o=o!==j?f:l),e[n]=o}return e},t.se=function(t,e){var i="";return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(i=t["client"+e.substr(0,1).toUpperCase()+e.substr(1)]+"px"),i},t.Gb=function(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},t.Oa={},t.v=function(t){return 0===t.indexOf("#")&&(t=t.slice(1)),document.getElementById(t)},t.ya=function(t,e){e=e||t;var i=Math.floor(t%60),n=Math.floor(t/60%60),o=Math.floor(t/3600),r=Math.floor(e/60%60),s=Math.floor(e/3600);return(isNaN(t)||1/0===t)&&(o=n=i="-"),(o=0<o||0<s?o+":":"")+(((o||10<=r)&&10>n?"0"+n:n)+":")+(10>i?"0"+i:i)},t.hd=function(){document.body.focus(),document.onselectstart=q(l)},t.he=function(){document.onselectstart=q(f)},t.trim=function(t){return(t+"").replace(/^\s+|\s+$/g,"")},t.round=function(t,e){return e||(e=0),Math.round(t*Math.pow(10,e))/Math.pow(10,e)},t.zb=function(t,e){return{length:1,start:function(){return t},end:function(){return e}}},t.get=function(e,i,n,o){var r,s,a,c;n=n||m(),"undefined"==typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw Error("This browser does not support XMLHttpRequest.")}),s=new XMLHttpRequest,a=t.Ud(e),c=window.location,a.protocol+a.host===c.protocol+c.host||!window.XDomainRequest||"withCredentials"in s?(r="file:"==a.protocol||"file:"==c.protocol,s.onreadystatechange=function(){4===s.readyState&&(200===s.status||r&&0===s.status?i(s.responseText):n(s.responseText))}):(s=new window.XDomainRequest,s.onload=function(){i(s.responseText)},s.onerror=n,s.onprogress=m(),s.ontimeout=n);try{s.open("GET",e,f),o&&(s.withCredentials=f)}catch(t){return void n(t)}try{s.send()}catch(t){n(t)}},t.Yd=function(e){try{var i=window.localStorage||l;i&&(i.volume=e)}catch(e){22==e.code||1014==e.code?t.log("LocalStorage Full (VideoJS)",e):18==e.code?t.log("LocalStorage not allowed (VideoJS)",e):t.log("LocalStorage Error (VideoJS)",e)}},t.sc=function(e){return e.match(/^https?:\/\//)||(e=t.e("div",{innerHTML:'<a href="'+e+'">x</a>'}).firstChild.href),e},t.Ud=function(e){var i,n,o,r;r="protocol hostname port pathname search hash host".split(" "),n=t.e("a",{href:e}),(o=""===n.host&&"file:"!==n.protocol)&&(i=t.e("div"),i.innerHTML='<a href="'+e+'"></a>',n=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),document.body.appendChild(i)),e={};for(var s=0;s<r.length;s++)e[r[s]]=n[r[s]];return o&&document.body.removeChild(i),e},t.log=function(){D(j,arguments)},t.log.history=[],t.log.error=function(){D("error",arguments)},t.log.warn=function(){D("warn",arguments)},t.vd=function(e){var i,n;return e.getBoundingClientRect&&e.parentNode&&(i=e.getBoundingClientRect()),i?(e=document.documentElement,n=document.body,{left:t.round(i.left+(window.pageXOffset||n.scrollLeft)-(e.clientLeft||n.clientLeft||0)),top:t.round(i.top+(window.pageYOffset||n.scrollTop)-(e.clientTop||n.clientTop||0))}):{left:0,top:0}},t.hc={},t.hc.forEach=function(e,i,n){if(t.g.isArray(e)&&i instanceof Function)for(var o=0,r=e.length;o<r;++o)i.call(n||t,e[o],o,e);return e},t.ga={},t.ga.Va=function(e,i){var n,o,r;e=t.g.copy(e);for(n in i)i.hasOwnProperty(n)&&(o=e[n],r=i[n],e[n]=t.g.Ta(o)&&t.g.Ta(r)?t.ga.Va(o,r):i[n]);return e},t.a=t.qa.extend({i:function(e,i,n){if(this.c=e,this.l=t.g.copy(this.l),i=this.options(i),this.U=i.id||(i.el&&i.el.id?i.el.id:e.id()+"_component_"+t.w++),this.Hd=i.name||j,this.b=i.el||this.e(),this.O=[],this.Pa={},this.Qa={},this.vc(),this.J(n),i.Ic!==l){var o,r;o=t.bind(this.j(),this.j().reportUserActivity),this.d("touchstart",function(){o(),clearInterval(r),r=setInterval(o,250)}),e=function(){o(),clearInterval(r)},this.d("touchmove",o),this.d("touchend",e),this.d("touchcancel",e)}}}),s=t.a.prototype,s.dispose=function(){if(this.k({type:"dispose",bubbles:l}),this.O)for(var e=this.O.length-1;0<=e;e--)this.O[e].dispose&&this.O[e].dispose();this.Qa=this.Pa=this.O=j,this.o(),this.b.parentNode&&this.b.parentNode.removeChild(this.b),t.Hc(this.b),this.b=j},s.c=f,s.j=p("c"),s.options=function(e){return e===b?this.l:this.l=t.ga.Va(this.l,e)},s.e=function(e,i){return t.e(e,i)},s.s=function(t){var e=this.c.language(),i=this.c.languages();return i&&i[e]&&i[e][t]?i[e][t]:t},s.v=p("b"),s.ja=function(){
return this.u||this.b},s.id=p("U"),s.name=p("Hd"),s.children=p("O"),s.xd=function(t){return this.Pa[t]},s.ka=function(t){return this.Qa[t]},s.S=function(e,i){var n,o;return"string"==typeof e?(o=e,i=i||{},n=i.componentClass||t.ba(o),i.name=o,n=new window.videojs[n](this.c||this,i)):n=e,this.O.push(n),"function"==typeof n.id&&(this.Pa[n.id()]=n),(o=o||n.name&&n.name())&&(this.Qa[o]=n),"function"==typeof n.el&&n.el()&&this.ja().appendChild(n.el()),n},s.removeChild=function(t){if("string"==typeof t&&(t=this.ka(t)),t&&this.O){for(var e=l,i=this.O.length-1;0<=i;i--)if(this.O[i]===t){e=f,this.O.splice(i,1);break}e&&(this.Pa[t.id]=j,this.Qa[t.name]=j,(e=t.v())&&e.parentNode===this.ja()&&this.ja().removeChild(t.v()))}},s.vc=function(){var e,i,n,o;if(e=this,i=this.options().children)if(t.g.isArray(i))for(var r=0;r<i.length;r++)n=i[r],"string"==typeof n?(o=n,n={}):o=n.name,e[o]=e.S(o,n);else t.g.Y(i,function(t,i){i!==l&&(e[t]=e.S(t,i))})},s.T=q(""),s.d=function(e,i){return t.d(this.b,e,t.bind(this,i)),this},s.o=function(e,i){return t.o(this.b,e,i),this},s.Q=function(e,i){return t.Q(this.b,e,t.bind(this,i)),this},s.k=function(e){return t.k(this.b,e),this},s.J=function(t){return t&&(this.la?t.call(this):(this.ab===b&&(this.ab=[]),this.ab.push(t))),this},s.Fa=function(){this.la=f;var t=this.ab;if(t&&0<t.length){for(var e=0,i=t.length;e<i;e++)t[e].call(this);this.ab=[],this.k("ready")}},s.Sa=function(e){return t.Sa(this.b,e)},s.m=function(e){return t.m(this.b,e),this},s.p=function(e){return t.p(this.b,e),this},s.show=function(){return this.b.style.display="block",this},s.W=function(){return this.b.style.display="none",this},s.disable=function(){this.W(),this.show=m()},s.width=function(t,e){return F(this,"width",t,e)},s.height=function(t,e){return F(this,"height",t,e)},s.rd=function(t,e){return this.width(t,f).height(e)},t.t=t.a.extend({i:function(e,i){t.a.call(this,e,i),G(this),this.d("tap",this.r),this.d("click",this.r),this.d("focus",this.Ya),this.d("blur",this.Xa)}}),s=t.t.prototype,s.e=function(e,i){var n;return i=t.g.z({className:this.T(),role:"button","aria-live":"polite",tabIndex:0},i),n=t.a.prototype.e.call(this,e,i),i.innerHTML||(this.u=t.e("div",{className:"vjs-control-content"}),this.xb=t.e("span",{className:"vjs-control-text",innerHTML:this.s(this.ta)||"Need Text"}),this.u.appendChild(this.xb),n.appendChild(this.u)),n},s.T=function(){return"vjs-control "+t.a.prototype.T.call(this)},s.r=m(),s.Ya=function(){t.d(document,"keydown",t.bind(this,this.Z))},s.Z=function(t){32!=t.which&&13!=t.which||(t.preventDefault(),this.r())},s.Xa=function(){t.o(document,"keydown",t.bind(this,this.Z))},t.R=t.a.extend({i:function(e,i){t.a.call(this,e,i),this.gd=this.ka(this.l.barName),this.handle=this.ka(this.l.handleName),this.d("mousedown",this.Za),this.d("touchstart",this.Za),this.d("focus",this.Ya),this.d("blur",this.Xa),this.d("click",this.r),this.c.d("controlsvisible",t.bind(this,this.update)),e.d(this.Dc,t.bind(this,this.update)),this.F={},this.F.move=t.bind(this,this.$a),this.F.end=t.bind(this,this.Lb)}}),s=t.R.prototype,s.dispose=function(){t.o(document,"mousemove",this.F.move,l),t.o(document,"mouseup",this.F.end,l),t.o(document,"touchmove",this.F.move,l),t.o(document,"touchend",this.F.end,l),t.o(document,"keyup",t.bind(this,this.Z)),t.a.prototype.dispose.call(this)},s.e=function(e,i){return i=i||{},i.className+=" vjs-slider",i=t.g.z({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),t.a.prototype.e.call(this,e,i)},s.Za=function(e){e.preventDefault(),t.hd(),this.m("vjs-sliding"),t.d(document,"mousemove",this.F.move),t.d(document,"mouseup",this.F.end),t.d(document,"touchmove",this.F.move),t.d(document,"touchend",this.F.end),this.$a(e)},s.$a=m(),s.Lb=function(){t.he(),this.p("vjs-sliding"),t.o(document,"mousemove",this.F.move,l),t.o(document,"mouseup",this.F.end,l),t.o(document,"touchmove",this.F.move,l),t.o(document,"touchend",this.F.end,l),this.update()},s.update=function(){if(this.b){var e,i=this.Fb(),n=this.handle,o=this.gd;if(isNaN(i)&&(i=0),e=i,n){e=this.b.offsetWidth;var r=n.v().offsetWidth;e=r?r/e:0,i*=1-e,e=i+e/2,n.v().style.left=t.round(100*i,2)+"%"}o&&(o.v().style.width=t.round(100*e,2)+"%")}},s.Ya=function(){t.d(document,"keyup",t.bind(this,this.Z))},s.Z=function(t){37==t.which||40==t.which?(t.preventDefault(),this.Mc()):38!=t.which&&39!=t.which||(t.preventDefault(),this.Nc())},s.Xa=function(){t.o(document,"keyup",t.bind(this,this.Z))},s.r=function(t){t.stopImmediatePropagation(),t.preventDefault()},t.$=t.a.extend(),t.$.prototype.defaultValue=0,t.$.prototype.e=function(e,i){return i=i||{},i.className+=" vjs-slider-handle",i=t.g.z({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},i),t.a.prototype.e.call(this,"div",i)},t.ha=t.a.extend(),t.ha.prototype.e=function(){var e=this.options().kc||"ul";return this.u=t.e(e,{className:"vjs-menu-content"}),e=t.a.prototype.e.call(this,"div",{append:this.u,className:"vjs-menu"}),e.appendChild(this.u),t.d(e,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),e},t.I=t.t.extend({i:function(e,i){t.t.call(this,e,i),this.selected(i.selected)}}),t.I.prototype.e=function(e,i){return t.t.prototype.e.call(this,"li",t.g.z({className:"vjs-menu-item",innerHTML:this.l.label},i))},t.I.prototype.r=function(){this.selected(f)},t.I.prototype.selected=function(t){t?(this.m("vjs-selected"),this.b.setAttribute("aria-selected",f)):(this.p("vjs-selected"),this.b.setAttribute("aria-selected",l))},t.M=t.t.extend({i:function(e,i){t.t.call(this,e,i),this.Aa=this.wa(),this.S(this.Aa),this.P&&0===this.P.length&&this.W(),this.d("keyup",this.Z),this.b.setAttribute("aria-haspopup",f),this.b.setAttribute("role","button")}}),s=t.M.prototype,s.sa=l,s.wa=function(){var e=new t.ha(this.c);if(this.options().title&&e.ja().appendChild(t.e("li",{className:"vjs-menu-title",innerHTML:t.ba(this.options().title),ee:-1})),this.P=this.createItems())for(var i=0;i<this.P.length;i++)ca(e,this.P[i]);return e},s.va=m(),s.T=function(){return this.className+" vjs-menu-button "+t.t.prototype.T.call(this)},s.Ya=m(),s.Xa=m(),s.r=function(){this.Q("mouseout",t.bind(this,function(){E(this.Aa),this.b.blur()})),this.sa?I(this):J(this)},s.Z=function(t){t.preventDefault(),32==t.which||13==t.which?this.sa?I(this):J(this):27==t.which&&this.sa&&I(this)},t.D=function(e){"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:"object"==typeof e&&t.g.z(this,e),this.message||(this.message=t.D.pd[this.code]||"")},t.D.prototype.code=0,t.D.prototype.message="",t.D.prototype.status=j,t.D.Ra="MEDIA_ERR_CUSTOM MEDIA_ERR_ABORTED MEDIA_ERR_NETWORK MEDIA_ERR_DECODE MEDIA_ERR_SRC_NOT_SUPPORTED MEDIA_ERR_ENCRYPTED".split(" "),t.D.pd={1:"You aborted the video playback",2:"A network error caused the video download to fail part-way.",3:"The video playback was aborted due to a corruption problem or because the video used features your browser did not support.",4:"The video could not be loaded, either because the server or network failed or because the format is not supported.",5:"The video is encrypted and we do not have the keys to decrypt it."};for(var K=0;K<t.D.Ra.length;K++)t.D[t.D.Ra[K]]=K,t.D.prototype[t.D.Ra[K]]=K;var L,M,N,O;for(L=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],M=L[0],O=0;O<L.length;O++)if(L[O][1]in document){N=L[O];break}if(N)for(t.Oa.Eb={},O=0;O<N.length;O++)t.Oa.Eb[M[O]]=N[O];t.Player=t.a.extend({i:function(e,i,n){this.L=e,e.id=e.id||"vjs_video_"+t.w++,this.fe=e&&t.za(e),i=t.g.z(da(e),i),this.Ua=i.language||t.options.language,this.Fd=i.languages||t.options.languages,this.G={},this.Ec=i.poster,this.yb=i.controls,e.controls=l,i.Ic=l,P(this,"audio"===this.L.nodeName.toLowerCase()),t.a.call(this,this,i,n),this.controls()?this.m("vjs-controls-enabled"):this.m("vjs-controls-disabled"),P(this)&&this.m("vjs-audio"),t.Ba[this.U]=this,i.plugins&&t.g.Y(i.plugins,function(t,e){this[t](e)},this);var o,r,s,a,c,u;o=t.bind(this,this.reportUserActivity),this.d("mousedown",function(){o(),clearInterval(r),r=setInterval(o,250)}),this.d("mousemove",function(t){t.screenX==c&&t.screenY==u||(c=t.screenX,u=t.screenY,o())}),this.d("mouseup",function(){o(),clearInterval(r)}),this.d("keydown",o),this.d("keyup",o),s=setInterval(t.bind(this,function(){if(this.pa){this.pa=l,this.userActive(f),clearTimeout(a);var e=this.options().inactivityTimeout;0<e&&(a=setTimeout(t.bind(this,function(){this.pa||this.userActive(l)}),e))}}),250),this.d("dispose",function(){clearInterval(s),clearTimeout(a)})}}),s=t.Player.prototype,s.language=function(t){return t===b?this.Ua:(this.Ua=t,this)},s.languages=p("Fd"),s.l=t.options,s.dispose=function(){this.k("dispose"),this.o("dispose"),t.Ba[this.U]=j,this.L&&this.L.player&&(this.L.player=j),this.b&&this.b.player&&(this.b.player=j),this.n&&this.n.dispose(),t.a.prototype.dispose.call(this)},s.e=function(){var e,i=this.b=t.a.prototype.e.call(this,"div"),n=this.L;if(n.removeAttribute("width"),n.removeAttribute("height"),n.hasChildNodes()){var o,r,s,a;for(o=n.childNodes,r=o.length,a=[];r--;)s=o[r],"track"===s.nodeName.toLowerCase()&&a.push(s);for(o=0;o<a.length;o++)n.removeChild(a[o])}return e=t.za(n),t.g.Y(e,function(t){"class"==t?i.className=e[t]:i.setAttribute(t,e[t])}),n.id+="_html5_api",n.className="vjs-tech",n.player=i.player=this,this.m("vjs-paused"),this.width(this.l.width,f),this.height(this.l.height,f),n.parentNode&&n.parentNode.insertBefore(i,n),t.Gb(n,i),this.b=i,this.d("loadstart",this.Md),this.d("waiting",this.Sd),this.d(["canplay","canplaythrough","playing","ended"],this.Rd),this.d("seeking",this.Pd),this.d("seeked",this.Od),this.d("ended",this.Id),this.d("play",this.Nb),this.d("firstplay",this.Kd),this.d("pause",this.Mb),this.d("progress",this.Nd),this.d("durationchange",this.Bc),this.d("fullscreenchange",this.Ld),i},s.Md=function(){this.error(j),this.paused()?(R(this,l),this.Q("play",function(){R(this,f)})):this.k("firstplay")},s.uc=l,s.Nb=function(){this.p("vjs-paused"),this.m("vjs-playing")},s.Sd=function(){this.m("vjs-waiting")},s.Rd=function(){this.p("vjs-waiting")},s.Pd=function(){this.m("vjs-seeking")},s.Od=function(){this.p("vjs-seeking")},s.Kd=function(){this.l.starttime&&this.currentTime(this.l.starttime),this.m("vjs-has-started")},s.Mb=function(){this.p("vjs-playing"),this.m("vjs-paused")},s.Nd=function(){1==this.bufferedPercent()&&this.k("loadedalldata")},s.Id=function(){this.l.loop?(this.currentTime(0),this.play()):this.paused()||this.pause()},s.Bc=function(){var t=S(this,"duration");t&&(0>t&&(t=1/0),this.duration(t),1/0===t?this.m("vjs-live"):this.p("vjs-live"))},s.Ld=function(){this.isFullscreen()?this.m("vjs-fullscreen"):this.p("vjs-fullscreen")},s.play=function(){return T(this,"play"),this},s.pause=function(){return T(this,"pause"),this},s.paused=function(){return S(this,"paused")===l?l:f},s.currentTime=function(t){return t!==b?(T(this,"setCurrentTime",t),this):this.G.currentTime=S(this,"currentTime")||0},s.duration=function(t){return t!==b?(this.G.duration=parseFloat(t),this):(this.G.duration===b&&this.Bc(),this.G.duration||0)},s.remainingTime=function(){return this.duration()-this.currentTime()},s.buffered=function(){var e=S(this,"buffered");return e&&e.length||(e=t.zb(0,0)),e},s.bufferedPercent=function(){var t,e,i=this.duration(),n=this.buffered(),o=0;if(!i)return 0;for(var r=0;r<n.length;r++)t=n.start(r),e=n.end(r),e>i&&(e=i),o+=e-t;return o/i},s.volume=function(e){return e!==b?(e=Math.max(0,Math.min(1,parseFloat(e))),this.G.volume=e,T(this,"setVolume",e),t.Yd(e),this):(e=parseFloat(S(this,"volume")),isNaN(e)?1:e)},s.muted=function(t){return t!==b?(T(this,"setMuted",t),this):S(this,"muted")||l},s.Da=function(){return S(this,"supportsFullScreen")||l},s.xc=l,s.isFullscreen=function(t){return t!==b?(this.xc=!!t,this):this.xc},s.isFullScreen=function(e){return t.log.warn('player.isFullScreen() has been deprecated, use player.isFullscreen() with a lowercase "s")'),this.isFullscreen(e)},s.requestFullscreen=function(){var e=t.Oa.Eb;return this.isFullscreen(f),e?(t.d(document,e.fullscreenchange,t.bind(this,function(i){this.isFullscreen(document[e.fullscreenElement]),this.isFullscreen()===l&&t.o(document,e.fullscreenchange,arguments.callee),this.k("fullscreenchange")})),this.b[e.requestFullscreen]()):this.n.Da()?T(this,"enterFullScreen"):(this.pc(),this.k("fullscreenchange")),this},s.requestFullScreen=function(){return t.log.warn('player.requestFullScreen() has been deprecated, use player.requestFullscreen() with a lowercase "s")'),this.requestFullscreen()},s.exitFullscreen=function(){var e=t.Oa.Eb;return this.isFullscreen(l),e?document[e.exitFullscreen]():this.n.Da()?T(this,"exitFullScreen"):(this.Cb(),this.k("fullscreenchange")),this},s.cancelFullScreen=function(){return t.log.warn("player.cancelFullScreen() has been deprecated, use player.exitFullscreen()"),this.exitFullscreen()},s.pc=function(){this.Ad=f,this.sd=document.documentElement.style.overflow,t.d(document,"keydown",t.bind(this,this.rc)),document.documentElement.style.overflow="hidden",t.m(document.body,"vjs-full-window"),this.k("enterFullWindow")},s.rc=function(t){27===t.keyCode&&(this.isFullscreen()===f?this.exitFullscreen():this.Cb())},s.Cb=function(){this.Ad=l,t.o(document,"keydown",this.rc),document.documentElement.style.overflow=this.sd,t.p(document.body,"vjs-full-window"),this.k("exitFullWindow")},s.selectSource=function(e){for(var i=0,n=this.l.techOrder;i<n.length;i++){var o=t.ba(n[i]),r=window.videojs[o];if(r){if(r.isSupported())for(var s=0,a=e;s<a.length;s++){var c=a[s];if(r.canPlaySource(c))return{source:c,n:o}}}else t.log.error('The "'+o+'" tech is undefined. Skipped browser support check for that tech.')}return l},s.src=function(e){return e===b?S(this,"src"):(t.g.isArray(e)?U(this,e):"string"==typeof e?this.src({src:e}):e instanceof Object&&(e.type&&!window.videojs[this.eb].canPlaySource(e)?U(this,[e]):(this.G.src=e.src,this.mc=e.type||"",this.J(function(){T(this,"src",e.src),"auto"==this.l.preload&&this.load(),this.l.autoplay&&this.play()}))),this)},s.load=function(){return T(this,"load"),this},s.currentSrc=function(){return S(this,"currentSrc")||this.G.src||""},s.nd=function(){return this.mc||""},s.Ca=function(t){return t!==b?(T(this,"setPreload",t),this.l.preload=t,this):S(this,"preload")},s.autoplay=function(t){return t!==b?(T(this,"setAutoplay",t),this.l.autoplay=t,this):S(this,"autoplay")},s.loop=function(t){return t!==b?(T(this,"setLoop",t),this.l.loop=t,this):S(this,"loop")},s.poster=function(t){return t===b?this.Ec:(this.Ec=t,T(this,"setPoster",t),this.k("posterchange"),this)},s.controls=function(t){return t!==b?(t=!!t,this.yb!==t&&((this.yb=t)?(this.p("vjs-controls-disabled"),this.m("vjs-controls-enabled"),this.k("controlsenabled")):(this.p("vjs-controls-enabled"),this.m("vjs-controls-disabled"),this.k("controlsdisabled"))),this):this.yb},t.Player.prototype.Sb,s=t.Player.prototype,s.usingNativeControls=function(t){return t!==b?(t=!!t,this.Sb!==t&&((this.Sb=t)?(this.m("vjs-using-native-controls"),this.k("usingnativecontrols")):(this.p("vjs-using-native-controls"),this.k("usingcustomcontrols"))),this):this.Sb},s.da=j,s.error=function(e){return e===b?this.da:e===j?(this.da=e,this.p("vjs-error"),this):(this.da=e instanceof t.D?e:new t.D(e),this.k("error"),this.m("vjs-error"),t.log.error("(CODE:"+this.da.code+" "+t.D.Ra[this.da.code]+")",this.da.message,this.da),this)},s.ended=function(){return S(this,"ended")},s.seeking=function(){return S(this,"seeking")},s.pa=f,s.reportUserActivity=function(){this.pa=f},s.Rb=f,s.userActive=function(t){return t!==b?(t=!!t,t!==this.Rb&&((this.Rb=t)?(this.pa=f,this.p("vjs-user-inactive"),this.m("vjs-user-active"),this.k("useractive")):(this.pa=l,this.n&&this.n.Q("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.p("vjs-user-active"),this.m("vjs-user-inactive"),this.k("userinactive"))),this):this.Rb},s.playbackRate=function(t){return t!==b?(T(this,"setPlaybackRate",t),this):this.n&&this.n.featuresPlaybackRate?S(this,"playbackRate"):1},s.wc=l,t.Ia=t.a.extend(),t.Ia.prototype.l={te:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},liveDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{},playbackRateMenuButton:{}}},t.Ia.prototype.e=function(){return t.e("div",{className:"vjs-control-bar"})},t.Xb=t.a.extend({i:function(e,i){t.a.call(this,e,i)}}),t.Xb.prototype.e=function(){var e=t.a.prototype.e.call(this,"div",{className:"vjs-live-controls vjs-control"});return this.u=t.e("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.s("Stream Type")+"</span>"+this.s("LIVE"),"aria-live":"off"}),e.appendChild(this.u),e},t.$b=t.t.extend({i:function(e,i){t.t.call(this,e,i),e.d("play",t.bind(this,this.Nb)),e.d("pause",t.bind(this,this.Mb))}}),s=t.$b.prototype,s.ta="Play",s.T=function(){return"vjs-play-control "+t.t.prototype.T.call(this)},s.r=function(){this.c.paused()?this.c.play():this.c.pause()},s.Nb=function(){t.p(this.b,"vjs-paused"),t.m(this.b,"vjs-playing"),this.b.children[0].children[0].innerHTML=this.s("Pause")},s.Mb=function(){t.p(this.b,"vjs-playing"),t.m(this.b,"vjs-paused"),this.b.children[0].children[0].innerHTML=this.s("Play")},t.hb=t.a.extend({i:function(e,i){t.a.call(this,e,i),e.d("timeupdate",t.bind(this,this.fa))}}),t.hb.prototype.e=function(){var e=t.a.prototype.e.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.u=t.e("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"}),e.appendChild(this.u),e},t.hb.prototype.fa=function(){var e=this.c.bb?this.c.G.currentTime:this.c.currentTime();this.u.innerHTML='<span class="vjs-control-text">'+this.s("Current Time")+"</span> "+t.ya(e,this.c.duration())},t.ib=t.a.extend({i:function(e,i){t.a.call(this,e,i),e.d("timeupdate",t.bind(this,this.fa))}}),t.ib.prototype.e=function(){var e=t.a.prototype.e.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.u=t.e("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.s("Duration Time")+"</span> 0:00","aria-live":"off"}),e.appendChild(this.u),e},t.ib.prototype.fa=function(){var e=this.c.duration();e&&(this.u.innerHTML='<span class="vjs-control-text">'+this.s("Duration Time")+"</span> "+t.ya(e))},t.fc=t.a.extend({i:function(e,i){t.a.call(this,e,i)}}),t.fc.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t.pb=t.a.extend({i:function(e,i){t.a.call(this,e,i),e.d("timeupdate",t.bind(this,this.fa))}}),t.pb.prototype.e=function(){var e=t.a.prototype.e.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.u=t.e("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.s("Remaining Time")+"</span> -0:00","aria-live":"off"}),e.appendChild(this.u),e},t.pb.prototype.fa=function(){this.c.duration()&&(this.u.innerHTML='<span class="vjs-control-text">'+this.s("Remaining Time")+"</span> -"+t.ya(this.c.remainingTime()))},t.Ja=t.t.extend({i:function(e,i){t.t.call(this,e,i)}}),t.Ja.prototype.ta="Fullscreen",t.Ja.prototype.T=function(){return"vjs-fullscreen-control "+t.t.prototype.T.call(this)},t.Ja.prototype.r=function(){this.c.isFullscreen()?(this.c.exitFullscreen(),this.xb.innerHTML=this.s("Fullscreen")):(this.c.requestFullscreen(),this.xb.innerHTML=this.s("Non-Fullscreen"))},t.ob=t.a.extend({i:function(e,i){t.a.call(this,e,i)}}),t.ob.prototype.l={children:{seekBar:{}}},t.ob.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-progress-control vjs-control"})},t.bc=t.R.extend({i:function(e,i){t.R.call(this,e,i),e.d("timeupdate",t.bind(this,this.oa)),e.J(t.bind(this,this.oa))}}),s=t.bc.prototype,s.l={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"},s.Dc="timeupdate",s.e=function(){return t.R.prototype.e.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})},s.oa=function(){var e=this.c.bb?this.c.G.currentTime:this.c.currentTime();this.b.setAttribute("aria-valuenow",t.round(100*this.Fb(),2)),this.b.setAttribute("aria-valuetext",t.ya(e,this.c.duration()))},s.Fb=function(){return this.c.currentTime()/this.c.duration()},s.Za=function(e){t.R.prototype.Za.call(this,e),this.c.bb=f,this.je=!this.c.paused(),this.c.pause()},s.$a=function(t){t=H(this,t)*this.c.duration(),t==this.c.duration()&&(t-=.1),this.c.currentTime(t)},s.Lb=function(e){t.R.prototype.Lb.call(this,e),this.c.bb=l,this.je&&this.c.play()},s.Nc=function(){this.c.currentTime(this.c.currentTime()+5)},s.Mc=function(){this.c.currentTime(this.c.currentTime()-5)},t.lb=t.a.extend({i:function(e,i){t.a.call(this,e,i),e.d("progress",t.bind(this,this.update))}}),t.lb.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.s("Loaded")+"</span>: 0%</span>"})},t.lb.prototype.update=function(){var e,i,n,o,r=this.c.buffered();e=this.c.duration();var s,a=this.c;for(s=a.buffered(),a=a.duration(),s=s.end(s.length-1),s>a&&(s=a),a=this.b.children,this.b.style.width=100*(s/e||0)+"%",e=0;e<r.length;e++)i=r.start(e),n=r.end(e),(o=a[e])||(o=this.b.appendChild(t.e())),o.style.left=100*(i/s||0)+"%",o.style.width=100*((n-i)/s||0)+"%";for(e=a.length;e>r.length;e--)this.b.removeChild(a[e-1])},t.Zb=t.a.extend({i:function(e,i){t.a.call(this,e,i)}}),t.Zb.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.s("Progress")+"</span>: 0%</span>"})},t.La=t.$.extend({i:function(e,i){t.$.call(this,e,i),e.d("timeupdate",t.bind(this,this.fa))}}),t.La.prototype.defaultValue="00:00",t.La.prototype.e=function(){return t.$.prototype.e.call(this,"div",{className:"vjs-seek-handle","aria-live":"off"})},t.La.prototype.fa=function(){var e=this.c.bb?this.c.G.currentTime:this.c.currentTime();this.b.innerHTML='<span class="vjs-control-text">'+t.ya(e,this.c.duration())+"</span>"},t.rb=t.a.extend({i:function(e,i){t.a.call(this,e,i),e.n&&e.n.featuresVolumeControl===l&&this.m("vjs-hidden"),e.d("loadstart",t.bind(this,function(){e.n.featuresVolumeControl===l?this.m("vjs-hidden"):this.p("vjs-hidden")}))}}),t.rb.prototype.l={children:{volumeBar:{}}},t.rb.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-volume-control vjs-control"})},t.qb=t.R.extend({i:function(e,i){t.R.call(this,e,i),e.d("volumechange",t.bind(this,this.oa)),e.J(t.bind(this,this.oa))}}),s=t.qb.prototype,s.oa=function(){this.b.setAttribute("aria-valuenow",t.round(100*this.c.volume(),2)),this.b.setAttribute("aria-valuetext",t.round(100*this.c.volume(),2)+"%")},s.l={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"},s.Dc="volumechange",s.e=function(){return t.R.prototype.e.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})},s.$a=function(t){this.c.muted()&&this.c.muted(l),this.c.volume(H(this,t))},s.Fb=function(){return this.c.muted()?0:this.c.volume()},s.Nc=function(){this.c.volume(this.c.volume()+.1)},s.Mc=function(){this.c.volume(this.c.volume()-.1)},t.gc=t.a.extend({i:function(e,i){t.a.call(this,e,i)}}),t.gc.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t.sb=t.$.extend(),t.sb.prototype.defaultValue="00:00",t.sb.prototype.e=function(){return t.$.prototype.e.call(this,"div",{className:"vjs-volume-handle"})},t.ia=t.t.extend({i:function(e,i){t.t.call(this,e,i),e.d("volumechange",t.bind(this,this.update)),e.n&&e.n.featuresVolumeControl===l&&this.m("vjs-hidden"),e.d("loadstart",t.bind(this,function(){e.n.featuresVolumeControl===l?this.m("vjs-hidden"):this.p("vjs-hidden")}))}}),t.ia.prototype.e=function(){return t.t.prototype.e.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">'+this.s("Mute")+"</span></div>"})},t.ia.prototype.r=function(){this.c.muted(this.c.muted()?l:f)},t.ia.prototype.update=function(){var e=this.c.volume(),i=3;for(0===e||this.c.muted()?i=0:.33>e?i=1:.67>e&&(i=2),this.c.muted()?this.b.children[0].children[0].innerHTML!=this.s("Unmute")&&(this.b.children[0].children[0].innerHTML=this.s("Unmute")):this.b.children[0].children[0].innerHTML!=this.s("Mute")&&(this.b.children[0].children[0].innerHTML=this.s("Mute")),e=0;4>e;e++)t.p(this.b,"vjs-vol-"+e);t.m(this.b,"vjs-vol-"+i)},t.ra=t.M.extend({i:function(e,i){t.M.call(this,e,i),e.d("volumechange",t.bind(this,this.update)),e.n&&e.n.featuresVolumeControl===l&&this.m("vjs-hidden"),e.d("loadstart",t.bind(this,function(){e.n.featuresVolumeControl===l?this.m("vjs-hidden"):this.p("vjs-hidden")})),this.m("vjs-menu-button")}}),t.ra.prototype.wa=function(){var e=new t.ha(this.c,{kc:"div"}),i=new t.qb(this.c,t.g.z({vertical:f},this.l.xe));return i.d("focus",function(){e.m("vjs-lock-showing")}),i.d("blur",function(){E(e)}),e.S(i),e},t.ra.prototype.r=function(){t.ia.prototype.r.call(this),t.M.prototype.r.call(this)},t.ra.prototype.e=function(){return t.t.prototype.e.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">'+this.s("Mute")+"</span></div>"})},t.ra.prototype.update=t.ia.prototype.update,t.ac=t.M.extend({i:function(e,i){t.M.call(this,e,i),this.Sc(),this.Rc(),e.d("loadstart",t.bind(this,this.Sc)),e.d("ratechange",t.bind(this,this.Rc))}}),s=t.ac.prototype,s.e=function(){var e=t.a.prototype.e.call(this,"div",{className:"vjs-playback-rate vjs-menu-button vjs-control",innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+this.s("Playback Rate")+"</span></div>"});return this.zc=t.e("div",{className:"vjs-playback-rate-value",innerHTML:1}),e.appendChild(this.zc),e},s.wa=function(){var e=new t.ha(this.j()),i=this.j().options().playbackRates;if(i)for(var n=i.length-1;0<=n;n--)e.S(new t.nb(this.j(),{rate:i[n]+"x"}));return e},s.oa=function(){this.v().setAttribute("aria-valuenow",this.j().playbackRate())},s.r=function(){for(var t=this.j().playbackRate(),e=this.j().options().playbackRates,i=e[0],n=0;n<e.length;n++)if(e[n]>t){i=e[n];break}this.j().playbackRate(i)},s.Sc=function(){ea(this)?this.p("vjs-hidden"):this.m("vjs-hidden")},s.Rc=function(){ea(this)&&(this.zc.innerHTML=this.j().playbackRate()+"x")},t.nb=t.I.extend({kc:"button",i:function(e,i){var n=this.label=i.rate,o=this.Gc=parseFloat(n,10);i.label=n,i.selected=1===o,t.I.call(this,e,i),this.j().d("ratechange",t.bind(this,this.update))}}),t.nb.prototype.r=function(){t.I.prototype.r.call(this),this.j().playbackRate(this.Gc)},t.nb.prototype.update=function(){this.selected(this.j().playbackRate()==this.Gc)},t.Ka=t.t.extend({i:function(e,i){t.t.call(this,e,i),e.poster()&&this.src(e.poster()),(!e.poster()||!e.controls())&&this.W(),e.d("posterchange",t.bind(this,function(){this.src(e.poster())})),P(e)||e.d("play",t.bind(this,this.W))}});var fa="backgroundSize"in t.A.style;t.Ka.prototype.e=function(){var e=t.e("div",{className:"vjs-poster",tabIndex:-1});return fa||e.appendChild(t.e("img")),e},t.Ka.prototype.src=function(t){var e=this.v();t!==b&&(fa?e.style.backgroundImage='url("'+t+'")':e.firstChild.src=t)},t.Ka.prototype.r=function(){this.j().controls()&&this.c.play()},t.Yb=t.a.extend({i:function(e,i){t.a.call(this,e,i)}}),t.Yb.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-loading-spinner"})},t.fb=t.t.extend(),t.fb.prototype.e=function(){return t.t.prototype.e.call(this,"div",{className:"vjs-big-play-button",innerHTML:'<span aria-hidden="true"></span>',"aria-label":"play video"})},t.fb.prototype.r=function(){this.c.play()},t.jb=t.a.extend({i:function(e,i){t.a.call(this,e,i),this.update(),e.d("error",t.bind(this,this.update))}}),t.jb.prototype.e=function(){var e=t.a.prototype.e.call(this,"div",{className:"vjs-error-display"});return this.u=t.e("div"),e.appendChild(this.u),e},t.jb.prototype.update=function(){this.j().error()&&(this.u.innerHTML=this.s(this.j().error().message))},t.q=t.a.extend({i:function(e,i,n){i=i||{},i.Ic=l,t.a.call(this,e,i,n),this.featuresProgressEvents||(this.Ac=f,this.Fc=setInterval(t.bind(this,function(){var t=this.j().bufferedPercent();this.jd!=t&&this.j().k("progress"),this.jd=t,1===t&&clearInterval(this.Fc)}),500)),this.featuresTimeupdateEvents||(this.Kb=f,this.j().d("play",t.bind(this,this.Qc)),this.j().d("pause",t.bind(this,this.cb)),this.Q("timeupdate",function(){this.featuresTimeupdateEvents=f,ga(this)}));var o,r;r=this,o=this.j(),e=function(){if(o.controls()&&!o.usingNativeControls()){var t;r.d("mousedown",r.r),r.d("touchstart",function(){t=this.c.userActive()}),r.d("touchmove",function(){t&&this.j().reportUserActivity()}),r.d("touchend",function(t){t.preventDefault()}),G(r),r.d("tap",r.Qd)}},i=t.bind(r,r.Wd),this.J(e),o.d("controlsenabled",e),o.d("controlsdisabled",i),this.J(function(){this.networkState&&0<this.networkState()&&this.j().k("loadstart")})}}),s=t.q.prototype,s.Wd=function(){this.o("tap"),this.o("touchstart"),this.o("touchmove"),this.o("touchleave"),this.o("touchcancel"),this.o("touchend"),this.o("click"),this.o("mousedown")},s.r=function(t){0===t.button&&this.j().controls()&&(this.j().paused()?this.j().play():this.j().pause())},s.Qd=function(){this.j().userActive(!this.j().userActive())},s.Qc=function(){this.lc&&this.cb(),this.lc=setInterval(t.bind(this,function(){this.j().k("timeupdate")}),250)},s.cb=function(){clearInterval(this.lc),this.j().k("timeupdate")},s.dispose=function(){this.Ac&&(this.Ac=l,clearInterval(this.Fc)),this.Kb&&ga(this),t.a.prototype.dispose.call(this)},s.Pb=function(){this.Kb&&this.j().k("timeupdate")},s.Kc=m(),t.q.prototype.featuresVolumeControl=f,t.q.prototype.featuresFullscreenResize=l,t.q.prototype.featuresPlaybackRate=l,t.q.prototype.featuresProgressEvents=l,t.q.prototype.featuresTimeupdateEvents=l,t.media={},t.h=t.q.extend({i:function(e,i,n){for(this.featuresVolumeControl=t.h.ld(),this.featuresPlaybackRate=t.h.kd(),this.movingMediaElementInDOM=!t.Yc,this.featuresProgressEvents=this.featuresFullscreenResize=f,t.q.call(this,e,i,n),n=t.h.kb.length-1;0<=n;n--)t.d(this.b,t.h.kb[n],t.bind(this,this.td));if((i=i.source)&&this.b.currentSrc!==i.src&&(this.b.src=i.src),t.dc&&e.options().nativeControlsForTouch!==l){var o,r,s,a;o=this,r=this.j(),i=r.controls(),o.b.controls=!!i,s=function(){o.b.controls=f},a=function(){o.b.controls=l},r.d("controlsenabled",s),r.d("controlsdisabled",a),i=function(){r.o("controlsenabled",s),r.o("controlsdisabled",a)},o.d("dispose",i),r.d("usingcustomcontrols",i),r.usingNativeControls(f)}e.J(function(){this.L&&this.l.autoplay&&this.paused()&&(delete this.L.poster,this.play())}),this.Fa()}}),s=t.h.prototype,s.dispose=function(){t.h.Bb(this.b),t.q.prototype.dispose.call(this)},s.e=function(){var e,i=this.c,n=i.L;n&&this.movingMediaElementInDOM!==l||(n?(e=n.cloneNode(l),t.h.Bb(n),n=e,i.L=j):(n=t.e("video"),t.Jc(n,t.g.z(i.fe||{},{id:i.id()+"_html5_api",class:"vjs-tech"}))),n.player=i,t.Gb(n,i.v())),e=["autoplay","preload","loop","muted"];for(var o=e.length-1;0<=o;o--){var r=e[o],s={};void 0!==i.l[r]&&(s[r]=i.l[r]),t.Jc(n,s)}return n},s.td=function(t){
"error"==t.type&&this.error()?this.j().error(this.error().code):(t.bubbles=l,this.j().k(t))},s.play=function(){this.b.play()},s.pause=function(){this.b.pause()},s.paused=function(){return this.b.paused},s.currentTime=function(){return this.b.currentTime},s.Pb=function(e){try{this.b.currentTime=e}catch(e){t.log(e,"Video is not ready. (Video.js)")}},s.duration=function(){return this.b.duration||0},s.buffered=function(){return this.b.buffered},s.volume=function(){return this.b.volume},s.ce=function(t){this.b.volume=t},s.muted=function(){return this.b.muted},s.$d=function(t){this.b.muted=t},s.width=function(){return this.b.offsetWidth},s.height=function(){return this.b.offsetHeight},s.Da=function(){return"function"!=typeof this.b.webkitEnterFullScreen||!/Android/.test(t.N)&&/Chrome|Mac OS X 10.5/.test(t.N)?l:f},s.oc=function(){var e=this.b;"webkitDisplayingFullscreen"in e&&this.Q("webkitbeginfullscreen",t.bind(this,function(){this.c.isFullscreen(f),this.Q("webkitendfullscreen",t.bind(this,function(){this.c.isFullscreen(l),this.c.k("fullscreenchange")})),this.c.k("fullscreenchange")})),e.paused&&e.networkState<=e.ke?(this.b.play(),setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},s.ud=function(){this.b.webkitExitFullScreen()},s.src=function(t){if(t===b)return this.b.src;this.b.src=t},s.load=function(){this.b.load()},s.currentSrc=function(){return this.b.currentSrc},s.poster=function(){return this.b.poster},s.Kc=function(t){this.b.poster=t},s.Ca=function(){return this.b.Ca},s.be=function(t){this.b.Ca=t},s.autoplay=function(){return this.b.autoplay},s.Xd=function(t){this.b.autoplay=t},s.controls=function(){return this.b.controls},s.loop=function(){return this.b.loop},s.Zd=function(t){this.b.loop=t},s.error=function(){return this.b.error},s.seeking=function(){return this.b.seeking},s.ended=function(){return this.b.ended},s.playbackRate=function(){return this.b.playbackRate},s.ae=function(t){this.b.playbackRate=t},s.networkState=function(){return this.b.networkState},t.h.isSupported=function(){try{t.A.volume=.5}catch(t){return l}return!!t.A.canPlayType},t.h.vb=function(e){try{return!!t.A.canPlayType(e.type)}catch(t){return""}},t.h.ld=function(){var e=t.A.volume;return t.A.volume=e/2+.1,e!==t.A.volume},t.h.kd=function(){var e=t.A.playbackRate;return t.A.playbackRate=e/2+.1,e!==t.A.playbackRate};var V,ha=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,ia=/^video\/mp4/i;t.h.Cc=function(){4<=t.Tb&&(V||(V=t.A.constructor.prototype.canPlayType),t.A.constructor.prototype.canPlayType=function(t){return t&&ha.test(t)?"maybe":V.call(this,t)}),t.bd&&(V||(V=t.A.constructor.prototype.canPlayType),t.A.constructor.prototype.canPlayType=function(t){return t&&ia.test(t)?"maybe":V.call(this,t)})},t.h.ie=function(){var e=t.A.constructor.prototype.canPlayType;return t.A.constructor.prototype.canPlayType=V,V=j,e},t.h.Cc(),t.h.kb="loadstart suspend abort error emptied stalled loadedmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate progress play pause ratechange volumechange".split(" "),t.h.Bb=function(t){if(t){for(t.player=j,t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);if(t.removeAttribute("src"),"function"==typeof t.load)try{t.load()}catch(t){}}},t.f=t.q.extend({i:function(e,i,n){t.q.call(this,e,i,n);var o=i.source;n=i.parentEl;var r=this.b=t.e("div",{id:e.id()+"_temp_flash"}),s=e.id()+"_flash_api",a=e.l,a=t.g.z({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:a.autoplay,preload:a.Ca,loop:a.loop,muted:a.muted},i.flashVars),c=t.g.z({wmode:"opaque",bgcolor:"#000000"},i.params),s=t.g.z({id:s,name:s,class:"vjs-tech"},i.attributes);o&&(o.type&&t.f.Dd(o.type)?(o=t.f.Oc(o.src),a.rtmpConnection=encodeURIComponent(o.wb),a.rtmpStream=encodeURIComponent(o.Qb)):a.src=encodeURIComponent(t.sc(o.src))),t.Gb(r,n),i.startTime&&this.J(function(){this.load(),this.play(),this.currentTime(i.startTime)}),t.Xc&&this.J(function(){t.d(this.v(),"mousemove",t.bind(this,function(){this.j().k({type:"mousemove",bubbles:l})}))}),e.d("stageclick",e.reportUserActivity),this.b=t.f.nc(i.swf,r,a,c,s)}}),t.f.prototype.dispose=function(){t.q.prototype.dispose.call(this)},t.f.prototype.play=function(){this.b.vjs_play()},t.f.prototype.pause=function(){this.b.vjs_pause()},t.f.prototype.src=function(e){if(e===b)return this.currentSrc();if(t.f.Cd(e)?(e=t.f.Oc(e),this.ue(e.wb),this.ve(e.Qb)):(e=t.sc(e),this.b.vjs_src(e)),this.c.autoplay()){var i=this;setTimeout(function(){i.play()},0)}},t.f.prototype.setCurrentTime=function(e){this.Gd=e,this.b.vjs_setProperty("currentTime",e),t.q.prototype.Pb.call(this)},t.f.prototype.currentTime=function(){return this.seeking()?this.Gd||0:this.b.vjs_getProperty("currentTime")},t.f.prototype.currentSrc=function(){var e=this.b.vjs_getProperty("currentSrc");if(e==j){var i=this.rtmpConnection(),n=this.rtmpStream();i&&n&&(e=t.f.de(i,n))}return e},t.f.prototype.load=function(){this.b.vjs_load()},t.f.prototype.poster=function(){this.b.vjs_getProperty("poster")},t.f.prototype.setPoster=m(),t.f.prototype.buffered=function(){return t.zb(0,this.b.vjs_getProperty("buffered"))},t.f.prototype.Da=q(l),t.f.prototype.oc=q(l);var ka=t.f.prototype,W="rtmpConnection rtmpStream preload defaultPlaybackRate playbackRate autoplay loop mediaGroup controller controls volume muted defaultMuted".split(" "),ma="error networkState readyState seeking initialTime duration startOffsetTime paused played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks".split(" "),X;for(X=0;X<W.length;X++)la(W[X]),ja();for(X=0;X<ma.length;X++)la(ma[X]);if(t.f.isSupported=function(){return 10<=t.f.version()[0]},t.f.vb=function(e){return e.type?(e=e.type.replace(/;.*/,"").toLowerCase(),e in t.f.wd||e in t.f.Pc?"maybe":void 0):""},t.f.wd={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},t.f.Pc={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},t.f.onReady=function(e){var i;(i=(e=t.v(e))&&e.parentNode&&e.parentNode.player)&&(e.player=i,t.f.checkReady(i.n))},t.f.checkReady=function(e){e.v()&&(e.v().vjs_getProperty?e.Fa():setTimeout(function(){t.f.checkReady(e)},50))},t.f.onEvent=function(e,i){t.v(e).player.k(i)},t.f.onError=function(e,i){var n=t.v(e).player,o="FLASH: "+i;"srcnotfound"==i?n.error({code:4,message:o}):n.error(o)},t.f.version=function(){var t="0,0,0";try{t=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(t){}}return t.split(",")},t.f.nc=function(e,i,n,o,r){e=t.f.yd(e,n,o,r),e=t.e("div",{innerHTML:e}).childNodes[0],n=i.parentNode,i.parentNode.replaceChild(e,i);var s=n.childNodes[0];return setTimeout(function(){s.style.display="block"},1e3),e},t.f.yd=function(e,i,n,o){var r="",s="",a="";return i&&t.g.Y(i,function(t,e){r+=t+"="+e+"&amp;"}),n=t.g.z({movie:e,flashvars:r,allowScriptAccess:"always",allowNetworking:"all"},n),t.g.Y(n,function(t,e){s+='<param name="'+t+'" value="'+e+'" />'}),o=t.g.z({data:e,width:"100%",height:"100%"},o),t.g.Y(o,function(t,e){a+=t+'="'+e+'" '}),'<object type="application/x-shockwave-flash"'+a+">"+s+"</object>"},t.f.de=function(t,e){return t+"&"+e},t.f.Oc=function(t){var e={wb:"",Qb:""};if(!t)return e;var i,n=t.indexOf("&");return-1!==n?i=n+1:0===(n=i=t.lastIndexOf("/")+1)&&(n=i=t.length),e.wb=t.substring(0,n),e.Qb=t.substring(i,t.length),e},t.f.Dd=function(e){return e in t.f.Pc},t.f.dd=/^rtmp[set]?:\/\//i,t.f.Cd=function(e){return t.f.dd.test(e)},t.cd=t.a.extend({i:function(e,i,n){if(t.a.call(this,e,i,n),e.l.sources&&0!==e.l.sources.length)e.src(e.l.sources);else for(i=0,n=e.l.techOrder;i<n.length;i++){var o=t.ba(n[i]),r=window.videojs[o];if(r&&r.isSupported()){Q(e,o);break}}}}),t.Player.prototype.textTracks=function(){return this.Ea=this.Ea||[]},t.B=t.a.extend({i:function(e,i){t.a.call(this,e,i),this.U=i.id||"vjs_"+i.kind+"_"+i.language+"_"+t.w++,this.Lc=i.src,this.qd=i.default||i.dflt,this.ge=i.title,this.Ua=i.srclang,this.Ed=i.label,this.ca=[],this.tb=[],this.ma=this.na=0}}),s=t.B.prototype,s.K=p("H"),s.src=p("Lc"),s.Ab=p("qd"),s.title=p("ge"),s.language=p("Ua"),s.label=p("Ed"),s.md=p("ca"),s.ed=p("tb"),s.readyState=p("na"),s.mode=p("ma"),s.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-"+this.H+" vjs-text-track"})},s.show=function(){oa(this),this.ma=2,t.a.prototype.show.call(this)},s.W=function(){oa(this),this.ma=1,t.a.prototype.W.call(this)},s.disable=function(){2==this.ma&&this.W(),this.c.o("timeupdate",t.bind(this,this.update,this.U)),this.c.o("ended",t.bind(this,this.reset,this.U)),this.reset(),this.c.ka("textTrackDisplay").removeChild(this),this.ma=0},s.load=function(){0===this.na&&(this.na=1,t.get(this.Lc,t.bind(this,this.Td),t.bind(this,this.Jd)))},s.Jd=function(t){this.error=t,this.na=3,this.k("error")},s.Td=function(e){var i,n;e=e.split("\n");for(var o="",r=1,s=e.length;r<s;r++)if(o=t.trim(e[r])){for(-1==o.indexOf("--\x3e")?(i=o,o=t.trim(e[++r])):i=this.ca.length,i={id:i,index:this.ca.length},n=o.split(/[\t ]+/),i.startTime=pa(n[0]),i.xa=pa(n[2]),n=[];e[++r]&&(o=t.trim(e[r]));)n.push(o);i.text=n.join("<br/>"),this.ca.push(i)}this.na=2,this.k("loaded")},s.update=function(){if(0<this.ca.length){var t=this.c.options().trackTimeOffset||0,t=this.c.currentTime()+t;if(this.Ob===b||t<this.Ob||this.Wa<=t){var e,i,n,o,r=this.ca,s=this.c.duration(),a=0,c=l,u=[];for(t>=this.Wa||this.Wa===b?o=this.Db!==b?this.Db:0:(c=f,o=this.Jb!==b?this.Jb:r.length-1);;){if(n=r[o],n.xa<=t)a=Math.max(a,n.xa),n.Na&&(n.Na=l);else if(t<n.startTime){if(s=Math.min(s,n.startTime),n.Na&&(n.Na=l),!c)break}else c?(u.splice(0,0,n),i===b&&(i=o),e=o):(u.push(n),e===b&&(e=o),i=o),s=Math.min(s,n.xa),a=Math.max(a,n.startTime),n.Na=f;if(c){if(0===o)break;o--}else{if(o===r.length-1)break;o++}}for(this.tb=u,this.Wa=s,this.Ob=a,this.Db=e,this.Jb=i,e=this.tb,i="",t=0,r=e.length;t<r;t++)i+='<span class="vjs-tt-cue">'+e[t].text+"</span>";this.b.innerHTML=i,this.k("cuechange")}}},s.reset=function(){this.Wa=0,this.Ob=this.c.duration(),this.Jb=this.Db=0},t.Vb=t.B.extend(),t.Vb.prototype.H="captions",t.cc=t.B.extend(),t.cc.prototype.H="subtitles",t.Wb=t.B.extend(),t.Wb.prototype.H="chapters",t.ec=t.a.extend({i:function(e,i,n){if(t.a.call(this,e,i,n),e.l.tracks&&0<e.l.tracks.length){i=this.c,e=e.l.tracks;for(var o=0;o<e.length;o++)n=e[o],na(i,n.kind,n.label,n.language,n)}}}),t.ec.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-text-track-display"})},t.aa=t.I.extend({i:function(e,i){var n=this.ea=i.track;i.label=n.label(),i.selected=n.Ab(),t.I.call(this,e,i),this.c.d(n.K()+"trackchange",t.bind(this,this.update))}}),t.aa.prototype.r=function(){t.I.prototype.r.call(this),Y(this.c,this.ea.U,this.ea.K())},t.aa.prototype.update=function(){this.selected(2==this.ea.mode())},t.mb=t.aa.extend({i:function(e,i){i.track={K:function(){return i.kind},j:e,label:function(){return i.kind+" off"},Ab:q(l),mode:q(l)},t.aa.call(this,e,i),this.selected(f)}}),t.mb.prototype.r=function(){t.aa.prototype.r.call(this),Y(this.c,this.ea.U,this.ea.K())},t.mb.prototype.update=function(){for(var t,e=this.c.textTracks(),i=0,n=e.length,o=f;i<n;i++)t=e[i],t.K()==this.ea.K()&&2==t.mode()&&(o=l);this.selected(o)},t.V=t.M.extend({i:function(e,i){t.M.call(this,e,i),1>=this.P.length&&this.W()}}),t.V.prototype.va=function(){var e,i=[];i.push(new t.mb(this.c,{kind:this.H}));for(var n=0;n<this.c.textTracks().length;n++)e=this.c.textTracks()[n],e.K()===this.H&&i.push(new t.aa(this.c,{track:e}));return i},t.Ga=t.V.extend({i:function(e,i,n){t.V.call(this,e,i,n),this.b.setAttribute("aria-label","Captions Menu")}}),t.Ga.prototype.H="captions",t.Ga.prototype.ta="Captions",t.Ga.prototype.className="vjs-captions-button",t.Ma=t.V.extend({i:function(e,i,n){t.V.call(this,e,i,n),this.b.setAttribute("aria-label","Subtitles Menu")}}),t.Ma.prototype.H="subtitles",t.Ma.prototype.ta="Subtitles",t.Ma.prototype.className="vjs-subtitles-button",t.Ha=t.V.extend({i:function(e,i,n){t.V.call(this,e,i,n),this.b.setAttribute("aria-label","Chapters Menu")}}),s=t.Ha.prototype,s.H="chapters",s.ta="Chapters",s.className="vjs-chapters-button",s.va=function(){for(var e,i=[],n=0;n<this.c.textTracks().length;n++)e=this.c.textTracks()[n],e.K()===this.H&&i.push(new t.aa(this.c,{track:e}));return i},s.wa=function(){for(var e,i,n=this.c.textTracks(),o=0,r=n.length,s=this.P=[];o<r;o++)if(e=n[o],e.K()==this.H){if(0!==e.readyState()){i=e;break}e.load(),e.d("loaded",t.bind(this,this.wa))}if(n=this.Aa,n===b&&(n=new t.ha(this.c),n.ja().appendChild(t.e("li",{className:"vjs-menu-title",innerHTML:t.ba(this.H),ee:-1}))),i){e=i.ca;for(var a,o=0,r=e.length;o<r;o++)a=e[o],a=new t.gb(this.c,{track:i,cue:a}),s.push(a),n.S(a);this.S(n)}return 0<this.P.length&&this.show(),n},t.gb=t.I.extend({i:function(e,i){var n=this.ea=i.track,o=this.cue=i.cue,r=e.currentTime();i.label=o.text,i.selected=o.startTime<=r&&r<o.xa,t.I.call(this,e,i),n.d("cuechange",t.bind(this,this.update))}}),t.gb.prototype.r=function(){t.I.prototype.r.call(this),this.c.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.gb.prototype.update=function(){var t=this.cue,e=this.c.currentTime();this.selected(t.startTime<=e&&e<t.xa)},t.g.z(t.Ia.prototype.l.children,{subtitlesButton:{},captionsButton:{},chaptersButton:{}}),void 0!==window.JSON&&"function"===window.JSON.parse)t.JSON=window.JSON;else{t.JSON={};var Z=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;t.JSON.parse=function(a,c){function d(t,e){var i,n,o=t[e];if(o&&"object"==typeof o)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n=d(o,i),n!==b?o[i]=n:delete o[i]);return c.call(t,e,o)}var e;if(a=String(a),Z.lastIndex=0,Z.test(a)&&(a=a.replace(Z,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"==typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")}}t.ic=function(){var e,i,n,o;e=document.getElementsByTagName("video"),i=document.getElementsByTagName("audio");var r=[];if(e&&0<e.length)for(n=0,o=e.length;n<o;n++)r.push(e[n]);if(i&&0<i.length)for(n=0,o=i.length;n<o;n++)r.push(i[n]);if(r&&0<r.length)for(n=0,o=r.length;n<o;n++){if(!(i=r[n])||!i.getAttribute){t.ub();break}i.player===b&&(e=i.getAttribute("data-setup"))!==j&&videojs(i)}else t.Tc||t.ub()},t.ub=function(){setTimeout(t.ic,1)},"complete"===document.readyState?t.Tc=f:t.Q(window,"load",function(){t.Tc=f}),t.ub(),t.Vd=function(e,i){t.Player.prototype[e]=i};var qa=this;$("videojs",t),$("_V_",t),$("videojs.options",t.options),$("videojs.players",t.Ba),$("videojs.TOUCH_ENABLED",t.dc),$("videojs.cache",t.ua),$("videojs.Component",t.a),t.a.prototype.player=t.a.prototype.j,t.a.prototype.options=t.a.prototype.options,t.a.prototype.init=t.a.prototype.i,t.a.prototype.dispose=t.a.prototype.dispose,t.a.prototype.createEl=t.a.prototype.e,t.a.prototype.contentEl=t.a.prototype.ja,t.a.prototype.el=t.a.prototype.v,t.a.prototype.addChild=t.a.prototype.S,t.a.prototype.getChild=t.a.prototype.ka,t.a.prototype.getChildById=t.a.prototype.xd,t.a.prototype.children=t.a.prototype.children,t.a.prototype.initChildren=t.a.prototype.vc,t.a.prototype.removeChild=t.a.prototype.removeChild,t.a.prototype.on=t.a.prototype.d,t.a.prototype.off=t.a.prototype.o,t.a.prototype.one=t.a.prototype.Q,t.a.prototype.trigger=t.a.prototype.k,t.a.prototype.triggerReady=t.a.prototype.Fa,t.a.prototype.show=t.a.prototype.show,t.a.prototype.hide=t.a.prototype.W,t.a.prototype.width=t.a.prototype.width,t.a.prototype.height=t.a.prototype.height,t.a.prototype.dimensions=t.a.prototype.rd,t.a.prototype.ready=t.a.prototype.J,t.a.prototype.addClass=t.a.prototype.m,t.a.prototype.removeClass=t.a.prototype.p,t.a.prototype.buildCSSClass=t.a.prototype.T,t.a.prototype.localize=t.a.prototype.s,t.Player.prototype.ended=t.Player.prototype.ended,t.Player.prototype.enterFullWindow=t.Player.prototype.pc,t.Player.prototype.exitFullWindow=t.Player.prototype.Cb,t.Player.prototype.preload=t.Player.prototype.Ca,t.Player.prototype.remainingTime=t.Player.prototype.remainingTime,t.Player.prototype.supportsFullScreen=t.Player.prototype.Da,t.Player.prototype.currentType=t.Player.prototype.nd,t.Player.prototype.requestFullScreen=t.Player.prototype.requestFullScreen,t.Player.prototype.requestFullscreen=t.Player.prototype.requestFullscreen,t.Player.prototype.cancelFullScreen=t.Player.prototype.cancelFullScreen,t.Player.prototype.exitFullscreen=t.Player.prototype.exitFullscreen,t.Player.prototype.isFullScreen=t.Player.prototype.isFullScreen,t.Player.prototype.isFullscreen=t.Player.prototype.isFullscreen,$("videojs.MediaLoader",t.cd),$("videojs.TextTrackDisplay",t.ec),$("videojs.ControlBar",t.Ia),$("videojs.Button",t.t),$("videojs.PlayToggle",t.$b),$("videojs.FullscreenToggle",t.Ja),$("videojs.BigPlayButton",t.fb),$("videojs.LoadingSpinner",t.Yb),$("videojs.CurrentTimeDisplay",t.hb),$("videojs.DurationDisplay",t.ib),$("videojs.TimeDivider",t.fc),$("videojs.RemainingTimeDisplay",t.pb),$("videojs.LiveDisplay",t.Xb),$("videojs.ErrorDisplay",t.jb),$("videojs.Slider",t.R),$("videojs.ProgressControl",t.ob),$("videojs.SeekBar",t.bc),$("videojs.LoadProgressBar",t.lb),$("videojs.PlayProgressBar",t.Zb),$("videojs.SeekHandle",t.La),$("videojs.VolumeControl",t.rb),$("videojs.VolumeBar",t.qb),$("videojs.VolumeLevel",t.gc),$("videojs.VolumeMenuButton",t.ra),$("videojs.VolumeHandle",t.sb),$("videojs.MuteToggle",t.ia),$("videojs.PosterImage",t.Ka),$("videojs.Menu",t.ha),$("videojs.MenuItem",t.I),$("videojs.MenuButton",t.M),$("videojs.PlaybackRateMenuButton",t.ac),t.M.prototype.createItems=t.M.prototype.va,t.V.prototype.createItems=t.V.prototype.va,t.Ha.prototype.createItems=t.Ha.prototype.va,$("videojs.SubtitlesButton",t.Ma),$("videojs.CaptionsButton",t.Ga),$("videojs.ChaptersButton",t.Ha),$("videojs.MediaTechController",t.q),t.q.prototype.featuresVolumeControl=t.q.prototype.re,t.q.prototype.featuresFullscreenResize=t.q.prototype.ne,t.q.prototype.featuresPlaybackRate=t.q.prototype.oe,t.q.prototype.featuresProgressEvents=t.q.prototype.pe,t.q.prototype.featuresTimeupdateEvents=t.q.prototype.qe,t.q.prototype.setPoster=t.q.prototype.Kc,$("videojs.Html5",t.h),t.h.Events=t.h.kb,t.h.isSupported=t.h.isSupported,t.h.canPlaySource=t.h.vb,t.h.patchCanPlayType=t.h.Cc,t.h.unpatchCanPlayType=t.h.ie,t.h.prototype.setCurrentTime=t.h.prototype.Pb,t.h.prototype.setVolume=t.h.prototype.ce,t.h.prototype.setMuted=t.h.prototype.$d,t.h.prototype.setPreload=t.h.prototype.be,t.h.prototype.setAutoplay=t.h.prototype.Xd,t.h.prototype.setLoop=t.h.prototype.Zd,t.h.prototype.enterFullScreen=t.h.prototype.oc,t.h.prototype.exitFullScreen=t.h.prototype.ud,t.h.prototype.playbackRate=t.h.prototype.playbackRate,t.h.prototype.setPlaybackRate=t.h.prototype.ae,$("videojs.Flash",t.f),t.f.isSupported=t.f.isSupported,t.f.canPlaySource=t.f.vb,t.f.onReady=t.f.onReady,t.f.embed=t.f.nc,t.f.version=t.f.version,$("videojs.TextTrack",t.B),t.B.prototype.label=t.B.prototype.label,t.B.prototype.kind=t.B.prototype.K,t.B.prototype.mode=t.B.prototype.mode,t.B.prototype.cues=t.B.prototype.md,t.B.prototype.activeCues=t.B.prototype.ed,$("videojs.CaptionsTrack",t.Vb),$("videojs.SubtitlesTrack",t.cc),$("videojs.ChaptersTrack",t.Wb),$("videojs.autoSetup",t.ic),$("videojs.plugin",t.Vd),$("videojs.createTimeRange",t.zb),$("videojs.util",t.ga),t.ga.mergeOptions=t.ga.Va,t.addLanguage=t.fd}(),define("interactive/js/ui/video/Video",["can","videojs"],function(t){"use strict";return t.Control.extend({},{init:function(){this.video=this.element.attr("id"),this.videoContainer=this.element.parent().parent(),this.marqueeBackground=this.videoContainer.find(".marquee-background"),this.playButton=this.element.parent().prev(".vjs-big-play-button"),this.resize(),this.play()},resize:function(){function e(){i.element.each(function(){var e=t.$(this).width(),n=t.$(this).height(),o=e/n,r=t.$(this).parent().width(),s=Math.round(r/o);i.videoContainer.css("height",s),t.$(this).attr("height",s).parent().css("height",s+"px").parent().css("height",s+"px"),t.$(i.marqueeBackground).css("height",s+"px")})}var i=this;t.$(document).ready(function(){window.videojs(i.video),e()}),t.$(window).bind("resize",function(){i.element.each(function(){t.$(this).attr("height",""),e()})})},play:function(){var t=this;this.playButton.bind("click",function(){window.videojs(t.video).play(),t.pause()})},pause:function(){var e=this;t.$(window).unbind("keyup"),t.$(window).bind("keyup",function(i){e.element.parent().hasClass("vjs-playing")&&(27===i.which&&(window.videojs(e.video).pause().currentTime(0),t.$(window).unbind("keyup")),32===i.which&&(i.preventDefault(),window.videojs(e.video).pause(),t.$(window).unbind("keyup")))})}})}),define("interactive/js/ui/video/SeedVideo",["linseed!./Video"],function(t){"use strict";return t("seed-video").seedEach()}),define("interactive/js/ui/toastBanner/ToastBannerModel",["can","debug","can/model"],function(t,e){"use strict";return t.Model.extend({init:function(){this.debug=new e("",{debug:!1,control:"ToastBannerModel"})},getJsonData:function(){var e=new t.$.Deferred,i=t.$("body").data("personalization-json");return void 0!==i&&t.$.getJSON(i).done(function(t){e.resolve(t)}.bind(this)).fail(function(t){e.reject(t)}.bind(this)),e.promise()}},{})}),define("text!interactive/js/ui/toastBanner/ToastBannerView.mustache",[],function(){return'{{#if platformDetectionData}}\n    <div class="toast-banner" style="background-color: {{platformDetectionData.bannerBackGroundColor}}; color: {{platformDetectionData.bannerTextColor}}">\n\n        <div class="grid-container">\n            <div class="grid-row">\n                <div class="grid-cols-8">\n                    <span class="toast-icon">\n                        <i class=" {{platformDetectionData.icon}} icon-spacing" aria-hidden="true"></i>\n                    </span>\n                    {{#if platformDetectionData.bannerText}}\n                        <span class="banner-text">{{platformDetectionData.bannerText}}</span>\n                    {{/if}}\n                </div>\n                <div class="grid-cols-8 banner-button-section">\n                    {{#if platformDetectionData.buttonLink}}\n                        <a href="{{platformDetectionData.buttonLink}}" class="banner-link" target="{{platformDetectionData.linkTarget}}">{{platformDetectionData.buttonText}}</a>\n                    {{/if}}\n                    <a href="#" class="toast-close">\n                        <i class="fa fa-times" aria-hidden="true"></i>\n                    </a>\n                </div>\n            </div>\n        </div>\n\n    </div>\n{{/if}}\n\n'}),define("interactive/js/ui/toastBanner/ToastBannerView",["module","can/view/mustache","text!./ToastBannerView.mustache"],function(t,e,i){"use strict";return e.view.mustache(i)}),function(){"use strict";function t(t){return t=String(t),t.charAt(0).toUpperCase()+t.slice(1)}function e(t,e,i){var o={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return e&&i&&/^Win/i.test(t)&&!/^Windows Phone /i.test(t)&&(o=o[/[\d.]+$/.exec(t)])&&(t="Windows "+o),t=String(t),e&&i&&(t=t.replace(RegExp(e,"i"),i)),t=n(t.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}function i(t,e){var i=-1,n=t?t.length:0;if("number"==typeof n&&n>-1&&n<=m)for(;++i<n;)e(t[i],i,t);else o(t,e)}function n(e){return e=u(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:t(e)}function o(t,e){for(var i in t)y.call(t,i)&&e(t[i],i,t)}function r(e){return null==e?t(e):w.call(e).slice(8,-1)}function s(t,e){var i=null!=t?typeof t[e]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(i)||"object"==i&&!t[e])}function a(t){return String(t).replace(/([ -])(?!$)/g,"$1?")}function c(t,e){var n=null;return i(t,function(i,o){n=e(n,i,o,t)}),n}function u(t){return String(t).replace(/^ +| +$/g,"")}function l(t){function i(e){return c(e,function(e,i){var o=i.pattern||a(i);return!e&&(e=RegExp("\\b"+o+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+o+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+o+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(i.label&&!RegExp(o,"i").test(i.label)?i.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),i=i.label||i,e=n(e[0].replace(RegExp(o,"i"),i).replace(RegExp("; *(?:"+i+"[_-])?","i")," ").replace(RegExp("("+i+")[-_.]?(\\w)","i"),"$1 $2"))),e})}function d(){return this.description||""}var p=h,f=t&&"object"==typeof t&&"String"!=r(t);f&&(p=t,t=null);var g=p.navigator||{},m=g.userAgent||"";t||(t=m);var v,y,k=f?!!g.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(w.toString()),x=f?"Object":"ScriptBridgingProxyObject",C=f?"Object":"Environment",S=f&&p.java?"JavaPackage":r(p.java),T=f?"Object":"RuntimeObject",P=/\bJava/.test(S)&&p.java,A=P&&r(p.environment)==C,j=P?"a":"α",L=P?"b":"β",_=p.document||{},M=p.operamini||p.opera,O=b.test(O=f&&M?M["[[Class]]"]:r(M))?O:M=null,E=t,I=[],N=null,D=t==m,R=D&&M&&"function"==typeof M.version&&M.version(),U=function(e){return c(e,function(e,i){return e||RegExp("\\b"+(i.pattern||a(i))+"\\b","i").exec(t)&&(i.label||i)})}([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),F=function(e){return c(e,function(e,i){return e||RegExp("\\b"+(i.pattern||a(i))+"\\b","i").exec(t)&&(i.label||i)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),$=i([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),B=function(e){return c(e,function(e,i,n){return e||(i[$]||i[/^[a-z]+(?: +[a-z]+\b)*/i.exec($)]||RegExp("\\b"+a(n)+"(?:\\b|\\w*\\d)","i").exec(t))&&n})}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),V=function(i){return c(i,function(i,n){var o=n.pattern||a(n);return!i&&(i=RegExp("\\b"+o+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(i=e(i,o,n.label||n)),i})}(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(U&&(U=[U]),B&&!$&&($=i([B])),(v=/\bGoogle TV\b/.exec($))&&($=v[0]),/\bSimulator\b/i.test(t)&&($=($?$+" ":"")+"Simulator"),"Opera Mini"==F&&/\bOPiOS\b/.test(t)&&I.push("running in Turbo/Uncompressed mode"),"IE"==F&&/\blike iPhone OS\b/.test(t)?(v=l(t.replace(/like iPhone OS/,"")),B=v.manufacturer,$=v.product):/^iP/.test($)?(F||(F="Safari"),V="iOS"+((v=/ OS ([\d_]+)/i.exec(t))?" "+v[1].replace(/_/g,"."):"")):"Konqueror"!=F||/buntu/i.test(V)?B&&"Google"!=B&&(/Chrome/.test(F)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test($))||/\bAndroid\b/.test(V)&&/^Chrome/.test(F)&&/\bVersion\//i.test(t)?(F="Android Browser",V=/\bAndroid\b/.test(V)?V:"Android"):"Silk"==F?(/\bMobi/i.test(t)||(V="Android",I.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&I.unshift("accelerated")):"PaleMoon"==F&&(v=/\bFirefox\/([\d.]+)\b/.exec(t))?I.push("identifying as Firefox "+v[1]):"Firefox"==F&&(v=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(V||(V="Firefox OS"),$||($=v[1])):!F||(v=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(F))?(F&&!$&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(v+"/")+8))&&(F=null),(v=$||B||V)&&($||B||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(V))&&(F=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(V)?V:v)+" Browser")):"Electron"==F&&(v=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&I.push("Chromium "+v):V="Kubuntu",R||(R=function(e){return c(e,function(e,i){return e||(RegExp(i+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null})}(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",a(F),"(?:Firefox|Minefield|NetFront)"])),(v="iCab"==U&&parseFloat(R)>3&&"WebKit"||/\bOpera\b/.test(F)&&(/\bOPR\b/.test(t)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(U)&&"WebKit"||!U&&/\bMSIE\b/i.test(t)&&("Mac OS"==V?"Tasman":"Trident")||"WebKit"==U&&/\bPlayStation\b(?! Vita\b)/i.test(F)&&"NetFront")&&(U=[v]),"IE"==F&&(v=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(F+=" Mobile",V="Windows Phone "+(/\+$/.test(v)?v:v+".x"),I.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(F="IE Mobile",V="Windows Phone 8.x",I.unshift("desktop mode"),R||(R=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=F&&"Trident"==U&&(v=/\brv:([\d.]+)/.exec(t))&&(F&&I.push("identifying as "+F+(R?" "+R:"")),F="IE",R=v[1]),D){if(s(p,"global"))if(P&&(v=P.lang.System,E=v.getProperty("os.arch"),V=V||v.getProperty("os.name")+" "+v.getProperty("os.version")),A){try{R=p.require("ringo/engine").version.join("."),F="RingoJS"}catch(t){(v=p.system)&&v.global.system==p.system&&(F="Narwhal",V||(V=v[0].os||null))}F||(F="Rhino")}else"object"==typeof p.process&&!p.process.browser&&(v=p.process)&&("object"==typeof v.versions&&("string"==typeof v.versions.electron?(I.push("Node "+v.versions.node),F="Electron",R=v.versions.electron):"string"==typeof v.versions.nw&&(I.push("Chromium "+R,"Node "+v.versions.node),F="NW.js",R=v.versions.nw)),F||(F="Node.js",E=v.arch,V=v.platform,R=/[\d.]+/.exec(v.version),R=R?R[0]:null));else r(v=p.runtime)==x?(F="Adobe AIR",V=v.flash.system.Capabilities.os):r(v=p.phantom)==T?(F="PhantomJS",
R=(v=v.version||null)&&v.major+"."+v.minor+"."+v.patch):"number"==typeof _.documentMode&&(v=/\bTrident\/(\d+)/i.exec(t))?(R=[R,_.documentMode],(v=+v[1]+4)!=R[1]&&(I.push("IE "+R[1]+" mode"),U&&(U[1]=""),R[1]=v),R="IE"==F?String(R[1].toFixed(1)):R[0]):"number"==typeof _.documentMode&&/^(?:Chrome|Firefox)\b/.test(F)&&(I.push("masking as "+F+" "+R),F="IE",R="11.0",U=["Trident"],V="Windows");V=V&&n(V)}if(R&&(v=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(R)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(D&&g.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(N=/b/i.test(v)?"beta":"alpha",R=R.replace(RegExp(v+"\\+?$"),"")+("beta"==N?L:j)+(/\d+\+?/.exec(v)||"")),"Fennec"==F||"Firefox"==F&&/\b(?:Android|Firefox OS)\b/.test(V))F="Firefox Mobile";else if("Maxthon"==F&&R)R=R.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test($))"Xbox 360"==$&&(V=null),"Xbox 360"==$&&/\bIEMobile\b/.test(t)&&I.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(F)&&(!F||$||/Browser|Mobi/.test(F))||"Windows CE"!=V&&!/Mobi/i.test(t))if("IE"==F&&D)try{null===p.external&&I.unshift("platform preview")}catch(t){I.unshift("embedded")}else(/\bBlackBerry\b/.test($)||/\bBB10\b/.test(t))&&(v=(RegExp($.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||R)?(v=[v,/BB10/.test(t)],V=(v[1]?($=null,B="BlackBerry"):"Device Software")+" "+v[0],R=null):this!=o&&"Wii"!=$&&(D&&M||/Opera/.test(F)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==F&&/\bOS X (?:\d+\.){2,}/.test(V)||"IE"==F&&(V&&!/^Win/.test(V)&&R>5.5||/\bWindows XP\b/.test(V)&&R>8||8==R&&!/\bTrident\b/.test(t)))&&!b.test(v=l.call(o,t.replace(b,"")+";"))&&v.name&&(v="ing as "+v.name+((v=v.version)?" "+v:""),b.test(F)?(/\bIE\b/.test(v)&&"Mac OS"==V&&(V=null),v="identify"+v):(v="mask"+v,F=O?n(O.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(v)&&(V=null),D||(R=null)),U=["Presto"],I.push(v));else F+=" Mobile";(v=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(v=[parseFloat(v.replace(/\.(\d)$/,".0$1")),v],"Safari"==F&&"+"==v[1].slice(-1)?(F="WebKit Nightly",N="alpha",R=v[1].slice(0,-1)):R!=v[1]&&R!=(v[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(R=null),v[1]=(/\bChrome\/([\d.]+)/i.exec(t)||0)[1],537.36==v[0]&&537.36==v[2]&&parseFloat(v[1])>=28&&"WebKit"==U&&(U=["Blink"]),D&&(k||v[1])?(U&&(U[1]="like Chrome"),v=v[1]||(v=v[0],v<530?1:v<532?2:v<532.05?3:v<533?4:v<534.03?5:v<534.07?6:v<534.1?7:v<534.13?8:v<534.16?9:v<534.24?10:v<534.3?11:v<535.01?12:v<535.02?"13+":v<535.07?15:v<535.11?16:v<535.19?17:v<536.05?18:v<536.1?19:v<537.01?20:v<537.11?"21+":v<537.13?23:v<537.18?24:v<537.24?25:v<537.36?26:"Blink"!=U?"27":"28")):(U&&(U[1]="like Safari"),v=v[0],v=v<400?1:v<500?2:v<526?3:v<533?4:v<534?"4+":v<535?5:v<537?6:v<538?7:v<601?8:"8"),U&&(U[1]+=" "+(v+="number"==typeof v?".x":/[.+]/.test(v)?"":"+")),"Safari"==F&&(!R||parseInt(R)>45)&&(R=v)),"Opera"==F&&(v=/\bzbov|zvav$/.exec(V))?(F+=" ",I.unshift("desktop mode"),"zvav"==v?(F+="Mini",R=null):F+="Mobile",V=V.replace(RegExp(" *"+v+"$"),"")):"Safari"==F&&/\bChrome\b/.exec(U&&U[1])&&(I.unshift("desktop mode"),F="Chrome Mobile",R=null,/\bOS X\b/.test(V)?(B="Apple",V="iOS 4.3+"):V=null),R&&0==R.indexOf(v=/[\d.]+$/.exec(V))&&t.indexOf("/"+v+"-")>-1&&(V=u(V.replace(v,""))),U&&!/\b(?:Avant|Nook)\b/.test(F)&&(/Browser|Lunascape|Maxthon/.test(F)||"Safari"!=F&&/^iOS/.test(V)&&/\bSafari\b/.test(U[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(F)&&U[1])&&(v=U[U.length-1])&&I.push(v),I.length&&(I=["("+I.join("; ")+")"]),B&&$&&$.indexOf(B)<0&&I.push("on "+B),$&&I.push((/^on /.test(I[I.length-1])?"":"on ")+$),V&&(v=/ ([\d.+]+)$/.exec(V),y=v&&"/"==V.charAt(V.length-v[0].length-1),V={architecture:32,family:v&&!y?V.replace(v[0],""):V,version:v?v[1]:null,toString:function(){var t=this.version;return this.family+(t&&!y?" "+t:"")+(64==this.architecture?" 64-bit":"")}}),(v=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(E))&&!/\bi686\b/i.test(E)?(V&&(V.architecture=64,V.family=V.family.replace(RegExp(" *"+v),"")),F&&(/\bWOW64\b/i.test(t)||D&&/\w(?:86|32)$/.test(g.cpuClass||g.platform)&&!/\bWin64; x64\b/i.test(t))&&I.unshift("32-bit")):V&&/^OS X/.test(V.family)&&"Chrome"==F&&parseFloat(R)>=39&&(V.architecture=64),t||(t=null);var H={};return H.description=t,H.layout=U&&U[0],H.manufacturer=B,H.name=F,H.prerelease=N,H.product=$,H.ua=t,H.version=F&&R,H.os=V||{architecture:null,family:null,version:null,toString:function(){return"null"}},H.parse=l,H.toString=d,H.version&&I.unshift(R),H.name&&I.unshift(F),V&&F&&(V!=String(V).split(" ")[0]||V!=F.split(" ")[0]&&!$)&&I.push($?"("+V+")":"on "+V),I.length&&(H.description=I.join(" ")),H}var d={function:!0,object:!0},h=d[typeof window]&&window||this,p=d[typeof exports]&&exports,f=d[typeof module]&&module&&!module.nodeType&&module,g=p&&f&&"object"==typeof global&&global;!g||g.global!==g&&g.window!==g&&g.self!==g||(h=g);var m=Math.pow(2,53)-1,b=/\bOpera/,v=Object.prototype,y=v.hasOwnProperty,w=v.toString,k=l();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(h.platform=k,define("platform",[],function(){return k})):p&&f?o(k,function(t,e){p[e]=t}):h.platform=k}.call(this),define("tools/js/http/Platform",["debug","platform"],function(t,e){"use strict";function i(){return"chrome"===p.name.toLowerCase()}function n(){return"firefox"===p.name.toLowerCase()}function o(){return"ie"===p.name.toLowerCase()}function r(){return"opera"===p.name.toLowerCase()}function s(){return"safari"===p.name.toLowerCase()}function a(){return"microsoft edge"===p.name.toLowerCase()}function c(t){var e,i=Object.keys(g);for(t=t.toLowerCase(),e=0;e<i.length;e++)if(-1!==t.indexOf(i[e]))return g[i[e]];return t}function u(t,e){var i=[],n={};return"string"==typeof t?(i=t.split(".").map(function(t){var e=parseInt(t,10);return isNaN(e)?void 0:e}),n={major:e||void 0!==i[0]?i[0]:0,minor:e||void 0!==i[1]?i[1]:0,build:e||void 0!==i[2]?i[2]:0,toString:function(){return this.major+"."+this.minor+"."+this.build}}):"number"==typeof t?n=u(Number(t).toString()):"object"==typeof t&&null!==t&&t.hasOwnProperty("version")?"string"==typeof t.version?n=u(t.version,e):"win"===c(t.family)&&Object.keys(m).some(function(e){if(-1!==t.family.indexOf(m[e]))return n=u(e),!0}):f.log("parseVersion: Invalid version: "+t),n}function l(t,e){var i;for(t=[t.major,t.minor,t.build],e=[e.major,e.minor,e.build],i=0;i<3;i++){if(void 0===t[i]||void 0===e[i])return;if(t[i]!==e[i])return t[i]>e[i]?1:-1}return 0}function d(t){var e,s;return a()?t.toLowerCase().match("edge/[0-9]+.([0-9]+)")[1]>=14393:(e=document.createElement("canvas").getContext("2d"),e.font="64px Segoe UI Emoji",s=e.measureText("🐱‍👤").width,i()||n()||r()?s<=90:!!o()&&s>128)}function h(t){var e=u(t.os),i=c(t.os.family);return"win"===i&&10===e.major&&0===e.minor&&(e._build=e.build,Object.defineProperty(e,"build",{get:function(){return a()?this._build=parseInt(t.ua.toLowerCase().match("edge/[0-9]+.([0-9]+)")[1]):(void 0===this._build||this._build<14393)&&d(t.ua)&&(this._build=14393),this._build}})),{name:t.name,version:t.version,product:t.product,manufacturer:t.manufacturer,layout:t.layout,os:t.os,osName:i,osVersion:e,description:t.description,ua:t.ua}}var p,f=new t("",{debug:!1,control:"Platform"}),g={android:"android",ios:"ios","os x":"osx",windows:"win"},m={6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return p=h(e),f.log(["info:",p]),{info:function(){return p},osName:function(){return p.osName},osVer:function(){return 0===Object.keys(p.osVersion).length?"":p.osVersion.toString()},osVerStartsWith:function(t){var e;return t=u(t,!0),e=[[t.build,p.osVersion.build],[t.minor,p.osVersion.minor],[t.major,p.osVersion.major]],e.reduce(function(t,e){return!!t&&(void 0===e[0]||e[0]===e[1])},!0)},osVerIsGT:function(t){return 1===l(p.osVersion,u(t))},osVerIsGTE:function(t){var e=l(p.osVersion,u(t));return 1===e||0===e},osVerIsLT:function(t){return-1===l(p.osVersion,u(t))},osVerIsLTE:function(t){var e=l(p.osVersion,u(t));return-1===e||0===e},osVerIsEqualTo:function(t){return 0===l(p.osVersion,u(t))},isAndroid:function(){return"android"===p.osName},isIOS:function(){return"ios"===p.osName},isOSX:function(){return"osx"===p.osName},isWindows:function(){return"win"===p.osName},isChrome:i,isEdge:a,isFirefox:n,isIE:o,isOpera:r,isSafari:s,setUAString:function(t){p=h(e.parse(t))}}}),define("tools/js/utils/PlatformUtil",["can","tools/js/http/Platform"],function(t,e){"use strict";return{getDataForPlatform:function(t,i){var n,o,r,s=e.osName(),a=this.platformUtils,c={},u=["transparentBackground","fontSize","ctaTheme","ctaPosition","textColor"];return void 0!==t.platform&&void 0!==t.platform[s]&&(n=t.platform[s],void 0!==n.versions?(r=a.getAllVersions(n.versions),o=a.checkForEqualsTo(r)||a.checkForStartswith(r)||a.checkForRelational(r),c=void 0!==o?a.getPropsFromObj(a.getVersionObj(o,n.versions),i):a.getPropsFromObj(n,i)):c=a.getPropsFromObj(n,i)),0===Object.keys(c).length&&(c=a.getPropsFromObj(t,i),Object.keys(c).length&&(c.toplevel=!0)),u.reduce(function(e,i){return t.hasOwnProperty(i)&&(e[i]=t[i]),e},c)},platformUtils:{checkForEqualsTo:function(t){var i;return t.some(function(t){if("="===t[0]&&e.osVerIsEqualTo(t.substring(1)))return i=t,!0}),i},checkForStartswith:function(t){var i;return t.some(function(t){"="!==t[0]&&"<"!==t[0]&&">"!==t[0]&&e.osVerStartsWith(t)&&(i=t)}),i},checkForRelational:function(t){var i;return t.some(function(t){(">="===t.substr(0,2)&&e.osVerIsGTE(t.substring(2))||"<="===t.substr(0,2)&&e.osVerIsLTE(t.substring(2))||">"===t[0]&&"="!==t[1]&&e.osVerIsGT(t.substring(1))||"<"===t[0]&&"="!==t[1]&&e.osVerIsLT(t.substring(1)))&&(i=t)}),i},getAllVersions:function(t){return t.reduce(function(t,e){return t.concat(e.versionlist)},[])},getPropsFromObj:function(t,e){return e.reduce(function(e,i){return t.hasOwnProperty(i)&&(e[i]=t[i]),e},{})},getVersionObj:function(t,e){var i;return e.some(function(e){if(-1!==e.versionlist.indexOf(t))return i=e,!0}),i}}}}),define("interactive/js/ui/toastBanner/ToastBannerControl",["can","debug","tools/js/utils/LangUtil","./ToastBannerModel","./ToastBannerView","tools/js/utils/PlatformUtil"],function(t,e,i,n,o,r){"use strict";return t.Control.extend({defaults:{debug:!1,close:".toast-close"}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"ToastBanner"}),this.userProvidedConsent=!1,this.personalizationData={},i.getPropertySafely(window,"adobeGlobalnav.hasUserProvidedConsent")&&(this.userProvidedConsent=window.adobeGlobalnav.hasUserProvidedConsent(),this.debug.log("user provided consent :",this.userProvidedConsent)),i.isEmptyObject(i.getPropertySafely(window,"Adobe.AceUI.storage.aceui_userData"))?n.getJsonData().done(function(t){this.debug.log("Personalization Data: ",t),this.personalizationData=t,t&&this.userProvidedConsent&&this.initializeToastBanner(t)}.bind(this)):(this.personalizationData=window.Adobe.AceUI.storage.aceui_userData,this.debug.log("Personalization Data from storage: ",this.personalizationData),this.personalizationData&&this.userProvidedConsent&&this.initializeToastBanner(this.personalizationData))},initializeToastBanner:function(t){var e,n=i.getPropertySafely(t,"toastPlatformData"),o=i.getPropertySafely(n,"platform"),s=["buttonText","buttonLink","linkTarget","bannerText","bannerBackGroundColor","bannerTextColor","typeOfMessage","icon"];o&&(this.debug.log("Toast Banner Platform data: ",o),e=r.getDataForPlatform(n,s),this.debug.log("Platform OS Data:",e),i.isEmptyObject(e)||this.showToastBanner(e))},showToastBanner:function(e){var i;void 0!==this.element&&this.element.length>0&&(this.debug.log(this.element),i=t.$(this.element),i.append(new o({platformDetectionData:e})),t.$(window).width()>767&&i.find(".toast-banner").css("display","block"))},"{close} click":function(){this.debug.log("Toast Banner close button clicked"),t.$(this.element).slideToggle("slow")},"{window} adobePrivacy:PrivacyConsent":function(){this.userProvidedConsent||(this.userProvidedConsent=window.adobePrivacy.hasUserProvidedConsent(),this.debug.log("user provided consent in adobePrivacy:PrivacyConsent:",this.userProvidedConsent),this.userProvidedConsent&&this.initializeToastBanner(this.personalizationData))},"{window} resize":function(){var e;void 0!==this.element&&this.element.length>0&&(e=this.element,t.$(window).width()>767?e.find(".toast-banner").css("display","block"):e.find(".toast-banner").css("display","none"))}})}),define("interactive/js/ui/toastBanner/SeedToastBanner",["linseed!./ToastBannerControl"],function(t){"use strict";return t("seed-toast").seedEach()}),define("interactive/js/ui/redirectCountdown/RedirectCountdownControl",["can","debug","tools/js/http/URLParser"],function(t,e,i){"use strict";return t.Control({defaults:{debug:!1,redirectCountdownTimerClass:".redirectCountdown-timer",redirectCountdownTimerValueClass:".redirectCountdown-timer-value",redirectCountdownStaticClass:".redirectCountdown-static",visibleModifierClass:"is-visible",hiddenModifierClass:"is-hidden",timerIdentifier:"{#seconds}"}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"RedirectCountdown"}),this.urlParser=new i,this.timerUrlParam=this.element.data("timer-url-param"),this.hasTimerUrlParam=!!this.timerUrlParam&&this.urlParser.checkQueryParam(this.timerUrlParam),this.timerValue=this.hasTimerUrlParam&&this.getIntegerFromString(this.urlParser.getQueryParam(this.timerUrlParam)),this.debug.log("The timer value is:",this.timerValue),this.isTimerValueValid=this.timerValue&&this.timerValue>0,this.debug.log("The timer value is valid:",this.isTimerValueValid),this.redirectUrl=this.element.data("redirect-url"),this.debug.log("The redirect URL is:",this.redirectUrl),this.isRedirectUrlValid=this.isUrlValid(this.redirectUrl),this.debug.log("The redirect URL is valid:",this.isRedirectUrlValid),this.redirectCountdownTimerElement=this.element.find(this.options.redirectCountdownTimerClass),this.redirectCountdownTimerContent=this.redirectCountdownTimerElement.html(),this.isTimerUpdatable=this.isTimerValueValid&&!!this.redirectCountdownTimerContent&&this.redirectCountdownTimerContent.indexOf(this.options.timerIdentifier)>-1,this.isTimerUpdatable&&this.isRedirectUrlValid?(this.redirectCountdownTimerContent=this.redirectCountdownTimerContent.replace(this.options.timerIdentifier,'<span class="'+this.removeSelectorIdentifier(this.options.redirectCountdownTimerValueClass)+'">'+this.timerValue+"</span>"),this.redirectCountdownTimerElement.html(this.redirectCountdownTimerContent),this.debug.log("The countdown template has been updated with the timer value"),this.redirectCountdownTimerValueElement=this.element.find(this.options.redirectCountdownTimerValueClass),this.redirectCountdownTimerElement.addClass(this.options.visibleModifierClass),this.debug.log("Initializing countdown timer"),this.timerTimeout=setInterval(function(){this.redirectCountdownTimerValueElement.html(this.timerValue),this.timerValue=this.timerValue-1,-1===this.timerValue&&(clearInterval(this.timerTimeout),window.location.href=this.redirectUrl)}.bind(this),1e3)):(this.debug.log("The timer or redirect URL values are not valid. Trying to show the static template"),this.redirectCountdownTimerElement.addClass(this.options.hiddenModifierClass),this.redirectCountdownStaticElement=this.element.find(this.options.redirectCountdownStaticClass),this.redirectCountdownStaticElement.html()&&(this.debug.log("Showing the static template"),this.redirectCountdownStaticElement.addClass(this.options.visibleModifierClass)))},getIntegerFromString:function(t){var e;return/^\d+$/.test(t)&&(e=parseInt(t,10)),this.isInteger(e)?e:void 0},isInteger:function(t){var e;return e="function"==typeof Number.isInteger?Number.isInteger:function(t){return"number"==typeof t&&window.isFinite(t)&&Math.floor(t)===t},e.apply(null,[t])},isUrlValid:function(t){var e,i;if("string"==typeof t&&t.length>0){if("function"==typeof window.URL)try{e=new URL(t)}catch(t){}else i=document.createElement("a"),i.href=t,e=i;return!!(e&&e.protocol&&e.host)}},removeSelectorIdentifier:function(t){return"string"==typeof t?t.replace(/^[\.#]/,""):void 0}})}),define("interactive/js/ui/redirectCountdown/SeedRedirectCountdown",["linseed!./RedirectCountdownControl"],function(t){"use strict";return t("seed-redirect-countdown").seedEach()}),define("interactive/js/ui",["module","jquery","can/route","./ui/detailslist/SeedDetailsList","./ui/marquee/SeedMarquee","./ui/modal/SeedModal","./ui/rotate/SeedRotate","./ui/swipe/SeedSwipe","./ui/video/SeedVideo","./ui/toastBanner/SeedToastBanner","./ui/redirectCountdown/SeedRedirectCountdown"],function(t,e,i){"use strict";return e(function(){i.ready()}),{name:t.id}}),define("interactive",["module","interactive/js/http","interactive/js/observer","interactive/js/store","interactive/js/ui"],function(t){"use strict";return{name:t.id}}),define("tools/js/utils/ShowItems",["can"],function(t){"use strict";return t.Control.extend({defaults:{debug:!1}},{init:function(){this.options.debug&&console.log("----------------------------------------Show Items--------------------------------------------------")},showItems:function(e,i,n){var o=this,r=i?i.split(","):[];this.options.debug&&console.log("parent: ",e),this.options.debug&&console.log("itemArray: ",r),t.$.each(r,function(t,i){o.options.debug&&console.log("this selector: ",i),e.find(i).length>0&&(n?e.find(i).css("display",n):e.find(i).show(),o.options.debug&&console.log("thisEl.find(showItems): ",e.find(i),n))})}})}),define("interactive/js/store/price/TaxControl",["can","debug","tools/js/utils/ShowItems"],function(t,e,i){"use strict";return t.Control.extend({defaults:{debug:!1,term:"N/A"}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"TaxControl"}),this.show=new i},checkForTax:function(e,i,n,o,r){var s,a=n.find(".price").data("price-notax"),c=n.find(".price").data("price-product"),u=n.find(".price").data("price-term");this.debug.log("authorOverride: ",a);try{"offerprice"===r?t.$.each(Adobe.Anyware.OfferPriceData.subscriptionOffers,function(t,i){if(i.id===e)return void(s=i.pricing.data.displayRules?i.pricing.data.displayRules.tax:i.pricing.data.countryPriceData[0].priceMap.price.includesTax)}):t.$(Adobe.Anyware.PriceData.productOffering.productOffers).each(t.proxy(function(e,i){if(i.productKey===c)return void t.$.each(i.priceMap,t.proxy(function(t,e){if(u=isNaN(parseInt(c,10))?u:this.options.term,e.priceTypeKey===u)return void(s=e.price.includes_tax)},this))},this)),s&&!a?(this.debug.log("Found a tax: ",s),this.show.showItems(n,o)):this.debug.log("No tax found: ",s)}catch(t){this.debug.log("Error hunting Adobe.Anyware.PriceData: ",t)}}})}),define("ui/promo/Promo",["can","debug","interactive/js/store/price/TaxControl"],function(t,e,i){"use strict";return t.Control.extend({defaults:{promoButton:".promo-cta",taxItem:".pricetax",debug:!1}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"Promo"}),this.anywareSetup(),this.priceItem=this.element.find("[data-seed-price]"),this.product=this.priceItem.data("price-product"),this.term=this.priceItem.data("price-term"),this.offerIds=this.priceItem.data("price-offerids"),this.pricePoint=this.priceItem.data("price-pricepoint")},anywareSetup:function(){t.$("body").trigger("aceui_priceReady")},"{window} aceui_priceReady":function(){this.tax=new i,this.element&&t.$.each(this.element,t.proxy(function(){var e=t.$(this.element);this.debug.log("thisEl: ",e),t.$(this.element).find(this.options.taxItem).length>0&&this.product?(this.debug.log("Tax display for price generator initiated..."),this.debug.log("Product: ",this.product),this.debug.log("Term: ",this.term),this.debug.log("Element: ",e),this.debug.log("Tax Item: ",this.options.taxItem),this.tax.checkForTax(this.product,this.term,e,this.options.taxItem),this.debug.log("Tax display for price generator completed.")):t.$(this.element).find(this.options.taxItem).length>0&&this.offerIds&&(this.debug.log("Tax display for JIL offer price generator initiated..."),this.debug.log("Offerids: ",this.offerIds),this.debug.log("Pricepoint: ",this.pricePoint),this.debug.log("Element: ",e),this.debug.log("Tax Item: ",this.options.taxItem),this.tax.checkForTax(this.offerIds,this.pricePoint,e,this.options.taxItem,"offerprice"),this.debug.log("Tax display for JIL offer price generator completed."))},this))}})}),define("ui/promo/SeedPromo",["linseed!./Promo"],function(t){"use strict";return t().seedOn(document.querySelector("body"),"data-seed-promo"),t("seed-promo").seedEach()}),define("tools/js/forms/element/ElementControl",["can","debug","tools/js/utils/LangUtil"],function(t,e,i){"use strict";return t.Control.extend({defaults:{debug:!1}},{init:function(i){this.item=t.$(i),this.debug=new e("",{debug:this.options.debug,control:"ElementControl"}),this.debug.log("this.item",this.item)},enable:function(){this.debug.log("running enable() on",this.item),this.item.length>0&&this.item.prop("disabled")?(this.item.prop("disabled",!1),this.debug.log("Yes, it is")):this.debug.log("or is it?")},disable:function(){this.debug.log("running disable() on",this.item),this.item.length>0&&!this.item.prop("disabled")?(this.item.prop("disabled",!0),this.debug.log("Yes, it is")):this.debug.log("or is it?")},isSelected:function(t){return this.debug.log("isSelected: typeof el.attr",typeof t.attr,"type:",t.attr("type"),"checked?:",t.prop("checked")),i.isNullish(t)||"function"!=typeof t.attr?(this.debug.log("LangUtil.isNullish(el): ",i.isNullish(t)),!1):!("radio"!==t.attr("type")&&"checkbox"!==t.attr("type")||!t.prop("checked"))||void 0}})}),define("ui/tabs/TabsControl",["can","tools/js/forms/element/ElementControl"],function(t,e){"use strict";return t.Control({defaults:{windowWidth:755,debug:!1}},{init:function(){this.tabs=this.element.data("seed-tabs"),this.elControl=new e(this.tabs),this.check()},check:function(){t.$(window).width()<=this.options.windowWidth?(this.elControl.enable(),this.options.debug&&console.log("enabled")):(this.elControl.disable(),this.options.debug&&console.log("disabled"))},"{window} resize":function(){this.options.debug&&console.log("resized, running check()"),this.check()}})}),define("ui/tabs/SeedTabs",["linseed!./TabsControl"],function(t){"use strict";return t().seedOn(document.querySelector("body"),"data-seed-tabs"),t("seed-tabs").seedEach()}),define("tools/js/services/Entitlements",["can","debug"],function(t,e){"use strict";return t.Control.extend({defaults:{protocol:"https://",entitleURL:".licenses.adobe.com/aents/aents/v1/entitlements",freeApps:["ExtendScriptToolkit","GamingSdk","PreludeLiveLogger"],freeSignedInApps:["StoryPlus","PhoneGapBuild"],status:"free",debug:!1}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"Entitlements"}),this.body=t.$("body"),void 0===this.products&&(this.products=[]),this.addFreeApps(this.options.freeApps),this.body.on("adobeIMS_SignIn",t.proxy(function(){this.debug.log("Clearing Entitlements on sign in."),window.Adobe.AceUI.storage.aceui_entitlements=void 0},this))},addFreeApps:function(t){this.products.push(t)},check:function(){var e,i,n,o=this;try{e=["dev2","dev1","qa1","qa2","stg1","fix"],i=e.indexOf(window.adobeGlobalnavProperties.ims.environment)>=0?"na2m-stg2":"lm",n="<Request><pguid>"+window.adobeIMS._profile.userId+"</pguid><AccessToken>"+window.adobeIMS.getAccessToken()+"</AccessToken></Request>",t.$.ajax({url:o.options.protocol+i+o.options.entitleURL,type:"POST",data:n,contentType:"application/xml",dataType:"xml"}).success(t.proxy(function(t,e,i){this.parseXML(t,e,i),this.debug.log("setting entitlements clear trigger on logout"),this.removeEntitlements()},this))}catch(t){this.debug.log("Error from Entitlements check:",t)}},parseXML:function(e,i,n){var o,r=t.$.parseXML(n.responseText),s=t.$(r),a=s.find("ReturnCode").text();this.debug.log(["Entitlements Data Complete:",e]),"SUCCESS"===a&&(o=s.find("Leids").find("leid"),this.debug.log(["xml values:",n]),this.debug.log(["ReturnCode:",a]),this.debug.log(["Leids:",o]),this.debug.log(["Leids.length:",o.length]),this.entitleArray(o),this.debug.log(["Parsed products:",this.products]))},entitleArray:function(t){var e,i;for(e=0;e<t.length;e++)"1"===t[e].textContent&&(this.debug.log(["leids values:",t[e].textContent]),i=t[e].getAttribute("name").replace("V6{}","").replace("V7{}","").replace(/-.*$/,""),this.debug.log(["Item name:",i+"\n\r"]),-1===this.products.indexOf(i)&&this.products.push(i));this.products.push(this.options.freeSignedInApps),this.saveProducts()},saveProducts:function(){window.Adobe.AceUI.storage.aceui_entitlements=this.products,this.body.trigger("aceui-Entitlements"),this.debug.log(["Saving entitlements:",window.Adobe.AceUI.storage.aceui_entitlements])},removeEntitlements:function(){this.body.on("adobeGNav:SignOut",t.proxy(function(){window.Adobe.AceUI.storage.aceui_entitlements=void 0,this.debug.log("signed out!")},this)),this.body.trigger("aceui-Entitlements")}})}),define("dom/personalization/PersonalizationModel",["can","debug","tools/js/utils/LangUtil","tools/js/services/Entitlements","tools/js/http/Platform","can/model"],function(t,e,i,n,o){"use strict";var r=function(t){return{data:t,setItem:function(t,e){this.data[t]=e},getItem:function(t){return this.data[t]},removeItem:function(t){return delete this.data[t]}}};return t.Model.extend({init:function(){this.debug=new e("",{debug:!1,control:"PersonalizationModel"}),this.entitlementsService=new n,window.Adobe.AceUI.storage=void 0===window.Adobe.AceUI.storage?{}:window.Adobe.AceUI.storage,this.storage=r(window.Adobe.AceUI.storage)},keys:{userData:"aceui_userData",entitlements:"aceui_entitlements",jsonData:"personalization-json",subscriptionData:"aceui_subscriptions",subscriptionMarketSegment:"aceui-subscription-market-segment",comPriceLoaded:"aceui_comPriceLoaded",eduPriceLoaded:"aceui_eduPriceLoaded",jilComPriceLoaded:"aceui_jilComPriceLoaded",jilEduPriceLoaded:"aceui_jilEduPriceLoaded"},getJsonData:function(){return t.$.getJSON(this.personalData()).done(function(t){this.debug.log(["personalization-json data stored:",t]),this.setData(this.keys.userData,t)}.bind(this))},personalData:function(){return t.$("body").data(this.keys.jsonData)},setData:function(t,e){this.storage.setItem(t,e)},getData:function(t){return this.storage.getItem(t)},setUnifiedDataProps:function(t,e){i.getPropertySafely(e,"unifiedCheckout")&&i.getPropertySafely(window,"CommerceLib")&&t.attr("data-unifiedcheckout-offerid",e.unifiedCheckout.offerId).attr("data-unifiedcheckout-Clientid",e.unifiedCheckout.clientId).attr("data-unifiedcheckout-lang",e.unifiedCheckout.lang||e.unifiedCheckout.locale).attr("data-unifiedcheckout-market",e.unifiedCheckout.marketSegment).attr("data-unifiedcheckout-country",e.unifiedCheckout.country).attr("data-unifiedcheckout-promoid",e.unifiedCheckout.promoid).attr("data-unifiedcheckout-sdid",e.unifiedCheckout.sdid).attr("data-unifiedcheckout-trackingid",e.unifiedCheckout.trackingid).attr("data-unifiedcheckout-mv",e.unifiedCheckout.mv).attr("data-unifiedcheckout-returnurl",encodeURIComponent(e.unifiedCheckout.returnUrl)).attr("data-seed-unifiedcheckout","")},removeDataAttributes:function(e){var i,n=e[0];if(n&&n.attributes&&n.attributes.length){for(i=n.attributes.length-1;i>=0;--i)/^data-unifiedcheckout-/i.test(n.attributes[i].name)&&n.removeAttribute(n.attributes[i].name);n.removeAttribute("data-seed-unifiedcheckout"),t.$(n).unbind("click")}},getUserSubscriptions:function(){var t=null;return i.isNullish(window.Adobe.AceUI.User)||i.isNullish(window.Adobe.AceUI.User.Subscriber)||(t=window.Adobe.AceUI.User.Subscriber.userSubscriptions),t},clearStorage:function(t){return this.storage.removeItem(t)},isSubscribed:function(t){var e=!1,i=this.userStatus();if(null!==i)switch(t){case"docCloud":e=i.docCloud;break;case"isEnterpriseAdmin":e=i.isEnterpriseAdmin;break;case"isTeamAdmin":e=i.isTeamAdmin;break;default:e=i.subscribed.indexOf(i.status)>=0}return e},isMatchedSubscription:function(e){var i,n,o=[],r=Object.keys(e),s=[];return t.$.each(r,function(e,i){i.indexOf(",")>-1?t.$.merge(s,i.split(",")):s.push(t.$.trim(i))}),e&&this.getData(this.keys.subscriptionData)&&(i=this.getData(this.keys.subscriptionData))&&t.$(s).each(t.proxy(function(e,r){if((n=this.getMatchedValue(i,r))&&-1===t.$.inArray(n,o))return void o.push(n)},this)),o.sort().toString()},getMatchedValue:function(e,i){return void 0===this.matchedValue&&(this.debug.log("getMatchedValue:",e,i),this.debug.log("getMatchedValue: typeof productSubscribed",typeof e),"string"==typeof e?i===e&&(this.matchedValue=i):t.each(e,t.proxy(function(t){if(this.debug.log("getMatchedValue: loop",t,i),void 0===this.matchedValue&&i===t)return this.debug.log("getMatchedValue: FOUND IT!",t+"==="+i),this.matchedValue=i,!1},this))),this.debug.log("getMatchedValue: returning this.matchedValue",this.matchedValue),this.matchedValue},isUserType:function(t){var e=this.userStatus(),i=!1;return null!==e&&void 0!==e.status&&e.status===t&&(i=!0),i},userStatus:function(){var t=null;return i.isNullish(window.Adobe.AceUI.User)||i.isNullish(window.Adobe.AceUI.User.Subscriber)||(t=window.Adobe.AceUI.User.Subscriber),t},setLoggedIn:function(t){"boolean"==typeof t&&(this.loggedIn=t)},isLoggedIn:function(){return"boolean"==typeof this.loggedIn?this.loggedIn:void 0!==window.adobeIMS&&void 0!==window.adobeIMS._profile&&null!==window.adobeIMS._profile},getEntitlements:function(){return this.entitlementsService.check()},checkEntitlements:function(e){var n,o=!1;return this.debug.log("checkEntitlements: this.getData",typeof this.getData),this.entitlements=this.getData(this.keys.entitlements),this.debug.log("entitlement error",this.keys.entitlements,this.entitlements),e.length>0&&!i.isNullish(this.entitlements)&&e.each(t.proxy(function(){n=e.attr("data-leid-product-name")?e.attr("data-leid-product-name").split(","):"",this.debug.log("entitlement product",n),""!==n&&t.each(n,t.proxy(function(t){this.entitlements.indexOf(t)>-1&&(o=!0)},this))},this)),o},getDataForPlatform:function(t,e){var i,n,r,s=o.osName(),a=this.platformUtils,c={},u=["transparentBackground","fontSize","ctaTheme","ctaPosition","textColor"];return this.debug.log("getDataForPlatform: os",s),this.debug.log("getDataForPlatform: platformData",t),void 0!==t.platform&&void 0!==t.platform[s]&&(i=t.platform[s],void 0!==i.versions?(r=a.getAllVersions(i.versions),n=a.checkForEqualsTo(r)||a.checkForStartswith(r)||a.checkForRelational(r),c=void 0!==n?a.getPropsFromObj(a.getVersionObj(n,i.versions),e):a.getPropsFromObj(i,e)):c=a.getPropsFromObj(i,e)),0===Object.keys(c).length&&(c=a.getPropsFromObj(t,e),Object.keys(c).length&&(c.toplevel=!0)),u.reduce(function(e,i){return t.hasOwnProperty(i)&&(e[i]=t[i]),e},c)},platformUtils:{checkForEqualsTo:function(t){var e;return t.some(function(t){if("="===t[0]&&o.osVerIsEqualTo(t.substring(1)))return e=t,!0}),e},checkForStartswith:function(t){var e;return t.some(function(t){"="!==t[0]&&"<"!==t[0]&&">"!==t[0]&&o.osVerStartsWith(t)&&(e=t)}),e},checkForRelational:function(t){var e;return t.some(function(t){(">="===t.substr(0,2)&&o.osVerIsGTE(t.substring(2))||"<="===t.substr(0,2)&&o.osVerIsLTE(t.substring(2))||">"===t[0]&&"="!==t[1]&&o.osVerIsGT(t.substring(1))||"<"===t[0]&&"="!==t[1]&&o.osVerIsLT(t.substring(1)))&&(e=t)}),e},getAllVersions:function(t){return t.reduce(function(t,e){return t.concat(e.versionlist)},[])},getPropsFromObj:function(t,e){return e.reduce(function(e,i){return t.hasOwnProperty(i)&&(e[i]=t[i]),e},{})},getVersionObj:function(t,e){var i;return e.some(function(e){if(-1!==e.versionlist.indexOf(t))return i=e,!0}),i}}},{})}),define("dom/personalization/PersonalizedCTA",["can","debug","tools/js/http/Platform","./PersonalizationModel","tools/js/utils/LangUtil"],function(t,e,i,n,o){"use strict";return t.Control.extend({defaults:{debug:!1,CTAFields:["cta","link","linkTarget"]}},{init:function(t,i){var r=n.getDataForPlatform(i,this.options.CTAFields);this.debug=new e("",{debug:this.options.debug,control:"PersonalizedCTA"}),this.debug.log("platformData in personalizedCTA",r),
this.debug.log("CTA element id in personalizedCTA",t.attr("data-platform-id")),o.isEmptyObject(r)||this.updateView(t,r)},updateView:function(e,i){var r=o.isNullish(i.cta)?"":i.cta,s=o.isNullish(i.link)?"":i.link,a=o.isNullish(i.linkTarget)?"":i.linkTarget;o.getPropertySafely(i,"unifiedCheckout")||n.removeDataAttributes(t.$(e)),o.isEmptyObject(e)||e.attr("href",s).attr("alt",r).attr("title",r).attr("target",a).text(r)}})}),define("ui/merchpod/Merchpod",["can","debug","interactive/js/store/price/TaxControl","../../dom/personalization/PersonalizedCTA","../../dom/personalization/PersonalizationModel","tools/js/utils/LangUtil"],function(t,e,i,n,o,r){"use strict";return t.Control.extend({defaults:{taxItem:".pricetax",debug:!1}},{init:function(){var t,i;this.debug=new e("",{debug:this.options.debug,control:"MerchPod"}),o.getJsonData().done(function(){i=o.getData(o.keys.userData),t=i&&i.merchandising?i.merchandising:"",this.initializePersonalization(this.element,t)}.bind(this)),this.priceItem=this.element.find("[data-seed-price]"),this.product=this.priceItem.data("price-product"),this.term=this.priceItem.data("price-term"),this.offerIds=this.priceItem.data("price-offerids"),this.pricePoint=this.priceItem.data("price-pricepoint"),this.priceprefix=this.element.find(".priceprefix")},initializePersonalization:function(e,i){var o,r;this.personalizedCTAs=e.find("[data-seed-platform-cta]"),this.personalizedCTAs.each(function(e,s){o=s.getAttribute("data-platform-id"),r=i[o],i&&r&&new n(t.$(s),r)})},movePrefix:function(){var t=this.priceItem.find(".promo-prefix");this.priceprefix.length>0&&t.length>0&&this.priceprefix.detach().insertAfter(t)},"{window} aceui_priceReady":function(){this.tax=new i,t.$.each(this.element,t.proxy(function(){var e=t.$(this.element);this.movePrefix(),t.$(this.element).find(this.options.taxItem).length>0&&this.product?(this.debug.log("Tax display for price generator initiated..."),this.debug.log("Product: ",this.product),this.debug.log("Term: ",this.term),this.debug.log("Element: ",e),this.debug.log("Tax Item: ",this.options.taxItem),this.tax.checkForTax(this.product,this.term,e,this.options.taxItem),this.debug.log("Tax display for price generator completed.")):t.$(this.element).find(this.options.taxItem).length>0&&this.offerIds&&(this.debug.log("Tax display for JIL offer price generator initiated..."),this.debug.log("Offerids: ",this.offerIds),this.debug.log("Pricepoint: ",this.pricePoint),this.debug.log("Element: ",e),this.debug.log("Tax Item: ",this.options.taxItem),this.tax.checkForTax(this.offerIds,this.pricePoint,e,this.options.taxItem,"offerprice"),this.debug.log("Tax display for JIL offer price generator completed."))},this))}})}),define("ui/merchpod/SeedMerchpod",["linseed!./Merchpod"],function(t){"use strict";return t("seed-merchpod").seedEach()}),define("ui/twitter/TwitterControl",["can","debug"],function(t,e){"use strict";return t.Control.extend({defaults:{debug:!1}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"Twitter"}),this.debug.log("-----------------------------Twitter------------------------------"),this.url="//platform.twitter.com/widgets.js",this.loadWidgetScript()},loadWidgetScript:function(){t.$(document).find("#twitter-wjs").length>0||t.$("<script async>").attr({id:"twitter-wjs",src:this.url}).appendTo("head")}})}),define("ui/twitter/SeedTwitter",["linseed!./TwitterControl"],function(t){"use strict";return t("seed-twitter").seedEach()}),define("ui/stockquote/StockQuoteControl",["can","debug"],function(t,e){"use strict";return t.Control.extend({defaults:{debug:!1}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"StockQuote"}),this.debug.log("-----------------------------Stock Quote------------------------------"),this.stockQuote(),this.stockQuoteDate()},stockQuote:function(){null!==this.element&&"undefined"!==this.element&&(t.$(this.element).find("div.miniQuoteWrapper div.change").each(function(){parseFloat(t.$(this).text())>=0?t.$(this).addClass("StockQuotePositive").html(t.$(this).text()+"&#8593;"):t.$(this).addClass("StockQuoteNegetive").html(t.$(this).text()+"&#8595;")}),t.$(this.element).find("div.miniQuoteWrapper div.symbol").each(function(){"$NASX"===t.$(this).text().replace(/ /g,"")&&t.$(this).text("NASDAQ")}))},stockQuoteDate:function(){var e=function(t,e){return(1e15+t+"").slice(-e)},i=new Date,n=e(i.getMonth()+1,2)+"/"+e(i.getDate(),2)+"/"+i.getFullYear()+" "+e(i.getHours(),2)+":"+e(i.getMinutes(),2)+":"+e(i.getSeconds(),2);null!==this.element&&"undefined"!==this.element&&t.$(this.element).find("p.StockQuoteDate").each(function(){var e=t.$(this).html()+" "+n;t.$(this).html(e)})}})}),define("ui/stockquote/SeedStockQuote",["linseed!./StockQuoteControl"],function(t){"use strict";return t("seed-stockquote").seedEach()}),define("ui/adaptivetable/AdaptiveTableControl",["can"],function(t){"use strict";return t.Control.extend({defaults:{moreorless:'[href^="#show"]'}},{"{moreorless} click":function(e,i){var n=i.target,o=t.$(n).parents('td[class*="show"]'),r="TD"===o[0].nodeName?o[0].parentNode:void 0,s="TR"===r.nodeName?r.querySelectorAll('td[class*="show"]'):void 0,a=0;for(i.preventDefault();a<s.length;)s[a].classList.toggle("showmore"),s[a].classList.toggle("showless"),a++}})}),define("ui/adaptivetable/SeedAdaptivetable",["linseed!./AdaptiveTableControl"],function(t){"use strict";return t("seed-adaptivetable").seedEach()}),define("scroll-map/calculatedOffsets",[],function(){"use strict";return function(t){var e=0,i=0;if(t.offsetParent)do{e+=t.offsetLeft,i+=t.offsetTop}while(t=t.offsetParent);return{offsetTop:i,offsetLeft:e}}}),define("scroll-map",["can/map","can/map/define","scroll-map/calculatedOffsets"],function(t,e,i){"use strict";var n=t.extend({define:{status:{set:function(t){this.attr("y",t.pageYOffset),this.attr("vh",t.innerHeight)}},optimal:{get:function(){var t=this.attr("target"),e=this.attr("vh"),i=this.attr("y")+e/3,n=i+e-e/3*2,o=t.offsetTop>n,r=t.offsetBottom<i;return!o&&!r},value:!1,type:"boolean"},viewable:{get:function(){var t=this.attr("target"),e=this.attr("y"),i=e+this.attr("vh"),n=t.offsetTop>i,o=t.offsetBottom<e;return!n&&!o},value:!1,type:"boolean"},y:{type:"number",value:0},vh:{type:"number",value:0},target:{get:function(t){var e={offsetTop:0,offsetHeight:0,offsetBottom:0};return t&&(e.offsetTop=parseFloat(i(t).offsetTop),e.offsetHeight=parseFloat(t.offsetHeight),e.offsetBottom=e.offsetTop+e.offsetHeight),e},value:null}}});return function(t){var e=new n,i=function(t){e.attr("status",this)};return e.attr("target",t),window.addEventListener("scroll",i),window.addEventListener("unload",function(){window.removeEventListener("scroll",i)}),e}}),define("can/construct/super",["can/util/library","can/construct"],function(t,e){var i=t.isFunction,n=/xyz/.test(function(){return this.xyz})?/\b_super\b/:/.*/,o=["get","set"],r=function(t,e,i){return function(){var n,o=this._super;return this._super=t[e],n=i.apply(this,arguments),this._super=o,n}};return t.Construct._defineProperty=function(e,n,s,a){var c=Object.getOwnPropertyDescriptor(n,s);c&&t.each(o,function(t){i(c[t])&&i(a[t])?a[t]=r(c,t,a[t]):i(a[t])||(a[t]=c[t])}),Object.defineProperty(e,s,a)},t.Construct._overwrite=function(t,e,o,s){t[o]=i(s)&&i(e[o])&&n.test(s)?r(e,o,s):s},t}),define("dataConfigObject",[],function(){"use strict";return function(){var t;this.config=function(e){var i,n,o,r,s,a={};for(t=0;Boolean(i=Object.keys(e)[t]);t++)n=i.split(/(?=[A-Z])/),o=n[0],r=n[1]?n[1].toLowerCase():"",r&&!a[o]?(s=a[o]={},s[r]=e[i]):r&&a[o]&&(a[o][r]=e[i]);return a},this.initor=function(e,i,n){var o;for(t=0;Boolean(o=Object.keys(i)[t]);t++)if(n[o]&&"function"==typeof n[o])return n[o](e,i[o])}}}),define("ui/scrollbehaviours/scrollMediaBaseControl",["can","dataConfigObject"],function(t,e){"use strict";return t.Control.extend({defaults:{media:'[data-scroll-action="autoplay"]'}},{ended:function(){this.play(!1)},play:function(t){t?this.element.removeAttr("data-media-ended"):this.element.attr("data-media-ended","")},'[value="repeat"] click':function(){this.play(this.element[0].hasAttribute("data-media-ended"))},"{scroll} optimal":function(t,e,i){i&&!this.element[0].hasAttribute("data-media-ended")&&this.play(!0),i?this.element.attr("data-media-optimal",""):this.element.removeAttr("data-media-optimal")},"{scroll} viewable":function(t,e,i){i?this.element.attr("data-media-viewable",""):(this.ended(),this.element.removeAttr("data-media-viewable"))}})}),define("ui/scrollbehaviours/scrollMediaImageController",["can","can/construct/super","./scrollMediaBaseControl"],function(t,e,i){"use strict";return i.extend({defaults:{scroll:null,media:"img"}},{init:function(){var t=this.element[0].querySelector(this.options.media);this.image=null,this.src=t?t.dataset.mediaSrc:void 0,this.poster=t?t.src:void 0},"{scroll} viewable":function(t,e,i){var n;i&&!this.image&&(n=new Image,n.src=this.src),this._super(t,e,i)},play:function(t){var e=this.element[0].querySelector(this.options.media);this._super(t),e.src=t?e.dataset.mediaSrc:this.poster}})}),define("ui/scrollbehaviours/scrollMediaBuilder",["can","scroll-map","./scrollMediaImageController"],function(t,e,i){"use strict";function n(t,i){return new i(t,{scroll:e(t)})}return function(t){n(t[0]instanceof HTMLElement?t[0]:null,i)}}),define("ui/scrollbehaviours/SeedScrollBehaviours",["linseed!./scrollMediaBuilder"],function(t){"use strict";return t("seed-autoplay").seedEach()}),define("tools/js/utils/StyleSheetGenerator",["can","debug"],function(t,e){"use strict";return t.Control.extend({defaults:{id:"acedynamic"}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"StyleSheet"}),this.findSheet(),this.setSheet(),this.setAd(),this.getIndex()},findSheet:function(){return this.options.existing=this.findStyleSheet(this.options.id),this.options.existing},setSheet:function(){return this.options.sheet=void 0!==this.options.existing?this.options.existing:this.createStyleSheet(),this.options.sheet},getIndex:function(){return this.debug.log(["this.options.existing",this.options.existing]),this.debug.log(["this.options.sheet",this.options.sheet]),this.debug.log(["this.options.ad",this.options.ad]),this.options.index=this.options.ad?this.options.ad.cssRules.length:0,this.options.index},setAd:function(){return this.options.ad=this.options.sheet&&this.options.sheet.ownerNode.id===this.options.id?this.options.sheet:"",this.options.ad},findStyleSheet:function(){var t=document.styleSheets,e=t.length-1;do{if(t[e].ownerNode.id===this.options.id)return t[e];e--}while(e)},createStyleSheet:function(){var t=document.createElement("style");return t.id=this.options.id,t.type="text/css",t.appendChild(document.createTextNode("")),document.querySelector("head").appendChild(t),this.options.ad=t.sheet,this.options.index=this.getIndex(),this.debug.log(["this.options.index",this.options.index]),this.findStyleSheet(t.id)},addCSSRule:function(t){t.sheet&&(null===t.selector?t.sheet.insertRule(t.rules,t.index):t.sheet.insertRule(t.selector+t.rules,t.index))}})}),Element.prototype.getAncestorBySelector=function(t){"use strict";var e=document.querySelectorAll(t);return Array.prototype.indexOf.call(e,this.parentElement)>=0?this.parentElement:"body"===this.parentElement.nodeName.toLowerCase()?null:this.parentElement.getAncestorBySelector(t)},Element.prototype.getUniqueSelector=function(t){"use strict";function e(t,e){return r?s+"#"+r+c:t&&t.length>1?s+":nth-of-type("+(e+1)+") "+c:s+c}var i,n,o,r=this.id,s=this.nodeName.toLowerCase(),a=this.parentElement,c=t?" > "+t:"";if(n=a?function(t){var e=[];return t.map(function(t){t.nodeName.toLowerCase()===s&&e.push(t)}),e}(Array.prototype.slice.call(this.parentElement.children)):null,i=n?n.indexOf(this):null,"body"!==s.toLowerCase()){if(o=e(n,i),!r)return this.parentElement.getUniqueSelector(o)}else o=e(n,i);return o.trim()},Element.prototype.createUniqueSelectorScope=function(t){"use strict";function e(){var e=t||o.getUniqueSelector(),i=e.replace(/\.|#|\s{2,}/g," ").replace(/[()>:,{}]/g,""),n=i?i.trim().split(" "):null;if(n&&n.length>=1)return n.reduce(function(t,e,i){return 0!==i&&e.length>=1?t+e[0].toUpperCase()+e.substring(1):e.length>=1?t+e:t},"")}function i(t,i){var o,r,a=e();return t?(r=Array.prototype.slice.call(document.querySelectorAll("[id*="+a+"]")),r.map(function(t){s.push(t.id.match(/[0-9]+/)[0])}),n=s.length?parseInt(s.sort().pop())+1:NaN,o=isNaN(n)?a+"1":a+n):o=i,o}var n,o=t?this.getAncestorBySelector(t):this,r=o.id?o.id:void 0,s=[],a=t?document.querySelectorAll(t):document.querySelectorAll(o.nodeName),c=Array.prototype.indexOf.call(a,o);return r||function(n){var o,r,s,a=e(),u=/\./g.test(t),l=/#/g.test(t);!l&&u?(s=a+(c+1),r=document.querySelector("#"+s),o=i(r,s)):u||l||(o=n.nodeName.toLowerCase()+c),n.id=o}(o),this.getUniqueSelector()},define("elprotoextension",function(){}),define("ui/vignettefx/VignetteFXControl",["can","tools/js/utils/StyleSheetGenerator","dataConfigObject","elprotoextension"],function(t,e,i){"use strict";function n(t,e,i){var n,o,r,s,a,c,u,l,d=[];if(t.fx){for(n=Object.keys(t.fx),r=0;Boolean(o=n[r]);r++)s=t.fx[o],c=i[o],u=s.split(" ")[0],a=parseInt(s.split(" ")[1]),l=Math.round(1*a)/100,d.push("linear-gradient("+c+", rgba(0,0,0,"+l.toFixed(2).toString()+"), transparent "+e[u]+")"),l=0;return"{ background-image: "+d.join(", ")+"; }"}}return t.Control.extend({defaults:{steps:{1:"20%",2:"35%",3:"53%"},directions:{topshadow:"to bottom",bottomshadow:"to top",leftshadow:"to right",rightshadow:"to left"}}},{init:function(){this.dcon=new i,this.conf=this.dcon.config(this.element[0].dataset),this.options.selector=this.element[0].getUniqueSelector()+":after",this.options.addGradient=n(this.conf,this.options.steps,this.options.directions),this.options.addGradient&&"seedOn"===this.conf.seed.vignettefx&&this.dotheneedful()},dotheneedful:function(){this.stylesheet=new e,this.stylesheet.addCSSRule({sheet:this.stylesheet.options.sheet,selector:this.options.selector,rules:this.options.addGradient,index:this.stylesheet.getIndex()})},"{window} load":function(){this.options.addGradient&&this.dotheneedful()}})}),define("ui/vignettefx/SeedVignettefx",["linseed!./VignetteFXControl"],function(t){"use strict";return t().seedOn(document.querySelector("body"),"data-seed-vignettefx"),t("seed-vignettefx").seedEach()}),define("ui/inlineIframe/InlineIframeControl",["can","tools/js/utils/LangUtil"],function(t,e){"use strict";return t.Control.extend({defaults:{iframevideoclass:"iframe-video",titleclass:"thumbnail-control-title"}},{init:function(){void 0!==this.element.data("autoload")&&this.loadVideo(this.element)},loadVideo:function(i){var n,o=t.$(i),r=o.data("seedIframecontrol"),s=o.data("iframecontrolSource"),a=t.$("#"+r),c=a.parent(),u=o.find("."+this.options.titleclass).text();e.isEmptyString(r)||e.isEmptyString(s)||(a.attr("src",s),c.removeClass("hide").addClass(this.options.iframevideoclass)),e.isEmptyString(u)||(a.next().length?a.next().text(u):(n=t.$("<h4>"),n.addClass("text-light").text(u),a.after(n))),this.hideThumbnail(o)},hideThumbnail:function(e){var i=t.$("[data-seed-iframecontrol]"),n=e.parents("[class*=grid-padded]");n&&!i.not(e).length?n.toggleClass("hide"):(e.addClass("hide"),i.not(e).removeClass("hide"))},click:function(t,e){this.loadVideo(t[0]),e.preventDefault()}})}),define("ui/inlineIframe/SeedInlineIframe",["linseed!./InlineIframeControl"],function(t){"use strict";return t("seed-iframecontrol").seedEach()}),define("ui/amcoffers/AMCOffersControl",["can","tools/js/http/URLParser"],function(t,e){"use strict";return t.Control.extend({defaults:{searchAttribute:"data-video-frmsrc",queryParams:[{id:"s_cid"},{id:"s_osc"},{id:"s_rtid"}]}},{init:function(){var t,i,n;if(this.parser=new e,this.options.frmsrc=this.element[0].getAttribute(this.options.searchAttribute),void 0===this.options.frmsrc||null===this.options.frmsrc)return!1;n=this.options.frmsrc.split("?")[1],t=this.readParams(),t&&(i=t.join("&"),this.options.frmsrc+=n?"&"+i:"?"+i,this.element[0].setAttribute(this.options.searchAttribute,this.options.frmsrc)),n=this.options.frmsrc.split("?")[1],(t=this.readParams())&&(i=t.join("&"),this.options.frmsrc+=n?"&"+i:"?"+i,this.element[0].setAttribute(this.options.searchAttribute,this.options.frmsrc))},readParams:function(){var e=[];return this.options.queryParams.map(t.proxy(function(t){t.id&&this.parser.checkQueryParam(t.id)&&e.push(t.id+"="+this.parser.getQueryParam(t.id).trim())},this)),e.length?e:""}})}),define("ui/amcoffers/SeedAMCOffers",["linseed!./AMCOffersControl"],function(t){"use strict";return t("seed-amcoffers").seedEach()}),define("ui",["./ui/promo/SeedPromo","./ui/tabs/SeedTabs","./ui/merchpod/SeedMerchpod","./ui/twitter/SeedTwitter","./ui/stockquote/SeedStockQuote","./ui/adaptivetable/SeedAdaptivetable","./ui/scrollbehaviours/SeedScrollBehaviours","./ui/vignettefx/SeedVignettefx","./ui/inlineIframe/SeedInlineIframe","./ui/amcoffers/SeedAMCOffers"],function(t){"use strict";return{name:t.id}}),define("dom/personalization/SpecialOffersControl",["can","dataConfigObject"],function(t,e){"use strict";return t.Control.extend({defaults:{bodyToPodMap:{"logged-in-paid":"merchpod-loggedin-paid","logged-in-free":"merchpod-loggedin-free","logged-out":"merchpod-loggedout"},podToOrderMap:{"merchpod-loggedin-paid":"orderpaid","merchpod-loggedin-free":"orderfree","merchpod-loggedout":"orderloggedout"}}},{init:function(){var t=new e;this.conf=t.config(this.element[0].dataset)},maxOrder:function(t){var e,i,n,o="data-specialoffers-"+t,r=document.querySelectorAll("["+o+"]"),s=0;for(n=0;Boolean(e=r[n]);n++)(i=parseInt(e.getAttribute(o)))>s&&(s=i);return s},classLookup:function(){var e,i=Array.prototype.slice.call(document.querySelector("body").classList);return i.map(t.proxy(function(t){this.options.bodyToPodMap[t]&&(e=this.options.bodyToPodMap[t])},this)),e||!1},orderPods:function(){var t,e,i;t=this.classLookup(),i=this.options.podToOrderMap[t],e=this.maxOrder(i)+1,t&&this.element[0].classList.contains(t)?this.element[0].style.order=this.conf.specialoffers&&this.conf.specialoffers[i]?this.conf.specialoffers[i]:e:this.conf.specialoffers&&this.conf.specialoffers[i]?this.element[0].style.order=this.conf.specialoffers[i]:this.element[0].style.order=e},"{window} aceui_imsStateSet":function(){this.orderPods()}})}),define("dom/personalization/SeedSpecialOffers",["linseed!./SpecialOffersControl"],function(t){"use strict";return t("seed-specialoffers").seedEach()}),define("text!dom/featuresCalendar/calendar_date_row.mustache",[],function(){return'{{#each .}}\n<div class="calendar-item">\n\t<a class="calendar-item-anchor" name="{{date.daytime}}"></a>\n\t<h3>{{title}}</h3>\n\t<time class="calendar-item-date" datetime="{{date.daytime}}">\n\t\t<span class="date-month">{{date.month}}</span>\n\t\t<span class="date-day">{{date.day}}</span>\n\t\t<span class="date-year">{{date.year}}</span>\n\t</time>\n\t<div class="calendar-item-blurb">\n\t\t<div class="feature-group">\n\t\t\t{{#each features}}\n\t\t\t\t<div class="feature-item{{#each category}} {{this}}{{/each}}">\n\t\t\t\t\t{{#with hero}}\n\t\t\t\t\t\t<figure class="hero2 hero2-avoid-1{{#each classes}} {{this}}{{/each}}">\n\t\t\t\t\t\t\t{{#if hero.link.modalId}}\n\t\t\t\t\t\t\t\t<figcaption>\n\t\t\t\t\t\t\t\t\t<div data-seed-link="#{{hero.link.modalId}}" class="hero2-button">\n\t\t\t\t\t\t\t\t\t\t<a href="#{{hero.link.modalId}}"><i class="adobe-icon-play"></i></a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</figcaption>\n\t\t\t\t\t\t\t{{/if}}\n\t\t\t\t\t\t\t<img style="background-image:url({{hero.url}}); background-position: {{position}}" src="{{hero.url}}" alt="{{alt}}">\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t{{/with}}\n\t\t\t\t\t<h4>{{./title}}</h4>\n\t\t\t\t\t<p>{{{description}}}</p>\n\t\t\t\t\t<p class="feature-cta">\n\t\t\t\t\t\t{{#each buttons}}\n\t\t\t\t\t\t\t{{#if link}}\n\t\t\t\t\t\t\t{{#is buttonType \'download\'}}\n\t\t\t\t\t\t\t\t<a class="ui-button" href="{{link}}" target="{{target}}" title="{{text}}">{{text}}</a>\n\t\t\t\t\t\t\t{{/is}}\n\t\t\t\t\t\t\t{{#is buttonType \'learnmore\'}}\n\t\t\t\t\t\t\t\t<a href="{{link}}" target="{{target}}" title="{{text}}">{{text}}</a>\n\t\t\t\t\t\t\t{{/is}}\n\t\t\t\t\t\t\t{{/if}}\n\t\t\t\t\t\t{{/each}}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t{{/each}}\n\t\t</div>\n\t</div>\n</div>\n{{/each}}\n'}),define("dom/featuresCalendar/CalendarDateRowView",["module","can/view/mustache","text!./calendar_date_row.mustache"],function(t,e,i){"use strict";return e.view.mustache(i)}),define("dom/featuresCalendar/CalendarFilterControl",["can","debug","dataConfigObject","./CalendarDateRowView"],function(t,e,i,n){"use strict";return t.Control.extend({defaults:{debug:!1,filterGroup:'[name="cat-filter"]',featureGroup:".calendar-item .feature-group",featureItems:".feature-item",featureMore:".feature-more a",calendarShowMore:".calendar-show-more a",filterValue:"",offsetIncrement:3,seeMoreOffset:0}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"CalendarFilter"}),this.debug.log("----------------------------------------CalendarFilter--------------------------------------------------"),this.options.itemsLOT=t.$(this.element).find(".calendar-item:last-of-type"),this.options.itemswr=t.$(this.options.itemsLOT).parent(),this.calendar=window.Adobe.AceUI.Calendar&&Object.keys(window.Adobe.AceUI.Calendar).length?window.Adobe.AceUI.Calendar:void 0},featureItems:function(e,i){var n,o=[];return e.each(function(e,r){if(n=t.$(r).hasClass(i))return o.push(r),r}),!!o.length},featureGroup:function(e){var i,n;t.$(this.options.featureGroup).each(t.proxy(function(o,r){n=t.$(r).find(this.options.featureItems),i=!!n.length&&this.featureItems(n,e),i?t.$(r).parents(".calendar-item").removeClass("hide"):t.$(r).parents(".calendar-item").addClass("hide")},this)),this.manageShowMore("filter")},hideShowMoreByCategoryCount:function(){var e,i,n=[];for(i=0;Boolean(e=this.calendar.featureCalendar[i]);i++)e.hasOwnProperty("categoryCounts")&&e.categoryCounts[this.options.filterValue]>0&&n.push(e);n.length?this.options.allIsRevealed||t.$(this.options.featureMore).removeClass("hide"):t.$(this.options.featureMore).addClass("hide")},manageShowMore:function(e){var i;this.debug.log({calendardata:this.calendar.featureCalendar,"list offset":this.options.seeMoreOffset}),this.options.seeMoreOffset>=this.options.calitems&&(i=this.element[0].querySelector(this.options.featureMore),t.$(i).addClass("hide"),this.debug.log(t.$(this.options.featureMore).length,t.$(this.options.featureMore).hasClass("hide")),this.options.allIsRevealed=!0),"filter"===e&&this.hideShowMoreByCategoryCount()},"{filterGroup} change":function(t,e){this.options.filterValue=e.target.id},"{filterValue} change":function(){this.featureGroup(this.options.filterValue)},"{calendarShowMore} click":function(e,i){var o,r,s=this.calendar,a=[],c=this.options.seeMoreOffset,u=this.options.seeMoreOffset;if(i.preventDefault(),this.debug.log("counter i:"+u,"start:"+c,"offset:"+this.options.seeMoreOffset),void 0!==s){for(this.options.calitems=s.featureCalendar.length,u;u<c+this.options.offsetIncrement&&Boolean(o=s.featureCalendar[u]);u++)a.push(o);a.length&&(r=new n(a),t.$(r).insertBefore(this.options.itemsLOT),this.options.seeMoreOffset+=c+this.options.offsetIncrement),this.options.filterValue&&this.featureGroup(this.options.filterValue),this.manageShowMore()}}})}),define("dom/featuresCalendar/SeedCalendarFilter",["linseed!./CalendarFilterControl"],function(t){"use strict";return t("seed-calendarfilter").seedEach()}),define("tools/js/services/Subscriber",["can","debug","./Entitlements","../utils/LangUtil"],function(t,e,i,n){"use strict";return t.Control.extend({defaults:{status:"free",freeacount:"CS_LVL_1",subscriber:"CS_LVL_2",dcvalues:["ACOM_W_1","ACOM_W_5","ACOM_W_10","ACOM_W_20"],disabled:"DISABLED",closed:"CLOSED",active:"ACTIVE",serviceCode:["creative_cloud","ACOM_CLOUD_STORAGE"],contextServiceCode:["cce_complete","cce_select","cce_single_app"],subscribedStatus:["paid","paid-org","acom_free"],teamAdmin:"GRP_ADMIN",orgAdmin:"org_admin",enterpriseAdmin:"Enterprise",storageQuota:"0",services:null,level1:!1,isTeamAdmin:!1,isEnterpriseAdmin:!1,debug:!1,sophiaUserFeatures:"sophia_user_features"}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"Subscriber"}),this.jilSubscriptions=t.$("body").data("uf-jilusersubscriptionurl")||"https://www.adobe.com/jil-api/v2/user/subscriptions",this.jilEnterpriseSubscriptions=t.$("body").data("uf-jilenterpriseusersubscriptionurl")||"https://www.adobe.com/jil-api/v2/users/{userid}/subscriptions",this.entitlements=new i,this.floodGateAPIUpdate=t.$("main.lobby").data("flood-gate-feature")||!1,this.sessionUserFeatures="","object"==typeof window.adobeIMS&&"object"==typeof window.adobeIMS._profile&&null!==window.adobeIMS._profile?(this.profile=window.adobeIMS._profile,this.profileContext=this.profile.projectedProductContext,this.serviceAccounts=this.profile.serviceAccounts,this.options.services=this.serviceAccounts,this.checkLogin(),void 0===window.Adobe.AceUI.User&&(window.Adobe.AceUI.User={}),t.$("body").on("aceui-OrgReady",t.proxy(function(){window.Adobe.AceUI.User.status=this.options.status,this.triggerAceuiUserReadyEvent()},this)),this.getEnterpriseUsers()):(this.debug.log("Not logged in, checking Free Entitlements"),this.entitlements.saveProducts())},dispatchAceuiUserEvent:function(){var e;t.$(document).trigger("aceui-UserReady"),e=document.createEvent("Event"),e.initEvent("aceui-UserReady",!0,!0),document.dispatchEvent(e)},triggerAceuiUserReadyEvent:function(){this.floodGateAPIUpdate?this.getSophiaFeatures().then(t.proxy(function(t){window.Adobe.AceUI.User.fgResponse=t,this.dispatchAceuiUserEvent()},this)).fail(t.proxy(function(){this.dispatchAceuiUserEvent()},this)):this.dispatchAceuiUserEvent()},getUserLanguage:function(){var t="en";return n.isNullish(window.adobeGlobalnavConfig)||n.isNullish(window.adobeGlobalnavConfig.locale)||(t=n.getPropertySafely(window.adobeGlobalnavConfig,"locale"),this.debug.log("Retrieve User Language from adobeGlobalnavConfig from getUserLanguage function: ",t)),t},getSophiaFeatures:function(){var e=new t.$.Deferred,i=function(t){e.resolve(t)},n=function(t){e.reject(t)},o={language:this.getUserLanguage()};return this.debug.log("getSophiaFeatures method check config object : ",o),o&&"function"==typeof i&&window.adobeGlobalnav&&"function"==typeof window.adobeGlobalnav.getUserFeatures&&"function"==typeof n&&window.adobeGlobalnav.getUserFeatures(o,i,n),e.promise()},getEnterpriseUsers:function(){var t;this.options&&this.options.status&&"paid-org"===this.options.status&&(this.jilSubscriptions=this.jilEnterpriseSubscriptions,this.jilSubscriptions&&this.jilSubscriptions.indexOf("{userid}")>-1&&(t=this.getUserId(),this.debug.log("user id for replacing in JIL API from getEnterpriseUsers function : ",t),void 0!==t&&(this.jilSubscriptions=this.jilSubscriptions.replace("{userid}",t)),this.debug.log("Jil API subscription url after replacing {userid} string in getEnterpriseUsers function: ",this.jilSubscriptions)))},getUserId:function(){var t;return n.isNullish(window.adobeIMS)||n.isNullish(window.adobeIMS.getUserProfile().userId)||(t=n.getPropertySafely(window.adobeIMS.getUserProfile(),"userId"),this.debug.log("Retrieve User Id from adobeIMS profile from getUserId function: ",t)),t},checkLogin:function(){null!==this.profile?(this.checkServiceAccounts(),!0===this.checkServiceResponse?(this.options.status="paid",this.debug.log(["Paid Personal Subscriber: ",this.options.status])):!1===this.checkServiceResponse&&!0===this.options.dcsub?this.options.status="acom_free":(this.checkProductContext(),!0===this.checkProductContextResponse&&(this.options.status="paid-org",this.debug.log(["Paid Org Subscriber: ",this.options.status]))),this.checkOrg()):this.debug.log("Not logged in")},orgSettings:function(){this.isPaidSubscriber?(this.options.status="paid-org",this.debug.log(["Paid Org Subscriber: ",this.options.status])):!0!==this.options.level1||!n.isNullish(this.profileContext)&&0!==this.profileContext.length?this.debug.log(["Free Account: ",this.options.status]):(this.options.status="deprovisioned",this.debug.log(["Deprovisioned account: ",this.options.status])),this.debug.log([this.checkServiceResponse,this.checkProductContextResponse,this.isPaidSubscriber]),window.Adobe.AceUI=window.Adobe.AceUI||{},window.Adobe.AceUI.User=window.Adobe.AceUI.User||{},window.Adobe.AceUI.User.Subscriber={status:this.options.status,isTeamAdmin:this.options.isTeamAdmin,isEnterpriseAdmin:this.options.isEnterpriseAdmin,subscribed:this.options.subscribedStatus,docCloud:this.options.dcsub}},checkServiceAccounts:function(){var t,e,i;if(!n.isNullish(this.serviceAccounts)&&this.serviceAccounts.length>0){for(this.debug.log("Found serviceAccounts"),this.debug.log(["size of serviceAccounts: ",this.serviceAccounts.length]),t=0;t<this.serviceAccounts.length;t++)if(!0===this.parseServiceAccounts(this.serviceAccounts[t])&&(this.debug.log(["running parseServiceAccounts #",t]),e=null,e=this.checkState(this.serviceAccounts[t]),this.debug.log(["service status:",e]),!0===e&&(this.debug.log("serviceAccounts checkState returned true"),this.checkServiceResponse=!0)),this.serviceAccounts[t].params.length>0)for(i=0;i<this.serviceAccounts[t].params.length;i++)"storage_quota"===this.serviceAccounts[t].params[i].pn&&(this.options.storageQuota=this.serviceAccounts[t].params[i].pv,this.debug.log(["Storage Quota:",this.options.storageQuota]))}else this.debug.log("checkServiceAccounts is false"),this.checkServiceResponse=!1;return this.checkServiceResponse},parseServiceAccounts:function(t){return this.debug.log(["Running parseServiceAccounts: ",t]),this.options.serviceCode.indexOf(t.serviceCode)>=0&&t.serviceStatus===this.options.active},checkProductContext:function(){var t,e;if(this.checkProductContextResponse=!1,n.isNullish(this.profileContext)||""===this.profileContext||!(this.profileContext.length>0))return this.debug.log("projectedProductContext is false"),!1;for(this.debug.log("Found projectedProductContext"),this.debug.log(["size of profileContext: ",this.profileContext.length]),t=0;t<this.profileContext.length;t++)this.debug.log(["running profileContext #",t]),e=null,null,e=this.parseContext(this.profileContext[t].prodCtx),this.debug.log(["service context:",e]),!0===e&&(this.debug.log("context true, running state"),!0===this.checkState(this.profileContext[t].prodCtx)&&(this.debug.log("profileContext checkState returned true"),this.checkProductContextResponse=!0))},parseContext:function(e){var i=null;return this.debug.log(["running parseContext",e]),this.debug.log(["Looking for "+e.serviceCode+" inside of ",this.options.contextServiceCode]),-1!==t.$.inArray(e.serviceCode,this.options.contextServiceCode)?(this.debug.log(["Found "+e.serviceCode+" in the Array"]),i=e.statusCode===this.options.active):(this.debug.log("parseContext is false"),i=!1),i},checkState:function(t){var e=null;return this.debug.log("Checking State of Subscription..."),"object"==typeof t?t.serviceLevel===this.options.subscriber||"true"===this.dcAccountCheck(t.serviceLevel)?(this.debug.log("Paid account"),e=!0):t.serviceLevel===this.options.freeacount&&"true"!==this.dcAccountCheck(t.serviceLevel)&&(this.debug.log("Level 1 account"),this.options.level1=!0,e=!1):(this.debug.log("Free Account"),e=!1),e},dcAccountCheck:function(t){return this.options.dcvalues.indexOf(t)>=0?(this.options.dcsub=!0,this.debug.log("dc true"),!0):(this.debug.log("dc false"),!1)},checkOrg:function(e){var i=["dev2","dev1","qa1","qa2","stg1","fix"],o=new t.$.Deferred;return e=void 0!==e?e:function(){var t=n.getPropertySafely(window,"adobeGlobalnavProperties.ims.environment");return"https://adobeid-na1"+(void 0!==t&&i.indexOf(t)>-1?"-"+t:"")+".services.adobe.com/ims/organizations/v2"}(),this.debug.log("Check for an Organization using url:",e),t.$.ajax({url:e,dataType:"jsonp",data:{client_id:window.adobeid.client_id,bearer_token:window.adobeIMS.getAccessToken()}}).success(function(t){var e,i
;if(t.constructor===Array)for(this.debug.log(["Org data:",t]),this.debug.log(["data.error_flag:",t.error_flag]),e=0;e<t.length;e++)i=t[e],void 0===i.error_flag&&"object"==typeof i?(this.isPaidSubscriber=this.checkOrgName(i),this.options.isTeamAdmin=this.checkTeamAdmin(i),this.options.isTeamAdmin&&(this.options.isEnterpriseAdmin=this.checkEnterpriseAdmin(i),this.debug.log("Enterprise Admin is ",this.options.isEnterpriseAdmin))):this.debug.log("No associated Org")}.bind(this)).done(function(e){this.orgSettings(),t.$("body").trigger("aceui-OrgReady"),o.resolve(e)}.bind(this)).fail(function(t){o.reject(t)}),o.promise()},getUserSubscribedItems:function(){var e=window.adobeIMS.getAccessToken(),i=window.adobeIMS.getClientID(),n=window.Adobe.AceUI.User.Subscriber;t.$.ajax({url:this.getEnvironmentUrl(),headers:{Authorization:"Bearer "+e,Accept:"application/json","X-Api-Key":i},contentType:"application/json"}).success(function(t){window.Adobe.AceUI.User.Subscriber.userSubscriptions=t}).done(function(){t.$("body").trigger("adobeUserPlansReady")}).fail(function(e){e&&n&&n.status&&t.$("body").trigger("adobeUserPlansReady")})},getEnvironmentUrl:function(){return this.jilSubscriptions},checkOrgName:function(t){return null!==t.orgName&&""!==t.orgName},checkTeamAdmin:function(t){var e,i;for(e=0;e<t.groups.length;e++){if("object"==typeof(i=t.groups[e])&&i.role===this.options.teamAdmin)return this.debug.log("Team Admin is TRUE"),!0;this.debug.log("Team Admin is false")}return!1},checkEnterpriseAdmin:function(t){return void 0!==t.orgType&&t.orgType.toLowerCase()===this.options.enterpriseAdmin.toLowerCase()},checkEntitlements:function(){this.debug.log("Check for Entitlements"),this.options.entitlements=window.Adobe.AceUI.storage.aceui_entitlements,this.debug.log(["this.options.entitlements: ",this.options.entitlements]),void 0===this.options.entitlements?(this.debug.log("Instantiating new Entitlements"),this.entitlements.check()):(this.debug.log("this.options.entitlements, setting trigger for logout"),this.entitlements.removeEntitlements())},sendState:function(){return this.options}})}),define("text!dom/personalization/sharedProfile/SharedProfileView.mustache",[],function(){return'<section class="profile-section">\n\t<div class="account">\n\t\t<img class="avatar" src="{{avatar}}">\n\t\t{{#if name}}\n\t\t<p class="name">\n\t\t\t{{name}}\n\t\t</p>\n\t\t{{/if}}\n\t\t{{#if deprovisioned}}\n\t\t\t<div class="deprovisioned">\n\t\t\t\t{{#each deprovisioned}}\n\t\t\t\t\t{{#is @index 0}}\n\t\t\t\t\t\t<h3>{{sectionTitle}}</h3>\n\t\t\t\t\t{{else}}\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<a {{#is @index 1}}class="button" {{/is}}title="{{sectionTitle}}" href="{{url}}">{{sectionTitle}}</a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t{{/is}}\n\t\t\t\t{{/each}}\n\t\t\t</div>\n\t\t\t{{else}}\n\t\t\t{{#if manage}}\n\t\t\t\t<ul class="manage">\n\t\t\t\t\t{{#each manage}}\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<a class="account" title="{{sectionTitle}}" href="{{url}}">{{sectionTitle}}</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t{{/each}}\n\t\t\t\t</ul>\n\t\t\t{{/if}}\n\t\t{{/if}}\n\t</div>\n\t<div class="entitlements">\n\t\t{{#each entitlements}}\n\t\t\t{{#unless svg}}\n\t\t\t\t{{#is @index 0}}\n\t\t\t\t\t<div class="apps">\n\t\t\t\t\t\t<h3>{{sectionTitle}}</h3>\n\t\t\t\t\t<ul>\n\t\t\t\t{{else}}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="apps">\n\t\t\t\t\t\t<h3>{{sectionTitle}}</h3>\n\t\t\t\t\t<ul>\n\t\t\t\t{{/is}}\n\t\t\t{{else}}\n\t\t\t\t<li>\n\t\t\t\t\t<a title="{{sectionTitle}}" href="{{url}}"><img src="data:image/svg+xml;base64,{{svg}}"><span>{{{sectionTitle}}}</span></a>\n\t\t\t\t</li>\n\t\t\t{{/unless}}\n\t\t{{/each}}\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n\t{{#if signOut}}\n\t\t<div class="status">\n\t\t\t<a class="sign-out" title="{{signOut.sectionTitle}}" href="#">{{signOut.sectionTitle}}</a>\n\t\t</div>\n\t{{/if}}\n</section>\n'}),define("dom/personalization/sharedProfile/SharedProfileView",["module","can/view/mustache","text!./SharedProfileView.mustache"],function(t,e,i){"use strict";return e.mustache(i)}),define("dom/personalization/sharedProfile/SharedProfile",["can","debug","./SharedProfileView","tools/js/utils/LangUtil","../PersonalizationModel"],function(t,e,i,n,o){"use strict";return t.Control.extend({defaults:{api:"https://cc-collab.adobe.io/profile",apiStage:"https://cc-collab-stage.adobe.io/profile",profileContentVer:"v1.1.4",manage:"manage",ccmFree:"ccmfree",privateClouds:"privateClouds",signout:"signout",singleColumn:5,debug:!1}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"SharedProfile"}),this.body=t.$("body"),this.gnav=t.$("header"),this.mainProfile=this.body.find("main.lobby"),this.isLobby=this.mainProfile.length>0,this.profileAPI=this.options.api,this.profileContentVer=this.options.profileContentVer,"prod"!==n.getPropertySafely(window,"adobeGlobalnavProperties.ims.environment")&&(this.profileAPI=this.options.apiStage,this.profileContentVer=this.profileContentVer+"-stage"),this.debug.log("this.profileAPI",this.profileAPI),this.startSharedProfile()},startSharedProfile:function(){o.isLoggedIn()&&!o.isUserType("free")&&this.isLobby&&(this.element=this.mainProfile.find(".channels > figure:first-of-type"),this.body.addClass("profile"),this.element.prepend(i()),this.setupProfileCallBack(),n.getPropertySafely(window,"adobeProfile.userInfo")?this.setProfileItems():t.$(window).on("adobeGNav:ProfileReady",this.setProfileItems.bind(this))),this.fadeIn()},setProfileItems:function(){this.profileItems=window.adobeProfile.userInfo,this.getProfileContent()},setupProfileCallBack:function(){window.AdobeGlobalNav||(window.AdobeGlobalNav={}),window.AdobeGlobalNav._jsonpProfileContentCallback=t.proxy(function(t){this.entitlements=[],this.manage=[],this.ccmFree=[],this.profileContent=t,clearTimeout(window.Adobe.AceUI.Failsafe),this.debug.log(["this.profileContent:",this.profileContent]),this.debug.log(["Data retrieval successful, clearing the window.aceuiFailSafe timeout",window.aceuiFailSafe]),void 0!==t&&this.sort(this.profileItems.sections)},this)},sendRequest:function(e){t.$.ajax({url:e.url,type:"GET",dataType:e.dataType||"json",headers:e.headers,cache:e.cache||!1}).fail(t.proxy(function(t){this.debug.log(["Error data:",t]),this.fadeIn()},this)).done(t.proxy(function(t){this.debug.log(["options.url:",e.url]),this.debug.log(["Success data:",t]),this.debug.log(["typeof options.callback:",typeof e.callback]),"function"==typeof e.callback&&e.callback(t,this)},this))},getProfileContent:function(){var t={url:window.adobeGlobalnavProperties.globalnav.cdn+"/assets/globalnav/"+this.profileContentVer+"/profile_content/jsonp/"+window.adobeid.locale+".js",headers:{},dataType:"script",callback:this.mapContent,cache:!0};this.sendRequest(t)},altContentNode:function(t,e,i){var n=t.toString(),o=e[n],r=i&&o?o[i]:void 0;return r||(o||void 0)},getName:function(t){var e=t.id,i=t.trunctated25?t.trunctated25:"",n=e?this.altContentNode(e,this.profileContent,"honorific"):"";return i.length&&void 0!==n&&n.length?i+" "+n:i.length?i:""},sort:function(e){t.each(e,t.proxy(function(e,i){var n=!1;switch(i){case this.options.manage:t.extend(this.manage,this.sortMenuOptions(e)),n=!0;break;case this.options.ccmFree:t.extend(this.ccmFree,this.sortMenuOptions(e)),n=!0;break;case this.options.signout:this.sortSignOut(e),n=!0}n||this.sortItem(e)},this))},sortMenuOptions:function(e){var i,o=[];return t.each(e.items,t.proxy(function(t){var e=n.isNullish(this.profileContent[t.id])?null:this.profileContent[t.id];this.debug.log(["this.sortMenuOptions item.id:",t.id]),this.debug.log(["this.sortMenuOptions profileMatch:",e]),n.isNullish(t.id)||n.isNull(e)||""===e.title||(i={id:t.id,sectionTitle:e.title,url:e.url},o.push(i),this.debug.log(["this.sortMenuOptions combinedItem:",i]),this.debug.log(["this.sortMenuOptions array:",o]))},this)),o},sortSignOut:function(t){var e=n.isNullish(t.items[this.options.signout].id)?null:t.items[this.options.signout].id,i=n.isNullish(this.profileContent[e])?null:this.profileContent[e],o=n.isNull(i.title)?null:i.title;n.isNull(e)||n.isNull(i)||n.isNullish(o)||(this.debug.log(["val.items[this.options.signout].id",e]),this.debug.log(["title",o]),this.signOutLink={id:e,sectionTitle:o},this.debug.log("this.signOutLink:",this.signOutLink))},sortPrivateClouds:function(e){var i,n=this.profileContent[e.id].svg;this.debug.log(["Private Clouds:",e]),t.each(e.clouds,t.proxy(function(t){i={sectionTitle:t.name,url:t.url,svg:this.encodeSVG(n)},this.debug.log("Private Clouds combinedItem:",i),this.entitlements.push(i)},this))},sortItem:function(e){t.each(e,t.proxy(function(t,e){var i=n.isNullish(this.profileContent[t])?null:this.profileContent[t],o="object"==typeof t;e===this.options.privateClouds?this.sortPrivateClouds(t):o?this.sortItem(t):n.isNull(i)||this.combine(t,i)},this))},combine:function(t,e){var i={id:t,sectionTitle:e.title,url:e.url,svg:this.encodeSVG(e.svg)};this.entitlements.push(i)},encodeSVG:function(t){if(void 0!==t)return window.btoa(t)},mapContent:function(t,e){var o,r;e.debug.log(["Entitlements",e.entitlements]),e.debug.log(["manage",e.manage]),e.debug.log(["ccmFree",e.ccmFree]),!n.isUndefined(e.entitlements)&&e.entitlements.length>0?(o={avatar:e.profileItems.user.avatar,name:e.getName(e.profileItems.user.name),deprovisioned:e.ccmFree.length>0?e.ccmFree:"",manage:e.manage,entitlements:e.entitlements,signOut:e.signOutLink},e.moveItems(),e.debug.log(["context.element",e.element]),r=e.element.find(".profile-section"),r?(r.replaceWith(i(o)),r=e.element.find(".profile-section")):e.element.prepend(i(o)),e.entitlements.length<e.options.singleColumn&&r.addClass("single"),setTimeout(function(){r.addClass("fadeIn")},0),e.signOut()):e.debug.log("Profile Entitlements are empty, not showing profile panel"),e.body.trigger("aceui-ProfileReady")},moveItems:function(){this.debug.log("Moving Items"),this.mainProfile.find(".channels > nav").remove(),this.element.find("> figcaption").remove()},signOut:function(){this.signOutButton=this.element.find(".sign-out"),this.signOutButton.unbind("click"),this.signOutButton.bind("click",function(t){t.preventDefault(),window.adobeIMS.signOut()})},fadeIn:function(){this.isLobby&&(this.mainProfile.fadeTo("slow",1,t.proxy(function(){this.debug.log("Page fade in complete")},this)),window.location.hash="")}})}),define("text!dom/lobby/lobby_content.mustache",[],function(){return'<figure\n\t\t{{#is orientation \'column\'}}class="flexcol"{{/is}}\n\t\t{{#if this.background.dataSeedLink}} data-seed-link="{{this.background.dataSeedLink}}" {{/if}}\n\t\t{{#if article.width}} data-article-width="{{article.width}}"{{/if}}\n\t\t{{#with background.vignette}}\n\t\t\tdata-seed-vignettefx="seedOn"\n\t\t\t{{#if background.vignette.bottomshadow}} data-fx-bottomshadow="{{background.vignette.bottomshadow}}" {{/if}}\n\t\t\t{{#if background.vignette.leftshadow}} data-fx-leftshadow="{{background.vignette.leftshadow}}" {{/if}}\n\t\t\t{{#if background.vignette.rightshadow}} data-fx-rightshadow="{{background.vignette.rightshadow}}" {{/if}}\n\t\t\t{{#if background.vignette.topshadow}} data-fx-topshadow="{{background.vignette.topshadow}}" {{/if}}\n\t\t{{/with}}\n>\n    <article class="grid-offset-1{{#is article.inverseColoring \'true\'}} inverse{{/is}}">\n        <section>\n\t\t\t{{{article.text}}}\n\t\t\t{{#if article.list}}\n                <ul>\n\t\t\t\t\t{{#each article.list}}\n                        <li {{#is type \'button\'}}class="{{type}}"{{/is}} {{#is type \'eventbutton\'}}class="button event"{{/is}}>\n                            <a {{#if cssClass}}class="{{cssClass}}"{{/if}} href="{{link}}" title="{{text}}" {{#if target}}target="{{target}}"{{/if}}>{{text}}</a>\n                        </li>\n\t\t\t\t\t{{/each}}\n                </ul>\n\t\t\t{{/if}}\n        </section>\n    </article>\n\t{{#if caption}}\n        <figcaption class="align-end {{#is caption.layout.flexpos \'default\'}}{{else}}{{caption.layout.flexpos}}{{/is}}{{#is caption.layout.offset 0}} {{else}}grid-offset-{{caption.layout.offset}}{{/is}}{{#if caption.inverseColoring}}inverse{{/if}}{{#if caption.shaded}} shaded{{/if}}">\n            <section>\n\t\t\t\t{{{caption.heading.elementopen}}}\n\t\t\t\t{{#if caption.heading.link}}\n                    <a class="base" href="{{caption.heading.link.href}}" title="{{caption.heading.text}}">{{caption.heading.text}}</a>\n\t\t\t\t{{else }}\n\t\t\t\t\t{{caption.heading.text}}\n\t\t\t\t{{/if}}\n\t\t\t\t{{{caption.heading.elementclose}}}\n\t\t\t\t{{#if caption.list}}\n                    <ul>\n\t\t\t\t\t\t{{#if caption.text}}\n                            <li>{{{caption.text}}}</li>\n\t\t\t\t\t\t{{/if}}\n\t\t\t\t\t\t{{#each caption.list}}\n\t\t\t\t\t\t\t{{#is type \'link\'}}\n                                <li>\n                                    <a {{#if cssClass}}class="{{cssClass}}"{{/if}}href="{{link}}" title="{{text}}" {{#if target}}target="{{target}}"{{/if}}><i class="{{linkIcon}}"></i>{{text}}</a>\n                                </li>\n\t\t\t\t\t\t\t{{/is}}\n\t\t\t\t\t\t\t{{#is type \'color\'}}\n                                <li class="cac">\n                                    <a href="https://color.adobe.com/#themeID/{{themeId}}" title="Download the palette" target="_blank">\n                                        <img src="https://color.adobe.com/rss/png/generateThemePng.cfm?themeid={{themeId}}"/>\n                                    </a>\n                                </li>\n\t\t\t\t\t\t\t{{/is}}\n\t\t\t\t\t\t{{/each}}\n                    </ul>\n\t\t\t\t{{/if}}\n            </section>\n        </figcaption>\n\t{{/if}}\n\t{{#if offers}}\n        <aside class="special-offers">\n            <ul>\n                <li>{{offers.title}}</li>\n\t\t\t\t{{#each offers.list}}\n                    <li class="link">\n                        <a class="{{#is cssClass \'\'}}base{{else}}{{cssClass}}{{/is}}" href="{{link}}" title="{{{text}}}" {{#if target}}target="{{target}}"{{/if}}>{{{text}}}</a>\n                    </li>\n\t\t\t\t{{/each}}\n            </ul>\n        </aside>\n\t{{/if}}\n\t{{#if cite}}\n\t\t<cite class="bottom-right">\n\t\t\t<p>\n\t\t\t\t<a title="{{cite.home.title}} {{cite.home.preposition}} {{cite.home.artist}}" href="{{cite.home.url}}"{{#if cite.home.target}} target="{{cite.home.target}}" {{/if}}>\n\t\t\t\t\t{{#if cite.home.icon}}<i class="{{cite.home.icon}}"></i>{{/if}}<q>{{cite.home.title}}&nbsp;<span class="artist">{{cite.home.preposition}} {{cite.home.artist}}</span></q>\n\t\t\t\t</a>\n\t\t\t</p>\n\t\t</cite>\n\t{{/if}}\n\t<picture data-seed-background data-background-selector="{{background.selector}}">\n\t\t{{#if background.mobileUrl}}\n\t\t\t<source srcset="{{background.mobileUrl}}" media="(max-width: 36rem)" {{#if background.mobilePosition}}data-background-position="{{background.mobilePosition}}"{{/if}}/>\n\t\t{{/if}}\n\t\t<img src="{{background.url}}" {{#if background.position}}data-background-position="{{{background.position}}}" alt=""{{/if}}>\n\t</picture>\n</figure>\n'}),define("dom/lobby/LobbyContentView",["module","can/view/mustache","text!./lobby_content.mustache"],function(t,e,i){"use strict";return e.view.mustache(i)}),define("layout/js/background/Background",["can","debug","tools/js/utils/StyleSheetGenerator","elprotoextension"],function(t,e,i){"use strict";function n(t){return Object.prototype.toString.call(t)}function o(t,e){var i="[object Object]"===n(e),o="[object Object]"===n(t);return i&&o?Object.keys(e).reduce(function(t,i){return t[i]=e[i],t},t):!i&&o?t:void 0}function r(t){function e(t){return t.getAttribute("data-background-position")||t.parentElement.getAttribute("data-background-position")}return(n(t).match("Array")?t:Array.prototype.slice.call(t)).reduce(function(t,i){var n=i.getAttribute?i.getAttribute("media"):i.media,o=n?n.match("max"):null,r=n?n.match("min"):null,s=n?n.replace(/[^0-9\.]+/g,""):void 0,a=n&&s?n.match(/[\d]+/)[0]:null,c=a?Number(s):null;switch(!0){case c>=2160&&null!==r:return t.backgroundLarge=i.getAttribute?i.getAttribute("srcset").split(",")[0]:i.src,t.backgroundLargeBreakpoint=n,t.backgroundLargePosition=i.getAttribute?e(i):i.position,t;case c>=800&&null!==r:case null!==o&&null!==n.match(63.75.toString()):return t.backgroundTablet=i.getAttribute?i.getAttribute("srcset").split(",")[0]:i.src,t.backgroundTabletBreakpoint=n,t.backgroundTabletPosition=i.getAttribute?e(i):i.position,t;case 36===c&&(null!==o||void 0===n):return t.backgroundMobile=i.getAttribute?i.getAttribute("srcset").split(",")[0]:i.src,t.backgroundMobileBreakpoint=n,t.backgroundMobilePosition=i.getAttribute?e(i):i.position,t;default:return t}},{})}function s(t){var e=t.replace(/(:before)|(:after)/g,""),i=document.querySelectorAll(e),n=!(!i||1!==i.length);return!(i&&!n)&&e}function a(t){var e,i=t.getAttribute("data-background-selector"),n=i?s(i):t.createUniqueSelectorScope(),a=t.querySelector("img"),c=t.querySelectorAll("source"),u=c?r(c):null,l=a?a.getAttribute("src"):void 0;if(l)return e={background:l,backgroundPosition:a.getAttribute("data-background-position")||t.getAttribute("data-background-position"),backgroundSelector:n,backgroundSize:"cover"},Object.keys(u).length?o(e,u):e}function c(t){var e,i,s=t.dataset,c=Object.keys(s),u=/(^<\s*?picture)/.test(t.outerHTML),l={};return u?l=a(t):(c.map(function(t){/(background)/g.test(t)&&!/(Srcset)/g.test(t)?l[t]=s[t]:/(background)/g.test(t)&&/(Srcset)/g.test(t)&&(e=JSON.parse(s[t]),i="[object Array]"===n(e)?r(e):void 0)}),l.backgroundSelector||(l.backgroundSelector=t.getUniqueSelector())),i&&Object.keys(i).length?o(l,i):l}function u(t,e,i){t.addCSSRule({sheet:t.options.sheet,selector:e,rules:i,index:t.getIndex()})}return t.Control.extend({defaults:{debug:!1,defaultPosition:"50% 50%",editMode:!(!window.CQ||!window.CQ.WCM)&&window.CQ.WCM.isEditMode(!0),noNav:document.querySelector('[data-amc-page="true"]'),largeWidth:"135rem",mobileWidth:"36rem",mobilePosition:"0 0",tabletWidth:"800",backgroundLoaded:!1}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"Background"}),this.debug.log("Background: this.element",this.element),this.mutate="mutate"===this.element.data("seed-background"),this.debug.log("this.mutate",this.mutate),this.mutate&&(clearTimeout(this.timeout),this.dotheneedful()),this.timeout=setTimeout(t.proxy(function(){this.debug.log("init: Never heard `{window} load`, running setTimeout",this.element),this.run()},this),4e3)},dotheneedful:function(){var t,e,n,o,r,s,a;this.conf=this.options.conf?this.options.conf:c(this.element[0]),this.debug.log("Background: conf-later Event:",this.conf),!0!==this.options.backgroundLoaded&&this.conf&&(this.styleSheet=new i,o=this.conf.backgroundPosition||this.options.defaultPosition,s=this.conf.backgroundSize?"/"+this.conf.backgroundSize:"/cover",r="{ background: url("+this.conf.background+") "+o+s+" no-repeat;}",this.debug.log(["Background: Default conf:",{rule:r,position:o,conf:this.conf}]),u(this.styleSheet,this.conf.backgroundSelector,r),this.conf.backgroundMobile&&(n=this.conf.backgroundMobileBreakpoint||"(max-width: "+this.options.mobileWidth+")",e="@media screen and "+n,o=this.conf.backgroundMobilePosition||o,r=e+"{ "+this.conf.backgroundSelector+" { background: url("+this.conf.backgroundMobile+") "+o+s+" no-repeat; }}",u(this.styleSheet,null,r),this.debug.log("Background: Mobile conf:",{rule:r,position:o,conf:this.conf})),this.conf.backgroundTablet&&(a=this.conf.backgroundTabletBreakpoint||"(min-width: "+this.options.tabletWidth+")",e="@media screen and "+a,o=this.conf.backgroundTabletPosition||o,r=e+"{ "+this.conf.backgroundSelector+" { background: url("+this.conf.backgroundTablet+") "+o+s+" no-repeat; }}",u(this.styleSheet,null,r),this.debug.log("Background: Tablet conf:",{rule:r,position:o,conf:this.conf})),this.conf.backgroundLarge&&(t=this.conf.backgroundLargeBreakpoint||"(min-width: "+this.options.largeWidth+")",e="@media screen and "+t,o=this.conf.backgroundLargePosition||o,r=e+"{ "+this.conf.backgroundSelector+" { background: url("+this.conf.backgroundLarge+") "+o+s+" no-repeat; }}",u(this.styleSheet,null,r),this.debug.log("Background: Large conf:",{rule:r,position:o,conf:this.conf})),this.options.backgroundLoaded=!0)},run:function(){null!==this.element&&this.element.length>0&&!this.options.backgroundLoaded&&(this.debug.log("run: this.options.backgroundLoaded:",this.options.backgroundLoaded,"this.element:",this.element),this.debug.log("run: backgroundLoaded is false, running dotheneedful()"),this.dotheneedful())},"{window} load":function(){clearTimeout(this.timeout),this.debug.log("Background: {window} Load Fired, canceling this.timeout",this.timeout),this.run()}})}),define("dom/personalization/lobby/LobbyControl",["can","debug","../PersonalizationModel","../sharedProfile/SharedProfile","tools/js/utils/LangUtil","../../lobby/LobbyContentView","layout/js/background/Background"],function(t,e,i,n,o,r,s){"use strict";return t.Control.extend({defaults:{debug:!1,userStatus:{deprovisioned:"deprovisioned",free:"free",paid:"paid",paidorg:"paid-org"}}},{init:function(n,o){clearTimeout(window.Adobe.AceUI.Failsafe),this.debug=new e("",{debug:this.options.debug,control:"Lobby"}),this.element=void 0!==n?n:this.element,this.body=t.$("body"),this.data=o,this.home=this.body.find("main.lobby"),this.profile=function(){return this.element.find(".profile-section")},this.defaultChannel=this.element?this.element.find('input[name="tab-visible"]:first-of-type'):void 0,this.figure=this.element.find("figure:first-of-type"),this.debug.log(["Lobby this.figure",this.figure]),this.sharedProfile=void 0,this.data.loggedin&&!i.isUserType("free")?(this.debug.log("lobby init logged in",o,this.element),this.lobbyContent(o)):(this.debug.log("lobbby init logged out or logged in free",this.element),this.pictureHandler(this.figure.find("> picture")),this.profileSection())},profileSection:function(){this.debug.log(["this.profile().length",this.profile().length]),0===this.profile().length&&(void 0===this.sharedProfile?(this.debug.log("Instantiating SharedProfile"),this.sharedProfile=new n):(this.debug.log("Rerunning sharedProfile startup code"),this.sharedProfile.startSharedProfile()))},pictureHandler:function(t){var e=t||document.querySelector(".channels figure:nth-of-type(1) picture"),i=new s(e);this.debug.log("background object for picturehander",i),i.dotheneedful()},lobbyBuilder:function(e,i,n){var o,s=t.$(".channels > figure:nth-of-type(1)"),a=t.$("input#campaign-1");e&&(o=new r(n),this.figure=s.replaceWith(o),this.pictureHandler(),a.trigger("click")),i&&this.profileSection()},lobbyContent:function(t){function e(e){var i,n;for(n=0;Boolean(i=e[n]);n++)if(t.campaigns[i])return"object"==typeof t.campaigns[i]?i:void 0}function n(i){r="object"==typeof t.campaigns?Object.keys(t.campaigns):void 0,s=r?e(r):void 0,s?i.lobbyBuilder(!0,!0,t.campaigns[s]):(i.pictureHandler(i.figure.find("> picture")),i.profileSection())}var o,r,s;if(this.debug.log(["typeof data.campaigns",typeof t.campaigns]),void 0!==t.campaigns)switch(o=i.userStatus().status,this.debug.log("lobby content and user status",t,o),o){case this.options.userStatus.deprovisioned:t.campaigns.loggedinDeprovisioned?(this.debug.log(["data.campaigns.deprovisioned",t.campaigns.loggedinDeprovisioned]),this.lobbyBuilder(!0,!0,t.campaigns.loggedinDeprovisioned)):n(this);break;case this.options.userStatus.paid:t.campaigns.loggedinPaid?(this.debug.log(["data.campaigns.paid",t.campaigns.loggedinPaid]),this.lobbyBuilder(!0,!0,t.campaigns.loggedinPaid)):n(this);break;case this.options.userStatus.paidorg:t.campaigns.loggedinPaid?(this.debug.log(["org-paid data.campaigns.free",t.campaigns.loggedinFree]),this.lobbyBuilder(!0,!0,t.campaigns.loggedinPaid)):n(this);break;default:n(this)}}})}),define("tools/js/utils/Uuid",[],function(){"use strict";return{getNumber:function(){var t,e,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=[];for(n[8]=n[13]=n[18]=n[23]="-",n[14]="4",e=0;e<36;e++)n[e]||(t=0|16*Math.random(),n[e]=i[19===e?3&t|8:t]);return n.join("")}}}),define("tools/js/utils/CookieParser",["can","tools/js/utils/LangUtil"],function(t,e){"use strict";function i(t){var i,n;if(!e.isNullish(t))return t=encodeURIComponent(t),i="; "+document.cookie,n=i.split("; "+t+"="),2===n.length?decodeURIComponent(n.pop().split(";").shift()):void 0}return{getValue:function(t,n){var o;if(!(e.isNullish(t)||e.isNullish(n)||(t=i(t),e.isNullish(t)||(t=t.split("|"),(o=t.indexOf(n))<0||o+1>t.length))))return t[o+1]}}}),define("dom/personalization/AnalyticsIngestService",["can","debug","tools/js/utils/LangUtil","tools/js/utils/Uuid","tools/js/http/Platform","tools/js/utils/CookieParser"],function(t,e,i,n,o,r){"use strict";return t.Control.extend({defaults:{debug:!1,keys:{analyticsAPIKey:"adobedotcom2",isProdEnvironment:!1,analyticsStageURL:"https://cc-api-data-stage.adobe.io/ingest/",analyticsProdURL:"https://cc-api-data.adobe.io/ingest/",visitorGuidCookie:{name:"AMCV_9E1005A551ED61CA0A490D45@AdobeOrg",property:"MCMID"},analyticsData:{"event.guid":n?n.getNumber():"","event.dts_end":(new Date).toISOString(),"event.workflow":"CC Home","event.category":"WEB","event.subcategory":"subnav","event.type":"click","event.subtype":"","event.user_agent":window.navigator.userAgent,"event.visitor_guid":"","event.url":window.location.href,"event.referrer":document.referrer,"source.name":"Adobe.com","source.version":"latest","source.platform":"Web","source.os_version":o.osVer()}}}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"AnalyticsIngestService"}),this.initialEventData={project:"acom-web-service",ingesttype:"dunamis",time:(new Date).toISOString()},this.options.keys.analyticsData["event.visitor_guid"]=r.getValue(this.options.keys.visitorGuidCookie.name,this.options.keys.visitorGuidCookie.property),window.adobeIMS&&(this.options.keys.analyticsData["source.client_id"]=window.adobeIMS.getClientID(),window.adobeIMS.isSignedInUser()&&(this.options.keys.analyticsData["event.user_guid"]=i.getPropertySafely(window.adobeIMS.getUserProfile(),"userId")))},setEnvironmentData:function(){this.options.keys.isProdEnvironment=this.isImsProduction(),this.initialEventData.environment=this.options.keys.isProdEnvironment?"prod":"stage"},isImsProduction:function(){var t,e=window.adobeIMS.getUrlForApiCall(window.adobeIMS.IMSAPIs.fg_value),i=new RegExp("https://adobeid-(.*).services.adobe.com"),n={};return t=i.exec(e),n.ims={environment:{production:"na1"}},Array.isArray(t)&&t[1]===n.ims.environment.production},getAnalyticsData:function(){return this.options.keys.analyticsData},setValues:function(t){i.isEmptyObject(t)||Object.keys(t).forEach(function(e){this.options.keys.analyticsData[e]=t[e]}.bind(this))},getServiceAccountObject:function(){var e,n={};return i.getPropertySafely(window,"adobeIMS.getUserProfile")&&window.adobeIMS.getUserProfile()&&(e=i.getPropertySafely(window.adobeIMS.getUserProfile(),"serviceAccounts")),this.debug.log("serviceAccountsObj in getServiceAccountObject",JSON.stringify(e)),i.isEmptyObject(e)||t.$.each(e,function(t,e){"creative_cloud"===e.serviceCode&&(n.service_code=e.serviceCode,n.service_level=e.serviceLevel)}),n},getReleaseCampaignObject:function(e,n){var o,r={};return n&&n.length&&e&&e.length&&t.$.each(e,function(e,s){t.$.each(n,function(t,e){i.getStringSafely(s.bit_index)===i.getStringSafely(e.bit)&&-1!==s.features.indexOf(e.feature)&&s.release_name===e.release&&(o=s.features.indexOf(e.feature),s.release_analytics_params&&s.release_analytics_params.length&&-1!==o&&(r.campaign_id=s.release_analytics_params[o].release_id,r.experience_id=s.release_analytics_params[o].feature_id))})}),r},save:function(){var e,i=new t.$.Deferred;return this.setEnvironmentData(),e=this.initialEventData,e.data=this.options.keys.analyticsData,this.debug.log("data snapshot in save of AnalyticsIngestService",e),t.$.ajax({type:"POST",url:this.options.keys.isProdEnvironment?this.options.keys.analyticsProdURL:this.options.keys.analyticsStageURL,data:JSON.stringify({events:[e]}),mimeType:"application/json",dataType:"text",timeout:3e3,headers:{"x-api-key":this.options.keys.analyticsAPIKey,"Content-Type":"application/json"}}).fail(t.proxy(function(t){this.debug.log("save analytics call failed with data",e,t),i.reject(t)},this)).success(t.proxy(function(t){this.debug.log("save analytics call was successful with data",e,t),i.resolve(t)},this)),i.promise()}})}),define("dom/personalization/anchornav/AnchorControl",["can","debug","tools/js/http/Platform","tools/js/http/Cookie","tools/js/utils/LangUtil","../PersonalizationModel","interactive/js/store/marketsegment/MarketSegment","interactive/js/store/checkout/UnifiedCheckout","interactive/js/store/checkout/UnifiedCheckoutV2","../AnalyticsIngestService"],function(t,e,i,n,o,r,s,a,c,u){"use strict";return t.Control.extend({defaults:{anchorFields:["linkText","linkUrl","linkTarget"],debug:!1}},{init:function(i,n){this.debug=new e("",{debug:this.options.debug,control:"AnchorNav"}),this.body=t.$("body"),this.element=i,this.data=n,this.anchorTrial=this.element.find(".anchornav-trial"),this.anchorBuy=this.element.find(".Subnav-menu-button"),this.anchorFeature=this.element.find("[data-anchornav-feature]"),this.marketControl=new s,this.marketSegment=this.marketControl.getSegment(""),this.userProvidedConsent=!1,this.userEligibleForIngest=!1,this.debug.log("Checking for AnchorNav"),o.getPropertySafely(window,"adobeGlobalnav.hasUserProvidedConsent")&&(this.userProvidedConsent=window.adobeGlobalnav.hasUserProvidedConsent()),void 0!==this.element&&this.element.length>0&&(o.isNullish(this.data.anchor)?(this.debug.log("data.anchor is null or undefined",this.data),this.anchorCheck()):Object.keys(this.data.anchor).length&&(this.debug.log("data is valid",this.data),n.anchor.productPlan&&"string"==typeof n.anchor.productPlan&&(this.debug.log('Calling "userFeatures" early to have user campaign data ready to use'),this.callUserFeatures(this.data.anchor.cchome,function(){})),this.debug.log("anchorSetup",this.data),this.anchorSetup(this.data))),o.isUndefined(this.anchorBuy.attr("data-seed-unifiedcheckout"))&&o.isUndefined(this.anchorBuy.attr("data-seed-unifiedcheckoutv2"))&&this.anchorBuy.off("click"),this.anchorBuy.on("click",t.proxy(function(t){this.userEligibleForIngest&&(t.preventDefault(),this.callAnalyticsIngestService(this.data,this.anchorBuy))},this))},"{window} adobePrivacy:PrivacyConsent":function(){this.userProvidedConsent||(this.userProvidedConsent=window.adobeGlobalnav.hasUserProvidedConsent())},callUserFeatures:function(t,e,i){var n;t&&"function"==typeof e&&window.adobeGlobalnav&&"function"==typeof window.adobeGlobalnav.checkUserFeatures&&(n={language:t.language,campaigns:t.campaigns},this.debug.log("Checking if user is part of the test audience. Campaign data:",n),window.adobeGlobalnav.checkUserFeatures(n,e,i))},callAnalyticsIngestService:function(e,i){var n,r,s,a,c,l,d,h,p,f;n=new u,h=t.$(i),s=t.proxy(function(t){this.userProvidedConsent?(p=o.getPropertySafely(e,"anchor.cchome.linkUrl"),p&&(f=new RegExp("^https?://"),f.test(p)?r["content.action"]=p:r["content.action"]=window.location.origin+p),t.releases&&t.releases.length&&(l=e.anchor.cchome.campaigns,(d=n.getReleaseCampaignObject(t.releases,l))&&(r.exp=d)),n.setValues(r),n.save().always(function(){window.open(h.attr("href"),h.attr("target"))},this)):window.open(h.attr("href"),h.attr("target"))},this),a=t.proxy(function(t){this.userProvidedConsent?(r["content.action"]=window.location.href,n.setValues(r),n.save().always(function(){window.open(h.attr("href"),h.attr("target"))},this)):window.open(h.attr("href"),h.attr("target"))},this),this.anchorBuy.each(t.proxy(function(i,u){r={"event.subcategory":"subnav","event.type":"click","event.subtype":t.$.trim(t.$(u).text()),"source.version":"latest","event.language":window.adobeIMS.getLocale(),"event.referrer":document.referrer},this.debug.log("Check if the current user is part of a test audience"),c=n.getServiceAccountObject(),o.isEmptyObject(c)||(r.user=c),
o.getPropertySafely(e,"anchor.cchome")?this.callUserFeatures(e.anchor.cchome,s,a):window.open(h.attr("href"),h.attr("target"))},this))},anchorSetup:function(e){var i,n,s,a,c,u,l,d,h;this.debug.log("anchorSetup: check for this.anchorFeature",this.anchorFeature),void 0!==this.anchorFeature&&this.anchorFeature.length>0?this.anchorCheck():r.isLoggedIn()?(i=r.checkEntitlements(this.anchorBuy),n=r.isMatchedSubscription(e.anchor),s=r.isLoggedIn()?this.getMatchingKey(n,e.anchor):null,a=s.originalKey,c=""!==a?this.getAnchorData(e.anchor,a):e.anchor,u=e.anchor.productPlan?e.anchor.productPlan.toLowerCase():"",l=!(!i||""===u||"default"===u),d="deprovisioned"===r.userStatus().status,h=!d&&(i||l),!d&&!o.isEmptyString(s.selected)&&n===s.selected||!this.isForceTrial()&&!0===r.userStatus().docCloud&&l?(this.debug.log("anchorSetup: !deprovisioned && other scenarios"),this.anchorTrial.remove(),this.anchorBuy.each(t.proxy(function(i,a){o.getPropertySafely(c,"unifiedCheckout")||o.isEmptyString(s.selected)||n!==s.selected||r.removeDataAttributes(t.$(a)),e.anchor.cchome?(this.userEligibleForIngest=!0,this.callUserFeatures(e.anchor.cchome,function(i){this.debug.log("The current user is part of a test audience. Apply data for Sophia campaign"),this.applyButtonChanges(t.$(a),e.anchor.cchome)}.bind(this),function(){this.debug.log("The current user is not part of a test audience. Apply default data"),this.applyButtonChanges(t.$(a),c)}.bind(this))):(this.debug.log("Sophia campaign data is not defined. Applying default data"),this.applyButtonChanges(t.$(a),c))},this))):this.anchorBuy.each(t.proxy(function(e,i){h&&!this.isForceTrial()&&(this.debug.log("anchorSetup: Removing Anchor Trial"),this.anchorTrial.remove(),r.isSubscribed()&&(this.debug.log("anchorSetup: isSubscribed() && passAllChecks"),o.getPropertySafely(c,"unifiedCheckout")||r.removeDataAttributes(t.$(i)),this.debug.log("Check if the current user is part of a test audience"),c.cchome?(this.userEligibleForIngest=!0,this.callUserFeatures(c.cchome,function(){this.debug.log("The current user is part of a test audience. Apply data for Sophia campaign"),this.applyButtonChanges(t.$(i),c.cchome)}.bind(this),function(){this.debug.log("The current user is not part of a test audience. Apply default data"),this.applyButtonChanges(t.$(i),c)}.bind(this))):(this.debug.log("Sophia campaign data is not defined. Applying default data"),this.applyButtonChanges(t.$(i),c))))},this))):this.debug.log(["Model.userStatus() = ",r.userStatus()])},getAnchorData:function(t,e){var i=t;return t&&t.hasOwnProperty(e)&&(i=t[e]),i},applyButtonChanges:function(t,e){var i,n=o.isNullish(e.linkText)?"":e.linkText,s=o.isNullish(e.linkUrl)?"":e.linkUrl,u=o.isNullish(e.target)?o.isNullish(e.linkTarget)?"":e.linkTarget:e.target,l=this;this.debug.log("applyButtonChanges: incoming: ",t,e),this.debug.log("applyButtonChanges: cta",n),this.debug.log("applyButtonChanges: link",s),this.debug.log("applyButtonChanges: target",u),""!==t&&""!==s&&t.attr("href",""!==s?s:t.attr("href")).attr("alt",""!==n?n:t.attr("alt")).attr("title",""!==n?n:t.attr("alt")).attr("target",""!==u?u:t.attr("target")).text(""!==n?n:t.text()),o.getPropertySafely(e,"unifiedCheckout")&&o.getPropertySafely(window,"CommerceLib")&&(o.getPropertySafely(e,"unifiedCheckout.unifiedcheckoutv2")?(i=new c,i.getTransitoryAuthCode(),this.el.on("click",function(t){t.preventDefault(),i.setValues(l.anchorBuy)&&(window.location.href=i.buildUnifiedCheckoutV2Url())})):(i=new a,r.setUnifiedDataProps(t,e),t.on("click",function(e){e.preventDefault(),window.CommerceLib.setProperties(i.setValues(t)),window.CommerceLib.redirectToCheckout(i.options.unifiedcheckout)}))),o.getPropertySafely(window,"adobeGlobalnav.resetSubnav")&&(this.debug.log("Updating Sub Nav sizing"),window.adobeGlobalnav.resetSubnav())},anchorCheck:function(){var t;this.debug.log("typeof this.anchorFeature",typeof this.anchorFeature),this.anchorFeature.length>0?(t=r.getData(r.keys.userData),this.debug.log("userData",t),o.isNullish(t)?r.getJsonData().done(function(t){this.anchorFeatures(t)}.bind(this)):(this.debug.log("using stored data"),this.anchorFeatures(t))):this.debug.log("this.anchorFeature not detected, skipping personalization")},anchorFeatures:function(e){var n,s=!!r.isSubscribed()&&r.checkEntitlements(this.anchorBuy),a=i.osName(),c=r.platformUtils,u=r.isLoggedIn()?e.anchor:"",l=void 0!==o.getPropertySafely(e,"anchor.platform")&&void 0!==e.anchor.platform[a]?e.anchor.platform[a]:u,d=void 0!==l&&void 0!==l.versions&&c.getAllVersions(l.versions),h=d?c.checkForEqualsTo(d)||c.checkForStartswith(d)||c.checkForRelational(d):void 0,p=void 0!==h?c.getVersionObj(h,l.versions):l,f=void 0!==p&&void 0!==p.anonymous?p.anonymous:void 0!==l.anonymous?l.anonymous:u,g=void 0!==p&&void 0!==p.free?p.free:void 0!==l.free?l.free:"",m=void 0!==p&&void 0!==p.subscribed?p.subscribed:void 0!==l.subscribed?l.subscribed:u,b=r.getDataForPlatform(e.anchor,this.options.anchorFields,s),v=this,y=function(t,e){n=void 0!==t?t:void 0!==f?f:u,v.debug.log("checking userData",t,"using",n),v.applyButtonChanges(e,n)};this.debug.log("anchorFeatures: Model.isLoggedIn()",r.isLoggedIn()),this.debug.log("anchorFeatures: OS specific info: for",a,l),this.debug.log("anchorFeatures: OS specific versions:",d),this.debug.log("anchorFeatures: OS versionMatch:",h),this.debug.log("anchorFeatures: productAndPlatformData:",p),this.debug.log("anchorFeatures: anon:",f),this.debug.log("anchorFeatures: free:",g),this.debug.log("anchorFeatures: paid:",m),p?r.isLoggedIn()?r.isSubscribed()?s?(this.debug.log("Platform match and subscribed, offer OS specific Download scenario",m),this.anchorTrial.remove(),this.anchorBuy.each(function(){var i=t.$(this);v.debug.log("Check if the current user is part of a test audience"),e.anchor&&e.anchor.cchome?(this.userEligibleForIngest=!0,v.callUserFeatures(e.anchor.cchome,function(){this.debug.log("The current user is part of a test audience. Apply data for Sophia campaign"),y(e.anchor.cchome,i)}.bind(v),function(){this.debug.log('The current user is not part of a test audience. Apply "paid" data'),y(m,i)}.bind(v))):(v.debug.log('Sophia campaign data is not defined. Applying "paid" data'),y(m,i))})):(this.debug.log("Platform match but not subscribed",g),this.anchorBuy.each(function(){y(g,t.$(this))})):r.isUserType("deprovisioned")||r.isUserType("free")?(this.debug.log("Not subscribed, free or deprovisioned user, offer OS specific free button",g),this.anchorBuy.each(function(){y(g,t.$(this))})):(this.debug.log("No info about the user, offer OS specific anonymous button",f),this.anchorBuy.each(function(){y(f,t.$(this))})):(this.debug.log("Not logged in, offer OS specific anonymous button",f),this.anchorBuy.each(function(){y(f,t.$(this))})):0===Object.keys(b).length?r.isSubscribed()?(this.debug.log("subscribed, offer Download scenario"),this.anchorTrial.remove(),this.anchorBuy.each(function(){v.applyButtonChanges(t.$(this),e.anchor)})):this.debug.log("Not subscribed, offer Buy/Try"):(this.debug.log("No platform scenarios matched, default logged in/out data"),(!b.toplevel||b.toplevel&&r.isSubscribed()&&s)&&(this.anchorTrial.remove(),this.anchorBuy.each(function(){t.$(this).attr("href",b.linkUrl).attr("alt",b.linkText).attr("title",b.linkText).attr("target",o.isNullish(b.linkTarget)?"":b.linkTarget).text(b.linkText)})))},isForceTrial:function(){return!0===this.element.data("signedin-force-trial")},getMatchingKey:function(e,i){var n,o=Object.keys(i),s="",a="";return this.debug.log("getMatchingKey: objKeys",o),t.each(o,t.proxy(function(i){if(this.debug.log("getMatchingKey: original val",i),n=i.indexOf(",")>-1?i.split(","):i,this.debug.log("getMatchingKey: typeof value",typeof n),this.debug.log("getMatchingKey: subscription",e),this.debug.log("getMatchingKey: before this.keySelected",this.keySelected),void 0===this.keySelected&&(this.keySelected=r.getMatchedValue(n,e),this.debug.log("getMatchingKey: AFTER this.keySelected loop:",this.keySelected)),"string"!=typeof n){if(this.debug.log("getMatchingKey: value !== string",n,this.keySelected),t.$.inArray(this.keySelected,n)>-1)return this.debug.log("getMatchingKey: value inArray selected"),s=this.keySelected,a=i,!1}else if(this.keySelected===n)return s=this.keySelected,a=i,!1},this)),{selected:s,originalKey:a}}})}),define("text!dom/personalization/promobar/PromoBarView.mustache",[],function(){return'<aside class="grid-container promo \n\t{{#if isMCPage}}promo-amd{{/if}}\n\t{{#if isPPBUPage}}unhide{{/if}}\n\t{{#if transparentBackground}}is-transparent{{/if}}\n\t{{#if fontSize}}{{fontSize}}{{/if}}"\n\t{{#if textColor}}style="color: {{textColor}}"{{/if}}\n\tdata-seed-promo=".pricesuffix{{#if showTaxExclusive}},.pricetax{{/if}}" \n\tdata-leid-product-name="{{productName}}" \n\t{{#if hidePriceForFreeUser}}data-price-hide="free"{{/if}} \n\t{{#if notify}}data-promo-feature{{/if}} {{^notifyEnabled}}data-promo-feature{{/notifyEnabled}}>\n\t<div class="grid-row">\n\t\t<div class="grid-cols-14 grid-offset-1">\n\t\t\t<p>\n\t\t\t\t<i class="promo-icon icon-stack-base icon-align-middle {{icon}}"></i> \n\t\t\t\t{{#intro}}<span class="promo-intro">{{intro}}</span>{{/intro}}\n\t\t\t\t{{^intro}}<span class="promo-intro">{{productName}}</span>{{/intro}}\n\t\t\t\t{{#enablePriceDisplay}}\n\t\t\t\t\t<span class="promo-price">\n\t\t\t\t\t\t{{#with price}}\n\t\t\t\t\t\t\t{{#if prefix}}<span class="priceprefix">{{prefix}}</span>{{/if}}\n\t\t\t\t\t\t\t<span class="price"\n\t\t\t\t\t\t\t\tdata-price-landscape="{{url}}"\n\t\t\t\t\t\t\t\tdata-price-country="{{country}}"\n\t\t\t\t\t\t\t\t{{#if product}}data-price-product="{{product}}"{{/if}}\n\t\t\t\t\t\t\t\t{{#if offerId}}data-price-offerIds="{{offerId}}"{{/if}}\n\t\t\t\t\t\t\t\t{{#if term}}data-price-term="{{term}}"{{/if}}\n\t\t\t\t\t\t\t\tdata-price-segment="{{segment}}"\n\t\t\t\t\t\t\t\t{{#if pricePoint}}data-price-pricePoint="{{pricePoint}}"{{/if}}\n\t\t\t\t\t\t\t\t{{#if promo}}data-price-promo="{{promo}}"{{/if}}\n\t\t\t\t\t\t\t\t{{#if promo-prefix}}data-price-promo-prefix="{{promo-prefix}}"{{/if}}\n\t\t\t\t\t\t\t\tdata-price-strike="{{strike}}"\n\t\t\t\t\t\t\t\tdata-price-notax="{{notax}}"\n\t\t\t\t\t\t\t\tdata-seed-price="{{debug}}">\n\t\t\t\t\t\t\t\t<i class="fa-refresh fa-spin"></i> {{loading}}...\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{{#if suffix}}<span class="pricesuffix">{{suffix}}</span>{{/if}}\n\t\t\t\t\t\t\t{{#if showTaxInclusive}}\n\t\t\t\t\t\t\t\t{{#if tax}}<span class="pricetax">{{tax}}</span>{{/if}}\n\t\t\t\t\t\t\t{{/if}}\n\t\t\t\t\t\t\t{{#if showTaxExclusive}}<span class="pricetax">{{taxTextExclusive}}</span>{{/if}}\n\t\t\t\t\t\t{{/with}}\n\t\t\t\t\t</span>\n\t\t\t\t{{/enablePriceDisplay}}\n\t\t\t\t{{#if priceOverride}}\n\t\t\t\t<span class="promo-price">\n\t\t\t\t\t<span class="priceprefix">{{price.currency}}</span><span class="price">{{price.mktSegmentPrice}}</span><span class="pricesuffix">{{price.suffix}}</span>\n\t\t\t\t</span>\n\t\t\t\t{{/if}}\n\t\t\t\t{{^hideCta}}\n\t\t\t\t\t<span class="promo-button button{{#if ctaPosition}} {{ctaPosition}}{{/if}}">\n\t\t\t\t\t\t<a href="{{href}}" title="{{text}}" class="promo-cta {{class}}{{#if ctaTheme}} {{ctaTheme}}{{/if}}" {{#if unifiedCheckout}} data-unifiedCheckout-offerId="{{unifiedCheckout.offerId}}" data-unifiedCheckout-lang="{{unifiedCheckout.lang}}" data-unifiedCheckout-market="{{unifiedCheckout.marketSegment}}"{{#if unifiedCheckout.clientId}} data-unifiedCheckout-clientId="{{unifiedCheckout.clientId}}"{{/if}}{{#if unifiedCheckout.promoid}} data-unifiedCheckout-promoid="{{unifiedCheckout.promoid}}"{{/if}}{{#if unifiedCheckout.sdid}} data-unifiedCheckout-sdid="{{unifiedCheckout.sdid}}"{{/if}}{{#if unifiedCheckout.trackingid}} data-unifiedCheckout-trackingid="{{unifiedCheckout.trackingid}}"{{/if}}{{#if unifiedCheckout.mv}} data-unifiedCheckout-mv="{{unifiedCheckout.mv}}"{{/if}}{{#if unifiedCheckout.returnUrl}} data-unifiedCheckout-returnUrl="{{encodeURISafely unifiedCheckout.returnUrl}}"{{/if}} data-unifiedCheckout-country="{{unifiedCheckout.country}}" data-seed-unifiedCheckout{{/if}}>{{text}}</a>\n\t\t\t\t\t</span>\n\t\t\t\t{{/hideCta}}\n\t\t\t\t{{^hidePhoneSection}}\n\t\t\t\t\t{{#if isMCPage}}\n\t\t\t\t\t\t{{#purchasePhoneNumberCall}}\n\t\t\t\t\t\t\t<div>{{purchasePhoneNumberCall}}</div>\n\t\t\t\t\t\t{{/purchasePhoneNumberCall}}\n\t\t\t\t\t\t{{#purchasePhoneNumberCallSite}}\n\t\t\t\t\t\t\t<div>{{purchasePhoneNumberCallSite}}</div>\n\t\t\t\t\t\t{{/purchasePhoneNumberCallSite}}\n\t\t\t\t\t{{/if}}\n\t\t\t\t{{/hidePhoneSection}}\n\t\t\t\t{{#if paymentOptions}}\n\t\t\t\t\t{{#paymentIcons}}\n\t\t\t\t\t\t<i class="payment-icon icon-stack-base icon-align-middle {{.}}"></i>\n\t\t\t\t\t{{/paymentIcons}}\n\t\t\t\t{{/if}}\n\t\t\t</p>\n\t\t\t{{#subtext}}\n\t\t\t\t<p class="promo-subtext">\n\t\t\t\t\t{{{subtext}}}\n\t\t\t\t</p>\n\t\t\t{{/subtext}}\n\t\t\t{{#productReassurance}}\n\t\t\t\t<p class="promo-subtext">\n\t\t\t\t\t{{{productReassurance}}}\n\t\t\t\t</p>\n\t\t\t{{/productReassurance}}\n\t\t</div>\n\t</div>\n</aside>\n'}),define("tools/js/runtime-helpers/encodeURISafely",["can/view/mustache"],function(t){"use strict";Mustache.registerHelper("encodeURISafely",function(t){return"function"==typeof t&&(t=t()),void 0!==t&&"function"==typeof t.replace?encodeURIComponent(t):""})}),define("dom/personalization/promobar/PromoBarView",["module","can/view/mustache","text!./PromoBarView.mustache","tools/js/runtime-helpers/encodeURISafely"],function(t,e,i){"use strict";return e.mustache(i)}),define("dom/personalization/promobar/PromoBarControl",["can","debug","./PromoBarView","tools/js/utils/LangUtil","../PersonalizationModel","tools/js/http/Platform","interactive/js/store/marketsegment/MarketSegment","interactive/js/store/checkout/UnifiedCheckout"],function(t,e,i,n,o,r,s,a){"use strict";return t.Control.extend({defaults:{promoFields:["cta","intro","subtext","link","linkText","linkTarget","target","modalscrolling","modalsize","transparentBackground","fontSize","ctaTheme","ctaPosition","textColor","jarvisEnabled"],debug:!1,themes:{background:"is-transparent",font:"has-largeFont",cta:{theme:"has-ctaTheme",position:"is-block"}}}},{init:function(i,n){this.debug=new e("",{debug:this.options.debug,control:"PromoBar"}),this.body=t.$("body"),this.main=t.$("main"),this.element=void 0!==i?i:this.element,this.setupEventListeners(this.element),this.subscription=null,this.marketControl=new s,this.marketSegment=this.marketControl.getSegment(""),this.element&&Boolean(this.element.length)&&n?this.promoBarOptions(n):this.debug.log("No PromoBar or data found",this.element,n),this.adjustPosition=!1,this.shouldOverlayOverHero()&&this.positionPromoBar()},setupEventListeners:function(e){this.unhide=e.hasClass("unhide"),this.price=e.find(".promo-price"),this.icon=e.find(".payment-icon"),this.adonitButton=e.find(".adonit-button"),this.intro=e.find(".promo-intro"),this.cta=e.find(".promo-cta"),this.subtext=e.find(".promo-subtext"),this.promoButton=e.find(".promo-button .button"),this.promoFeature=e.data("promoFeature"),this.draggedPromoComp=t.$("#dragged-promo-comp")},cleanupEventListeners:function(t){t&&(t.find(".promo-price").remove(),t.find(".payment-icon").remove(),t.find(".adonit-button").empty(),t.find(".promo-intro").empty(),t.find(".promo-cta").empty(),t.find(".promo-subtext").empty(),t.find(".promo-button .button").empty())},checkPromoFeatures:function(t,e){var i,n,r;o.isLoggedIn()?this.subscription&&t[this.subscription]?n=t[this.subscription]:o.isSubscribed()&&t.subscribed?(this.cleanupEventListeners(e),i=t.subscribed):i=t.free:t.anonymous&&(i=t.anonymous),void 0!==this.promoFeature&&(i||n)?(this.debug.log("PromoBar: special feature present"),void 0!==n?this.promoFeatures(n):(r=o.getDataForPlatform(i,this.options.promoFields),Object.keys(r).length>0&&this.promoFeatures(r))):this.debug.log("PromoBar: no special feature active",this.promoFeature)},promoBarOptions:function(e){var i,r=o.userStatus(),s=o.getData(o.keys.subscriptionData)||[],a=o.getData(o.keys.subscriptionMarketSegment)||[],c=this.getAllProductPlans(e)||[],u=e.promo;if(this.getSubscribedProductElement(c,s,a),this.debug.log("Model.userStatus()",r),this.debug.log("Model.isSubscribed()",o.isSubscribed()),this.debug.log("Model.isSubscribed(docCloud)",o.isSubscribed("docCloud")),this.debug.log("Is deprovisioned?",o.isUserType("deprovisioned")),this.debug.log("Is free?",o.isUserType("free")),this.debug.log("Matched subscription",this.subscription),!(void 0===this.promoFeature||this.subscription&&o.isSubscribed()))return void this.checkPromoFeatures(u,this.element);o.isLoggedIn()&&this.subscription?(this.debug.log("Now showing promobar based on user subscription and marketsegment."),i=n.getPropertySafely(u,this.subscription),this.cleanupEventListeners(this.element),this.updateView(i,i.enablePriceDisplay,i.adonit)):o.isSubscribed()||o.isSubscribed("docCloud")?(this.debug.log("subscribed status, showing:",u.subscribed),i=n.getPropertySafely(u,"subscribed"),this.updateView(i,!1,!1,!0)):o.isLoggedIn()&&(o.isUserType("deprovisioned")||o.isUserType("free"))?(this.debug.log("free or deprovisioned:",r),i=n.getPropertySafely(u,"free"),"free"===this.element.data("price-hide")?(this.debug.log("(price-hide) = free:",this.element.data("price-hide")),this.updateView(i,!1,!0,!0)):(this.debug.log("free or deprovisioned:",u.free),this.updateView(i,!0,!0,!0))):(this.debug.log("Not subscribed, not logged in!"),window.Adobe.AceUI.priceReady?this.fadeInPromoBar():t.$(window).on("aceui_priceReady",function(){this.fadeInPromoBar()}.bind(this)))},positionPromoBar:function(){var t,e,i;this.adjustPosition=!0,t=this.element.prev(),i=this.element.outerHeight(),t.css("height",""),this.element.css("padding-bottom",""),e=t.outerHeight(),t.css("height","auto"),e===t.outerHeight()?t.css("height",""):t.css("height","calc("+(e+i)+"px + 2rem)"),t.css({"padding-bottom":"calc(3rem + "+i+"px)"}),this.element.css({"margin-top":"calc("+-i+"px - 2rem)","padding-bottom":"calc("+this.element.css("padding-bottom")+" + 2rem)"})},shouldOverlayOverHero:function(){var t=!1;return null!==this.element&&this.element.length>0&&(t=this.element.hasClass(this.options.themes.background)&&this.element.prev().hasClass("hero2")),t},fadeInPromoBar:function(){t.addClass(t.$(".promo .grid-row"),"fadeIn"),clearTimeout(window.Adobe.AceUI.PromoFailSafe)},clearPreviousThemes:function(){this.element.css("color",""),this.element.removeClass(this.options.themes.background),this.element.removeClass(this.options.themes.font),this.cta&&(this.cta.removeClass(this.options.themes.cta.theme),this.cta.parent().removeClass(this.options.themes.cta.position))},setThemes:function(t){t&&(t.textColor&&this.element.css("color",t.textColor),"true"===t.transparentBackground&&this.element.addClass(this.options.themes.background),t.fontSize&&this.element.addClass(t.fontSize),this.cta&&(t.ctaTheme&&this.cta.addClass(t.ctaTheme),t.ctaPosition&&this.cta.parent().addClass(t.ctaPosition)))},updateView:function(e,n,o,r){var s,a;this.clearPreviousThemes(),this.setThemes(e),void 0!==n&&(s=e&&e.enablePriceDisplay?e.enablePriceDisplay:n),void 0!==o&&(a=e&&e.adonit?e.adonit:o),r||(this.element.remove(),this.draggedPromoComp.length>0?this.draggedPromoComp.html(i(e)):this.main.before(i(e)),this.setupEventListeners(this.body),this.element=this.body.find("aside.promo"),t.$(window).on("resize aceui-promoPriceUpdate",function(){this.shouldOverlayOverHero()&&this.positionPromoBar()}.bind(this)),this.fadeInPromoBar()),this.promoBarActions(e,s,a,r)},promoBarActions:function(e,i,r,s){var a=!n.isNullish(e.subtext)&&!n.isEmptyString(e.subtext);this.debug.log("promoBarActions data:",e),this.debug.log("pricing:",i),this.unhide||(i||(this.price.remove(),this.icon.remove()),r||this.adonitButton.remove(),this.intro.length>0&&!n.isNullish(e.intro)&&this.intro.text(e.intro),n.getPropertySafely(e,"unifiedCheckout")||o.removeDataAttributes(t.$(this.cta)),this.applyButtonChanges(this.cta,e,s),a&&this.subtext.length>0?this.subtext.html(e.subtext):a&&0===this.subtext.length?this.createSubtext(e.subtext):this.subtext.remove())},promoFeatures:function(e){this.debug.log("Setting promobar data with: ",e),this.debug.log("this.promoButton",this.promoButton),this.clearPreviousThemes(),this.promoButton.length>0?this.changeButton(e):this.debug.log("Special feature active, but no buttons for this scenario",this.promoButton),this.intro.length>0?this.changeIntro(e):this.debug.log("Special feature active, but no intro for this scenario",this.intro),this.changeSubtext(e),this.setThemes(e),t.addClass(t.$(".promo .grid-row"),"fadeIn"),t.addClass(t.$(".Subnav-wrapper nav .Subnav-menu-button"),"fadeIn")},changeIntro:function(t){t&&t.intro?(this.debug.log("Changing intro text"),this.intro.html(t.intro)):this.debug.log("No intro text found.")},changeSubtext:function(t){t&&t.subtext?(this.debug.log("Changing subtext"),this.subtextScenarios(t.subtext)):this.debug.log("No subtext found.")},subtextScenarios:function(t){var e=!n.isNullish(t);0===this.subtext.length&&e?(this.createSubtext(t),this.debug.log("subtext node was not present. Created it, updated its info",this.subtext)):this.subtext.length>0&&e?(this.debug.log("subtext node present. Updating its info",this.subtext),this.subtext.html(t)):this.subtext.length>0&&!e&&(this.debug.log("subtext node present but subtext was empty, removing it",this.subtext),this.subtext.remove())},changeButton:function(e){var i=this;this.promoButton.each(function(){i.applyButtonChanges(t.$(this),e)})},applyButtonChanges:function(t,e,i){var r,s=n.isNullish(e.cta)?"":e.cta,c=n.isNullish(e.link)?"":e.link,u=n.isNullish(e.target)?n.isNullish(e.linkTarget)?"":e.linkTarget:e.target,l=!!e.jarvisEnabled;t.attr("href",c).attr("alt",s).attr("title",s).attr("target",u).text(s),l?t.attr("data-open-jarvis-chat",!0):t.removeAttr("data-open-jarvis-chat"),n.getPropertySafely(e,"unifiedCheckout")&&n.getPropertySafely(window,"CommerceLib")&&(r=new a,o.setUnifiedDataProps(t,e),t.on("click",function(e){e.preventDefault(),window.CommerceLib.setProperties(r.setValues(t)),window.CommerceLib.redirectToCheckout(r.options.unifiedcheckout)}))},createSubtext:function(t){this.element.find("p.promo-content").after('<p class="promo-subtext">'+t+"</p>"),this.subtext=this.element.find(".promo-subtext"),this.debug.log("this.subtext created",this.subtext)},getAllProductPlans:function(t){var e;return t&&t.promo&&(e=Object.keys(t.promo)),this.debug.log("All product plans:",e),e},getSubscribedProductElement:function(e,i,n){return e.length>0&&i.length>0&&n.length>0?t.$.each(e,t.proxy(function(t,e){this.subscription||(this.subscription=this.getMatchedSubscriptions(e,i,n))},this)):0===i.length&&0===n.length&&t.$.each(e,t.proxy(function(t,e){this.subscription||"-"+this.marketSegment!==e||(this.subscription=e)},this)),this.debug.log("Matched subscription plan:",this.subscription),this.subscription},getMatchedSubscriptions:function(e,i,n){var o="";return t.$.each(i,function(t,i){return e.indexOf(i)>-1&&e.indexOf(n[0])>-1?void(o=e):e==="-"+n[0]?void(o=e):void 0}),o},"{window} resize":function(){this.adjustPosition&&this.positionPromoBar()},"{window} aceui-promoPriceUpdate":function(){this.adjustPosition&&this.positionPromoBar()}})}),define("dom/personalization/merchpod/MerchPodControl",["can","debug","../PersonalizationModel"],function(t,e,i){"use strict";return t.Control.extend({defaults:{debug:!1}},{init:function(t){this.debug=new e("",{debug:this.options.debug,control:"MerchPod"}),this.debug.log("----------------------------------------MerchPod Personalization--------------------------------------------------"),this.element=void 0!==t?t:this.element,this.debug.log("Checking for MerchPod & Subscription"),void 0!==this.element&&this.element.length>0&&(i.isSubscribed()||i.isSubscribed("docCloud"))&&(this.debug.log("MerchPods present & Subscription active, hiding MerchPods"),this.hideEach())},hideEach:function(){this.element.each(function(){t.$(this).hasClass("single")||t.$(this).hasClass("unhide")||t.$(this).remove()})}})}),define("dom/personalization/catalog/CatalogControl",["can","debug","tools/js/utils/LangUtil","../PersonalizationModel","../PersonalizedCTA","tools/js/http/Platform"],function(t,e,i,n,o,r){"use strict";return t.Control.extend({defaults:{debug:!1}},{init:function(t,o){this.debug=new e("",{debug:this.options.debug,control:"Catalog"}),this.debug.log("----------------------------------------Catalog Personalization--------------------------------------------------"),this.element=void 0!==t?t:this.element,this.data=i.isNullish(o)?{}:o,this.os=r.osName(),this.debug.log("Checking for Catalog data",this.data),this.debug.log("Checking for Catalog element",this.element),this.debug.log("Checking for Catalog & Subscription"),n.isLoggedIn()||(this.debug.log("User is not Signed In, call default platform detection"),this.initializePlatformDetection(this.element,this.formatCatalogData(this.data)))},initializePlatformDetection:function(e,n){var r,s,a,c,u,l,d,h=this,p={};e.each(function(){if((u=t.$(this).attr("data-leid-product-name"))&&(s=n[u.toLowerCase()],r=t.$(this).find("a[data-seed-platform-cta]"),l=t.$(this).find(".catalog-download"),d=t.$(this).find(".catalog-buy"),r&&r.length>0&&i.getPropertySafely(s,"platform"))){if(a=s.platform,c=h.checkPlatformData(s),s.platform=h.getPlatformOSData(a,"free"),i.getPropertySafely(c,"buyText")&&i.getPropertySafely(c,"buyLink")&&(p.cta=c.buyText,p.link=c.buyLink,h.changeCatalogFeatures(p,d)),!i.getPropertySafely(c,"cta")||!i.getPropertySafely(c,"link"))return;new o(l,s)}})},nullDataCheck:function(t){return i.isNullish(t)||i.isNullish(t.desktopCatalog)?null:t.desktopCatalog},nullElementCheck:function(){return void 0!==this.element&&this.element.length>0},formatCatalogData:function(e){var n=this.nullDataCheck(e),o={};return t.each(n,function(t){i.isNullish(t)||(o[t.entitlement.toLowerCase()]={cta:t.downloadTrialText,link:t.downloadTrialLink},i.getPropertySafely(t,"platform")&&(o[t.entitlement.toLowerCase()].platform=t.platform))}),this.debug.log("Formatted Catalog Data formatCatalogData() : ",o),o},changeCatalogFeatures:function(t,e){e.attr("alt",t.cta).attr("title",t.cta).text(t.cta).attr("href",t.link)},getPlatformOSData:function(t,e){var n,o,r,s=t[this.os];if(i.getPropertySafely(s,"versions")){for(this.debug.log("platformOSData : ",s),n=s.versions,this.debug.log("platform versions data before formatting: ",n),o=0;o<n.length;o++)if(n[o][e])for(r in n[o][e])n[o][r]=n[o][e][r];this.debug.log("platformOSData versions data after formatting :",n),t[this.os].versions=n}if(i.getPropertySafely(s,e))for(r in s[e])s[r]=s[e][r];return t[this.os]=s,this.debug.log("formatted catalog data for platform:",t),t},checkPlatformData:function(t){var e,o,r,s,a,c=n.platformUtils,u=this.os;return i.getPropertySafely(t,"platform")&&(a=t.platform),e=i.getPropertySafely(a,u)?a[u]:void 0,o=!!i.getPropertySafely(e,"versions")&&c.getAllVersions(e.versions),r=o?c.checkForEqualsTo(o)||c.checkForStartswith(o)||c.checkForRelational(o):void 0,s=void 0!==r?c.getVersionObj(r,e.versions):e,this.debug.log("productAndPlatformData",s),s},"{window} aceui-Entitlements":function(){var e,r,s,a,c,u,l,d=n.keys.entitlements?n.storage.getItem(n.keys.entitlements):void 0,h=this.formatCatalogData(this.data),p=this,f={};this.debug.log(["catalogData:",h]),this.debug.log(["entitlements:",d]),this.nullElementCheck()&&h&&d?(this.debug.log(["aceui-Entitlements checks all passed (this.nullElementCheck(), catalogData, entitlements):",this.nullElementCheck(),h,d]),this.element.each(function(){if(e=t.$(this).attr("data-leid-product-name"))if(r=h[e.toLowerCase()],a=t.$(this).find("a[data-seed-platform-cta]"),c=t.$(this).find(".catalog-download"),u=t.$(this).find(".catalog-buy"),d.indexOf(e)>-1&&!i.isNullish(r))a&&a.length>0&&i.getPropertySafely(r,"platform")?(s=r.platform,r.platform=p.getPlatformOSData(s,"subscribed"),new o(c,r)):p.changeCatalogFeatures(r,c),u.remove();else if(a&&a.length>0&&i.getPropertySafely(r,"platform")){if(s=r.platform,l=p.checkPlatformData(r),r.platform=p.getPlatformOSData(s,"free"),i.getPropertySafely(l,"buyText")&&i.getPropertySafely(l,"buyLink")&&(f.cta=l.buyText,f.link=l.buyLink,p.changeCatalogFeatures(f,u)),!i.getPropertySafely(l,"cta")||!i.getPropertySafely(l,"link"))return;new o(c,r)}})):(this.debug.log("User Signed In , not Entitled"),this.initializePlatformDetection(this.element,h))}})}),define("text!dom/personalization/hero/HeroTemplate.mustache",[],function(){
return'<figure class="hero2{{!\n\theight\n}}{{#height}} {{height}}{{/height}}{{!\n\tflex\n}}{{#unless fixedHeight}} hero2-size-flex{{/unless}}{{!\n\ttransparent background (no cover)\n}}{{#unless image.fileReference}} hero2-theme-transparent{{/unless}}{{!\n\tcolor\n}}{{#color}} {{color}}{{/color}}{{!\n\tavoid\n}}{{#avoid}} {{avoid}}{{/avoid}}{{!\n\teffect\n}}{{#effect}} {{effect}}{{/effect}}{{!\n\tblur\n}}{{#focalBlur}} hero2-focal-blur{{/focalBlur}}{{!\n\tstack\n}}{{#stackMode}} {{stackMode}}{{/stackMode}}">\n\t<figcaption>\n\t\t{{#unless hideLink}}\n\t\t{{#link}}\n\t\t\t<div class="hero2-button" data-seed-link="{{link.modalId}}">\n\t\t\t\t<a href="{{link.modalId"}}>\n\t\t\t\t\t<i class="adobe-icon-play"></i>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t{{/link}}\n\t\t{{/unless}}\n\n\t\t{{#unless hideArticle}}\n\t\t{{#article}}\n\t\t\t<article class="{{!\n\t\t\t\talign\n\t\t\t}}{{#article.articleAlignment}}{{article.articleAlignment}}{{/article.articleAlignment}}{{!\n\t\t\t\tbasis\n\t\t\t}}{{#article.width}} {{article.width}}{{/article.width}}">\n\t\t\t{{#article.link.modalId}}\n\t\t\t\t<div class="hero2-button{{!\n\t\t\t\t\tcover\n\t\t\t\t}}{{#article.link.image.fileReference}} hero2-button-cover{{/article.link.image.fileReference}}"{{!\n\t\t\t\t\tseed-link\n\t\t\t\t}}{{#article.link.modalId}} data-seed-link="{{article.link.modalId}}"{{/article.link.modalId}}{{!\n\t\t\t\t\tstyle\n\t\t\t\t}}{{#article.link.image.fileReference}} style="background-image: url({{article.link.image.fileReference}}); background-position: {{article.link.image.backgroundposition}};"{{/article.link.image.fileReference}}>\n\t\t\t\t\t<a href="{{article.link.modalId}}">\n\t\t\t\t\t\t<i class="adobe-icon-play"></i>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t{{/article.link.modalId}}\n\n\t\t\t{{#article.title}}\n\t\t\t<div class="hero2-title">\n\t\t\t\t{{#if article.h1Header}}\n\t\t\t\t\t{{#if article.enableH1}}\n\t\t\t\t\t<h1 class="pretitle"{{#if article.h1HeaderColor}} style="{{{article.h1HeaderColor}}}"{{/if}}>{{{article.h1Header}}}</h1>\n\t\t\t\t\t<h2 class="title">\n\t\t\t\t\t\t{{#if titleImage.fileReference}}\n\t\t\t\t\t\t\t<img src="{{titleImage.fileReference}}"{{#titleImage.alt}} alt="{{titleImage.alt}}" title="{{titleImage.alt}}"{{/titleImage.alt}}>\n\t\t\t\t\t\t{{else}}\n\t\t\t\t\t\t\t{{{article.title}}}\n\t\t\t\t\t\t{{/if}}\n\t\t\t\t\t</h2>\n\t\t\t\t\t{{else}}\n\t\t\t\t\t<h2 class="pretitle"{{#if article.h1HeaderColor}} style="{{{article.h1HeaderColor}}}"{{/if}}>{{{article.h1Header}}}</h2>\n\t\t\t\t\t<h3 class="title">\n\t\t\t\t\t\t{{#if titleImage.fileReference}}\n\t\t\t\t\t\t\t<img src="{{titleImage.fileReference}}"{{#titleImage.alt}} alt="{{titleImage.alt}}" title="{{titleImage.alt}}"{{/titleImage.alt}}>\n\t\t\t\t\t\t{{else}}\n\t\t\t\t\t\t\t{{{article.title}}}\n\t\t\t\t\t\t{{/if}}\n\t\t\t\t\t</h3>\n\t\t\t\t\t{{/if}}\n\t\t\t\t{{else}}\n\t\t\t\t\t{{#if article.enableH1}}\n\t\t\t\t\t<h1>\n\t\t\t\t\t\t{{#if titleImage.fileReference}}\n\t\t\t\t\t\t\t<img src="{{titleImage.fileReference}}"{{#titleImage.alt}} alt="{{titleImage.alt}}" title="{{titleImage.alt}}"{{/titleImage.alt}}>\n\t\t\t\t\t\t{{else}}\n\t\t\t\t\t\t\t{{{article.title}}}\n\t\t\t\t\t\t{{/if}}\n\t\t\t\t\t</h1>\n\t\t\t\t\t{{else}}\n\t\t\t\t\t<h2 class="title">\n\t\t\t\t\t\t{{#if titleImage.fileReference}}\n\t\t\t\t\t\t\t<img src="{{titleImage.fileReference}}"{{#titleImage.alt}} alt="{{titleImage.alt}}" title="{{titleImage.alt}}"{{/titleImage.alt}}>\n\t\t\t\t\t\t{{else}}\n\t\t\t\t\t\t\t{{{article.title}}}\n\t\t\t\t\t\t{{/if}}\n\t\t\t\t\t</h2>\n\t\t\t\t\t{{/if}}\n\t\t\t\t{{/if}}\n\t\t\t</div>\n\t\t\t{{/article.title}}\n\n\t\t\t{{#article.text}}\n\t\t\t\t<p class="detail">{{{article.text}}}</p>\n\t\t\t{{/article.text}}\n\n\t\t\t{{#if article.links}}\n\t\t\t\t<nav class="list">\n\t\t\t\t{{#each article.links}}\n\t\t\t\t\t{{#if isModalRef}}\n\t\t\t\t\t\t{{#modalId}}\n\t\t\t\t\t\t<a href="{{modalId}}" class="{{type}}">{{text}}</a>\n\t\t\t\t\t\t{{/modalId}}\n\t\t\t\t\t{{else}}\n\t\t\t\t\t\t{{#href}}\n\t\t\t\t\t\t<a href="{{href}}" class="{{type}}" target="{{target}}">{{text}}</a>\n\t\t\t\t\t\t{{/href}}\n\t\t\t\t\t{{/if}}\n\t\t\t\t{{/each}}\n\t\t\t\t</nav>\n\t\t\t{{/if}}\n\t\t\t</article>\n\t\t{{/article}}\n\t\t{{/unless}}\n\n\t\t{{#unless hideCredits}}\n\t\t{{#credits}}\n\t\t\t<cite class="{{!\n\t\t\t\t\talign\n\t\t\t\t}}{{#credits.creditsAlignment}}{{credits.creditsAlignment}}{{/credits.creditsAlignment}}{{!\n\t\t\t\t\tbasis\n\t\t\t\t}}{{#credits.width}} {{credits.width}}{{/credits.width}}">\n\t\t\t\t{{#credits.titleText}}\n\t\t\t\t\t{{#credits.isBehanceLink}}\n\t\t\t\t\t<i class="fa fa-behance"></i>\n\t\t\t\t\t{{/credits.isBehanceLink}}\n\t\t\t\t\t<a{{!\n\t\t\t\t\t\thref\n\t\t\t\t\t}}{{#credits.titleLink}} href="{{credits.titleLink}}"{{/credits.titleLink}}{{!\n\t\t\t\t\t\ttarget\n\t\t\t\t\t}}{{#cite.target}} target="{{cite.target}}"{{/cite.target}}>{{!\n\t\t\t\t\t\ttext\n\t\t\t\t\t}}{{credits.titleText}}</a>\n\t\t\t\t{{/credits.titleText}}}\n\t\t\t</cite>\n\t\t{{/credits}}\n\t\t{{/unless}}\n\n\t\t{{#showFeaturedVideo}}\n\t\t{{#featuredvideo}}\n\t\t\t<aside class="hero2-featuredVideo{{#unless featuredvideo.videomodalid}} is-featuredMedia{{/unless}}">\n\t\t\t\t{{#featuredvideo.titleText}}\n\t\t\t\t\t<h2 class="hero2-featuredVideo-title">{{{featuredvideo.titleText}}}</h2>\n\t\t\t\t{{/featuredvideo.titleText}}\n\n\t\t\t\t{{#featuredvideo.detail}}\n\t\t\t\t\t<p class="hero2-featuredVideo-subtitle">{{{featuredvideo.detail}}}</p>\n\t\t\t\t{{/featuredvideo.detail}}\n\n\t\t\t\t<div class="hero2-featuredVideo-video">\n\t\t\t\t\t{{#featuredvideo.image.fileReference}}\n\t\t\t\t\t\t<img class="hero2-featuredVideo-vidThumb" src="{{featuredvideo.image.fileReference}}" alt="{{featuredvideo.image.alt}}">\n\t\t\t\t\t{{/featuredvideo.image.fileReference}}\n\n\t\t\t\t\t{{#featuredvideo.videomodalid}}\n\t\t\t\t\t\t<div class="hero2-featuredVideo-play hero2-button" data-seed-link="#{{featuredvideo.videomodalid}}">\n\t\t\t\t\t\t\t<a href="#{{featuredvideo.videomodalid}}">\n\t\t\t\t\t\t\t\t<i class="adobe-icon-play"></i>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{{/featuredvideo.videomodalid}}\n\n\t\t\t\t\t{{#featuredvideo.authorAndTitle}}\n\t\t\t\t\t\t<cite class="hero2-featuredVideo-cite{{#featuredvideo.creditsAlignment}} {{featuredvideo.creditsAlignment}}{{/featuredvideo.creditsAlignment}}">\n\t\t\t\t\t\t\t<i class="fa fa-behance"></i>\n\t\t\t\t\t\t\t{{#featuredvideo.citeLink}}\n\t\t\t\t\t\t\t\t<a href="{{featuredvideo.citeLink}}"{{#featuredvideo.cite.target}} target="{{featuredvideo.cite.target}}"{{/featuredvideo.cite.target}}>{{featuredvideo.authorAndTitle}}</a>\n\t\t\t\t\t\t\t{{/featuredvideo.citeLink}}\n\t\t\t\t\t\t</cite>\n\t\t\t\t\t{{/featuredvideo.authorAndTitle}}\n\n\t\t\t\t</div>\n\t\t\t</aside>\n\t\t{{/featuredvideo}}\n\t\t{{/showFeaturedVideo}}\n\t</figcaption>\n\n\t{{#image.fileReference}}\n\t<img src="{{image.fileReference}}" style="background-image: url({{image.fileReference}}); background-position: {{image.backgroundposition}};" alt="{{image.alt}}"{{!\n\t\tseed-link\n\t}}{{#clickableMarquee}} data-seed-link="{{marqueeLink}}"{{/clickableMarquee}}>\n\t{{/image.fileReference}}\n</figure>\n'}),define("can/view/target",["can/util/library","can/elements"],function(t,e,i){function n(t,i,n,o){var r,s,u,h,p,f=n,g=typeof t,m=function(){return r||(r={path:n,callbacks:[]},i.push(r),f=[]),r},b=function(e,i){var n=t.attrs[i];"function"==typeof n?m().callbacks.push({callback:n}):d(e,i,n)};if("object"===g){if(t.tag){if(s=l&&t.namespace?o.createElementNS(t.namespace,t.tag):o.createElement(t.tag),t.attrs){"input"===t.tag&&t.attrs.type&&(b(s,"type"),delete t.attrs.type);for(var v in t.attrs)b(s,v)}if(t.attributes)for(h=0,p=t.attributes.length;h<p;h++)m().callbacks.push({callback:t.attributes[h]});t.children&&t.children.length&&(u=r?r.paths=[]:i,s.appendChild(a(t.children,u,f,o)))}else if(t.comment&&(s=o.createComment(t.comment),t.callbacks))for(h=0,p=t.attributes.length;h<p;h++)m().callbacks.push({callback:t.callbacks[h]})}else"string"===g?s=o.createTextNode(t):"function"===g&&(c?(s=o.createTextNode(""),m().callbacks.push({callback:t})):(s=o.createComment("~"),m().callbacks.push({callback:function(){var i=o.createTextNode("");return e.replace([this],i),t.apply(i,arguments)}})));return s}function o(t,e,i){for(var n=e.path,r=e.callbacks,s=e.paths,a=t,c=n?n.length:0,u=s?s.length:0,l=0;l<c;l++)a=a.childNodes.item(n[l]);for(l=0;l<u;l++)o(a,s[l],i);i.push({element:a,callbacks:r})}function r(t,e){for(var i,n,o,r=t.length,s=0;s<r;s++){o=t[s],i=o.callbacks.length,n=o.element;for(var a=0;a<i;a++)o.callbacks[a].callback.apply(n,e)}}function s(e,i){var n=[],s=a(e,n,[],i||t.global.document);return{paths:n,clone:s,hydrate:function(){for(var e=h(this.clone),i=t.makeArray(arguments),s=[],a=0;a<n.length;a++)o(e,n[a],s);return r(s,i),e}}}var a=function(t,e,i,o){for(var r=o.createDocumentFragment(),s=0,a=t.length;s<a;s++){var c=t[s];r.appendChild(n(c,e,i.concat(s),o))}return r},c="undefined"!=typeof document&&function(){var e=document.createDocumentFragment(),i=document.createElement("div");i.appendChild(document.createTextNode("")),i.appendChild(document.createTextNode("")),e.appendChild(i);var n=e.cloneNode(!0);return 2===t.childNodes(n.firstChild).length}(),u="undefined"!=typeof document&&function(){var t=document.createElement("a");return t.innerHTML="<xyz></xyz>","<xyz></xyz>"===t.cloneNode(!0).innerHTML}(),l="undefined"!=typeof document&&!!document.createElementNS,d=t.attr.setAttribute,h=u?function(t){return t.cloneNode(!0)}:function(e){var i;if(1===e.nodeType?i=document.createElement(e.nodeName):3===e.nodeType?i=document.createTextNode(e.nodeValue):8===e.nodeType?i=document.createComment(e.nodeValue):11===e.nodeType&&(i=document.createDocumentFragment()),e.attributes){var n=t.makeArray(e.attributes);t.each(n,function(t){t&&t.specified&&d(i,t.nodeName,t.nodeValue)})}return e.childNodes&&t.each(e.childNodes,function(t){i.appendChild(h(t))}),i};return s.keepsTextNodes=c,t.view.target=s,s}),define("can/view/mustache_core",["can/util/library","can/view/utils","can/view/mustache_helpers","can/view/expression","can/view/live","can/elements","can/view/scope","can/view/node_lists"],function(t,e,i,n,o,r,s,a){o=o||t.view.live,r=r||t.view.elements,s=s||t.view.Scope,a=a||t.view.nodeLists;var c=/(?:(?:^|(\r?)\n)(\s*)(\{\{([^\}]*)\}\}\}?)([^\S\n\r]*)($|\r?\n))|(\{\{([^\}]*)\}\}\}?)/g,u=function(t,e,i,n){for(var o="",r=0,s=t.length;r<s;r++)o+=i.fn(e?t.attr(""+r):t[r],n);return o},l=function(){},d={expression:n,makeEvaluator:function(i,o,r,s,a,c,l,d){if("^"===s){var h=c;c=l,l=h}var p,f;if(a instanceof n.Call){if(f={fn:function(){},inverse:function(){},context:i.attr("."),scope:i,nodeList:r,exprData:a,helpersScope:o},e.convertToScopes(f,i,o,r,c,l,d),p=a.value(i,o,f),a.isHelper)return p}else{var g={isArgument:!0,args:[i.attr("."),i],asCompute:!0},m=a.helperAndValue(i,o,g,r,c,l,d),b=m.helper;if(p=m.value,b)return a.evaluator(b,i,o,g,r,c,l,d)}return s?"#"===s||"^"===s?(f={fn:function(){},inverse:function(){}},e.convertToScopes(f,i,o,r,c,l,d),function(){var n;if("function"==typeof(n=t.isFunction(p)&&p.isComputed?p():p))return n;if(e.isArrayLike(n)){var r=e.isObserveLike(n);return(r?n.attr("length"):n.length)?d?u(n,r,f,o):t.frag(e.getItemsFragContent(n,f,i)):f.inverse(i,o)}return n?f.fn(n||i,o):f.inverse(i,o)}):void 0:p&&p.isComputed?p:function(){return""+(null!=p?p:"")}},makeLiveBindingPartialRenderer:function(e,i){return e=t.trim(e),function(n,r,s){var c=[this];c.expression=">"+e,a.register(c,null,s||!0,i.directlyNested);var u=t.compute(function(){var i,o=e,s=r.attr("partials."+o);if(s)i=function(){return s.render?s.render(n,r,c):s(n,r)};else{var a=n.read(o,{isArgument:!0}).value;if(null===a||!a&&"*"===o[0])return t.frag("");a&&(o=a),i=function(){return t.isFunction(o)?o(n,r,c):t.view.render(o,n,r,c)}}var u=t.__notObserve(i)();return t.frag(u)});u.computeInstance.setPrimaryDepth(c.nesting),o.html(this,u,this.parentNode,c)}},makeStringBranchRenderer:function(t,e){var i=d.expression.parse(e),o=t+e;return i instanceof n.Helper||i instanceof n.Call||(i=new n.Helper(i,[],{})),function(e,n,r,s){var a=e.__cache[o];!t&&a||(a=h(e,n,null,t,i,r,s,!0),t||(e.__cache[o]=a));var c=a();return null==c?"":""+c}},makeLiveBindingBranchRenderer:function(e,i,s){var c=d.expression.parse(i);return c instanceof n.Helper||c instanceof n.Call||(c=new n.Helper(c,[],{})),function(n,u,d,p,f){var g=[this];g.expression=i,a.register(g,null,d||!0,s.directlyNested);var m,b=h(n,u,g,e,c,p,f,s.tag),v=b.isComputed;m=v?b:t.compute(b,null,!1),m.computeInstance.setPrimaryDepth(g.nesting),m.computeInstance.bind("change",l);var y=m();"function"==typeof y?t.__notObserve(y)(this):v||m.computeInstance.hasDependencies?s.attr?o.simpleAttribute(this,s.attr,m):s.tag?o.attributes(this,m):s.text&&"object"!=typeof y?o.text(this,m,this.parentNode,g):o.html(this,m,this.parentNode,g):s.attr?t.attr.set(this,s.attr,y):s.tag?o.setAttributes(this,y):s.text&&"string"==typeof y?this.nodeValue=y:null!=y&&r.replace([this],t.frag(y,this.ownerDocument)),m.computeInstance.unbind("change",l)}},splitModeFromExpression:function(e,i){e=t.trim(e);var n=e.charAt(0);return"#/{&^>!".indexOf(n)>=0?e=t.trim(e.substr(1)):n=null,"{"===n&&i.node&&(n=null),{mode:n,expression:e}},cleanLineEndings:function(t){return t.replace(c,function(t,e,i,n,o,r,s,a,c,u){r=r||"",e=e||"",i=i||"";var l=p(o||c,{});return a||">{".indexOf(l.mode)>=0?t:"^#!/".indexOf(l.mode)>=0?n+(0!==u&&s.length?e+"\n":""):i+n+r+(i.length||0!==u?e+"\n":"")})},Options:e.Options},h=d.makeEvaluator,p=d.splitModeFromExpression;return t.view.mustacheCore=d,d}),define("can/view/html_section",["can/util/library","can/view/target","can/view/utils","can/view/mustache_core"],function(t,e,i,n){var o="undefined"!=typeof document&&function(){var t=document.createElement("div");return function(e){return-1===e.indexOf("&")?e.replace(/\r\n/g,"\n"):(t.innerHTML=e,0===t.childNodes.length?"":t.childNodes.item(0).nodeValue)}}(),r=function(){this.stack=[new s]};t.extend(r.prototype,i.mixins),t.extend(r.prototype,{startSubSection:function(t){var e=new s(t);return this.stack.push(e),e},endSubSectionAndReturnRenderer:function(){if(this.last().isEmpty())return this.stack.pop(),null;var e=this.endSection();return t.proxy(e.compiled.hydrate,e.compiled)},startSection:function(t){var e=new s(t);this.last().add(e.targetCallback),this.stack.push(e)},endSection:function(){return this.last().compile(),this.stack.pop()},inverse:function(){this.last().inverse()},compile:function(){var e=this.stack.pop().compile();return function(i,o,r){return i instanceof t.view.Scope||(i=t.view.Scope.refsScope().add(i||{})),o instanceof n.Options||(o=new n.Options(o||{})),e.hydrate(i,o,r)}},push:function(t){this.last().push(t)},pop:function(){return this.last().pop()}});var s=function(e){this.data="targetData",this.targetData=[],this.targetStack=[];var i=this;this.targetCallback=function(n,o,r){e.call(this,n,o,r,t.proxy(i.compiled.hydrate,i.compiled),i.inverseCompiled&&t.proxy(i.inverseCompiled.hydrate,i.inverseCompiled))}};return t.extend(s.prototype,{inverse:function(){this.inverseData=[],this.data="inverseData"},push:function(t){this.add(t),this.targetStack.push(t)},pop:function(){return this.targetStack.pop()},add:function(e){"string"==typeof e&&(e=o(e)),this.targetStack.length?t.last(this.targetStack).children.push(e):this[this.data].push(e)},compile:function(){return this.compiled=e(this.targetData,t.document||t.global.document),this.inverseData&&(this.inverseCompiled=e(this.inverseData,t.document||t.global.document),delete this.inverseData),this.targetStack=this.targetData=null,this.compiled},children:function(){return this.targetStack.length?t.last(this.targetStack).children:this[this.data]},isEmpty:function(){return!this.targetData.length}}),r.HTMLSection=s,r}),define("can/view/live_attr",["can/util/library","can/view/live","can/elements","can/view/callbacks"],function(t,e,i,n){return e=e||t.view.live,i=i||t.view.elements,n=n||t.view.callbacks,{attributes:function(o,r,s,a){var c={},u=function(r){var u,l=e.getAttributeParts(r);for(u in l){var d=l[u];if(d!==c[u]){t.attr.set(o,u,d);var h=n.attr(u);h&&h(o,{attributeName:u,scope:s,options:a})}delete c[u]}for(u in c)i.removeAttr(o,u);c=l},l=function(t,e){u(e)};r.bind("change",l),t.bind.call(o,"removed",function(){r.unbind("change",l)}),u(r())}}}),define("can/view/text_section",["can/util/library","can/view/live","can/view/utils","can/view/live_attr"],function(t,e,i,n){e=e||t.view.live;var o=function(){this.stack=[new s]};t.extend(o.prototype,i.mixins),t.extend(o.prototype,{startSection:function(t){var e=new s;this.last().add({process:t,truthy:e}),this.stack.push(e)},endSection:function(){this.stack.pop()},inverse:function(){this.stack.pop();var t=new s;this.last().last().falsey=t,this.stack.push(t)},compile:function(i){var o=this.stack[0].compile();return function(r,s){var a=t.compute(function(){return o(r,s)},null,!1);a.computeInstance.bind("change",t.k);var c=a();a.computeInstance.hasDependencies?(i.textContentOnly?e.text(this,a):i.attr?e.simpleAttribute(this,i.attr,a):n.attributes(this,a,r,s),a.computeInstance.unbind("change",t.k)):i.textContentOnly?this.nodeValue=c:i.attr?t.attr.set(this,i.attr,c):e.setAttributes(this,c)}}});var r=function(t,e,i){return function(n,o){return t.call(this,n,o,e,i)}},s=function(){this.values=[]};return t.extend(s.prototype,{add:function(t){this.values.push(t)},last:function(){return this.values[this.values.length-1]},compile:function(){for(var t=this.values,e=t.length,i=0;i<e;i++){var n=this.values[i];"object"==typeof n&&(t[i]=r(n.process,n.truthy&&n.truthy.compile(),n.falsey&&n.falsey.compile()))}return function(i,n){for(var o,r="",s=0;s<e;s++)o=t[s],r+="string"==typeof o?o:o.call(this,i,n);return r}}}),o}),define("can/view/import",["can/util/library","can/view/callbacks"],function(t){t.view.tag("can-import",function(e,i){var n,o=t.$(e),r=e.getAttribute("from"),s=i.options.attr("helpers.module"),a=s?s.id:void 0;n=r?t.import(r,a):t.Deferred().reject("No moduleName provided").promise();var c=i.scope.attr("%root");c&&t.isFunction(c.waitFor)&&c.waitFor(n),t.data(o,"viewModel",n),t.data(o,"scope",n);var u=i.scope.add(n),l=e.getAttribute("can-tag");if(l){var d=t.view.tag(l);t.data(o,"preventDataBindings",!0),d(e,t.extend(i,{scope:u})),t.data(o,"preventDataBindings",!1),t.data(o,"viewModel",n),t.data(o,"scope",n)}else{var h=i.subtemplate?i.subtemplate(u,i.options):document.createDocumentFragment(),p=t.view.nodeLists.register([],void 0,!0);t.one.call(e,"removed",function(){t.view.nodeLists.unregister(p)}),t.appendChild(e,h,t.document),t.view.nodeLists.update(p,t.childNodes(e))}})}),define("can/view/intermediate_and_imports",["can/view/mustache_core","can/view/parser","can/view/import"],function(t,e){return function(i){var n=t.cleanLineEndings(i),o=[],r=[],s={},a=!1,c=!1,u=!1,l=!1,d="",h="";return{intermediate:e(n,{start:function(t,e){l=e,"can-import"===t?a=!0:a&&(a=!1)},attrStart:function(t){"from"===t?c=!0:"as"!==t&&"export-as"!==t||(u=!0)},attrEnd:function(t){"from"===t?c=!1:"as"!==t&&"export-as"!==t||(u=!1)},attrValue:function(t){c&&a?(o.push(t),l||r.push(t),h=t):u&&a&&(d=t)},end:function(t){"can-import"===t&&d&&(s[d]=h,d="")},close:function(t){"can-import"===t&&o.pop()}},!0),imports:o,dynamicImports:r,ases:s,exports:s}}}),define("can/view/stache",["can/util/library","can/view/parser","can/view/target","can/view/html_section","can/view/text_section","can/view/mustache_core","can/view/mustache_helpers","can/view/intermediate_and_imports","can/view/callbacks","can/view/bindings"],function(t,e,i,n,o,r,s,a,c){function u(i){"string"==typeof i&&(i=r.cleanLineEndings(i));var s=new n,a={node:null,attr:null,sectionElementStack:[],text:!1,namespaceStack:[],textContentOnly:null},u=function(t,e,i){if(">"===e)t.add(r.makeLiveBindingPartialRenderer(i,h()));else if("/"===e)t.endSection(),t instanceof n&&a.sectionElementStack.pop();else if("else"===e)t.inverse();else{var o=t instanceof n?r.makeLiveBindingBranchRenderer:r.makeStringBranchRenderer;"{"===e||"&"===e?t.add(o(null,i,h())):"#"===e||"^"===e?(t.startSection(o(e,i,h())),t instanceof n&&a.sectionElementStack.push("section")):t.add(o(null,i,h({text:!0})))}},h=function(e){var i=a.sectionElementStack[a.sectionElementStack.length-1],n={tag:a.node&&a.node.tag,attr:a.attr&&a.attr.name,directlyNested:!a.sectionElementStack.length||("section"===i||"custom"===i),textContentOnly:!!a.textContentOnly};return e?t.simpleExtend(n,e):n},p=function(t,e){t.attributes||(t.attributes=[]),t.attributes.unshift(e)};return e(i,{start:function(e,i){var n=l[e];n&&!i&&a.namespaceStack.push(n),a.node={tag:e,children:[],namespace:n||t.last(a.namespaceStack)}},end:function(t,e){var i=c.tag(t);e?(s.add(a.node),i&&p(a.node,function(e,i,n){c.tagHandler(this,t,{scope:e,options:i,subtemplate:null,templateType:"stache",parentNodeList:n})})):(s.push(a.node),a.sectionElementStack.push(i?"custom":t),i?s.startSubSection():d[t]&&(a.textContentOnly=new o)),a.node=null},close:function(t){l[t]&&a.namespaceStack.pop();var e,i=c.tag(t);i&&(e=s.endSubSectionAndReturnRenderer()),d[t]&&(s.last().add(a.textContentOnly.compile(h())),a.textContentOnly=null);var n=s.pop();i&&p(n,function(i,n,o){c.tagHandler(this,t,{scope:i,options:n,subtemplate:e,templateType:"stache",parentNodeList:o})}),a.sectionElementStack.pop()},attrStart:function(t){a.node.section?a.node.section.add(t+'="'):a.attr={name:t,value:""}},attrEnd:function(t){if(a.node.section)a.node.section.add('" ');else{a.node.attrs||(a.node.attrs={}),a.node.attrs[a.attr.name]=a.attr.section?a.attr.section.compile(h()):a.attr.value;var e=c.attr(t);e&&(a.node.attributes||(a.node.attributes=[]),a.node.attributes.push(function(i,n,o){e(this,{attributeName:t,scope:i,options:n,nodeList:o})})),a.attr=null}},attrValue:function(t){var e=a.node.section||a.attr.section;e?e.add(t):a.attr.value+=t},chars:function(t){(a.textContentOnly||s).add(t)},special:function(t){var e=r.splitModeFromExpression(t,a),i=e.mode,n=e.expression;if("else"===n){var c;return c=a.attr&&a.attr.section?a.attr.section:a.node&&a.node.section?a.node.section:a.textContentOnly||s,void c.inverse()}if("!"!==i)if(a.node&&a.node.section)u(a.node.section,i,n),0===a.node.section.subSectionDepth()&&(a.node.attributes.push(a.node.section.compile(h())),delete a.node.section);else if(a.attr)a.attr.section||(a.attr.section=new o,a.attr.value&&a.attr.section.add(a.attr.value)),u(a.attr.section,i,n);else if(a.node)if(a.node.attributes||(a.node.attributes=[]),i){if("#"!==i&&"^"!==i)throw new Error(i+" is currently not supported within a tag.");a.node.section||(a.node.section=new o),u(a.node.section,i,n)}else a.node.attributes.push(r.makeLiveBindingBranchRenderer(null,n,h()));else u(a.textContentOnly||s,i,n)},comment:function(t){s.add({comment:t})},done:function(){}}),s.compile()}e=e||t.view.parser,t.view.parser=e,c=c||t.view.callbacks;var l={svg:"http://www.w3.org/2000/svg",g:"http://www.w3.org/2000/svg"},d={style:!0,script:!0},h={"\n":"\\n","\r":"\\r","\u2028":"\\u2028","\u2029":"\\u2029"},p=function(t){return(""+t).replace(/["'\\\n\r\u2028\u2029]/g,function(t){return"'\"\\".indexOf(t)>=0?"\\"+t:h[t]})};return t.view.register({suffix:"stache",contentType:"x-stache-template",fragRenderer:function(t,e){return u(e)},script:function(t,e){return'can.stache("'+p(e)+'")'}}),t.view.ext=".stache",t.extend(t.stache,s),t.extend(u,s),t.stache.safeString=u.safeString=function(t){return{toString:function(){return t}}},t.stache.async=function(e){var i=a(e),n=t.map(i.imports,function(e){return t.import(e)});return t.when.apply(t,n).then(function(){return u(i.intermediate)})},u}),define("dom/personalization/hero/HeroView",["can","text!./HeroTemplate.mustache","can/view/stache"],function(t,e){"use strict";return t.view.stache(e)}),define("dom/personalization/hero/HeroControl",["can","debug","../PersonalizationModel","./HeroView"],function(t,e,i,n){"use strict";return t.Control.extend({defaults:{debug:!1}},{init:function(n,o){this.debug=new e("",{debug:this.options.debug,control:"Hero"}),this.element=void 0!==n?n:this.element,i.isLoggedIn()?void 0!==this.element&&this.element.length>0?t.isEmptyObject(o)||t.isEmptyObject(o.hero)?(this.debug.log("Custom experience not found"),this.element.removeClass("hero2-hidden")):this.loadExperience(o.hero):this.debug.log("Element not found"):this.debug.log("User is not logged in")},getExperience:function(t){return this.debug.log("Getting hero experience based on user type"),i.isUserType("paid")||i.isUserType("paid-org")?t.paid:t.free},loadExperience:function(e){var o=this.getExperience(e);t.isEmptyObject(o)?(this.debug.log("Custom experience not found"),this.element.removeClass("hero2-hidden")):(this.debug.log("Serving custom experience"),this.debug.log(i.userStatus()),this.debug.log(o),this.element.replaceWith(new n(o)))}})}),define("dom/personalization/PersonalizationControl",["can","debug","tools/js/services/Subscriber","./lobby/LobbyControl","./anchornav/AnchorControl","./promobar/PromoBarControl","./merchpod/MerchPodControl","./catalog/CatalogControl","./hero/HeroControl","./PersonalizationModel","tools/js/utils/LangUtil"],function(t,e,i,n,o,r,s,a,c,u,l){"use strict";return t.Control.extend({defaults:{gnavColor:"#fff",gnavHoverColor:"#fff",timeout:3e3,debug:!1,entsChecked:!1}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"Personalization"}),this.body=t.$("body"),this.home=this.body.find("main.lobby"),this.hero=this.body.find("> .hero2"),this.anchorFeature=this.body.find("[data-anchornav-feature]").length>0,this.promoFeature=this.body.find("[data-promo-feature]").length>0,this.promoComponents=this.body.find("aside.promo"),this.imsReadyTriggered=!1,u.getJsonData().done(function(){t.$(document).trigger("aceui-DataStored")}),this.isLobby()?this.lobbyFailSafe():this.promoFailSafe()},getUserSubscribedPlans:function(){var e=[],i=[],n=u.getUserSubscriptions();n&&(this.debug.log(["subscription data:",n]),t.$.each(n,function(t,n){e.push(n.productCode),i.push(n.marketSegment)}),u.setData(u.keys.subscriptionData,e),u.setData(u.keys.subscriptionMarketSegment,i))},newPromoComponents:function(e,i){var n,o=i&&i.promos?i.promos:"";Boolean(e.length)&&o&&t.$(e).each(function(t,e){this.debug.log("promo component id: ",e.getAttribute("id")),n=e.getAttribute("id")||"",o[n]&&(this.debug.log("promo component with matching data: ",e,o[n]),i.promo=o[n],new r(e,i))}.bind(this))},passOn:function(t){this.data=t,this.isLobby()?u.isLoggedIn()&&(this.data.loggedin=!0,this.lobby=new n(this.home,this.data)):(new a(this.body.find(".catalog.desktop"),t),new s(this.body.find(".merchpod")),new c(this.hero,t),this.newPromoComponents(this.promoComponents,t),this.entitlements=u.getData(u.keys.entitlements),this.debug.log("this.entitlements",this.entitlements),u.isUserType("deprovisioned")?(this.debug.log("user is deprovisioned",u.isUserType("deprovisioned")),this.body.trigger("aceui-Entitlements")):this.entitlements||(this.debug.log("running entitlements"),u.getEntitlements()))},isLobby:function(){return this.home.length>0},hasHero:function(){return this.debug.log("hero.length",this.hero.length),this.hero.length>0},lobbyFailSafe:function(){window.Adobe.AceUI.Failsafe=setTimeout(t.proxy(function(){this.debug.log("Running fail safe fadeIn"),void 0===this.lobby&&(this.debug.log("There is no lobby emergency measures"),this.lobby=new n(this.home,{loggedin:!1}))},this),this.options.timeout)},promoFailSafe:function(){window.Adobe.AceUI.PromoFailSafe=setTimeout(t.proxy(function(){t.addClass(t.$(".promo .grid-row"),"fadeIn"),t.addClass(t.$(".Subnav-wrapper nav .Subnav-menu-button"),"fadeIn")},this),this.options.timeout)},assignBodyImsClasses:function(){u.isLoggedIn()&&!u.isUserType("free")?(this.userStatus||(this.userStatus=u.userStatus()),this.userStatus&&-1!==this.userStatus.status.indexOf("paid")?this.body.addClass("logged-in-paid").removeClass("logged-in-free logged-out"):this.body.addClass("logged-in-free").removeClass("logged-in-paid logged-out")):this.body.addClass("logged-out").removeClass("logged-in-paid logged-in-free"),t.$(document).trigger("aceui_imsStateSet")},"{window} aceui-OrgReady":function(){this.debug.log("aceui-OrgReady fired"),this.assignBodyImsClasses(),this.debug.log(["this.userData",this.userData]),l.isNullish(this.userData)||(clearTimeout(window.Adobe.AceUI.Failsafe),this.passOn(this.userData))},"{window} aceui-DataStored":function(){this.debug.log("aceui-DataStored triggered"),this.userData=u.getData(u.keys.userData),!this.hasHero()||t.isEmptyObject(this.userData.hero)||window.adobeIMS||(this.debug.log("Hide default hero until experience is determined"),this.hero.addClass("hero2-hidden"))},checkProductPlan:function(e,i){var n,o=l.getPropertySafely(i,"promos");Boolean(e.length)&&o&&t.$(e).each(function(t,e){if(this.debug.log("promo component id: ",e.getAttribute("id")),n=e.getAttribute("id")||"",o[n]&&(this.debug.log("promo component with matching data: ",e,o[n]),this.hasJIL=!!l.getPropertySafely(i,"anchor.productPlan")||!!l.getPropertySafely(o,n+".productPlan"),this.hasJIL))return!1}.bind(this))},"{window} adobeGlobalnav:GlobalnavReady":function(){this.debug.log("adobeGlobalnav:GlobalnavReady triggered"),this.imsReadyTriggered||void 0!==window.adobeIMS&&(!window.adobeIMS||window.adobeIMS.isReady())||(this.debug.log("adobeGNav:ImsReady has not been triggered. Manually trigger the event as a fallback"),u.setLoggedIn(!1),t.$("body").trigger("adobeGNav:ImsReady"))},"{window} adobeGNav:ImsReady":function(){if(this.imsReadyTriggered)return void this.debug.log("adobeGNav:ImsReady already triggered");this.imsReadyTriggered=!0,this.debug.log("adobeGNav:ImsReady triggered"),this.userData=u.getData(u.keys.userData),this.debug.log("adobeGNav:ImsReady data and user state",this.userData,u.isLoggedIn()),this.debug.log("adobeGNav:ImsReady data hasJIL",this.hasJIL),!u.isLoggedIn()||u.isUserType("free")?(this.debug.log("Not logged in, running logged out scenarios"),this.assignBodyImsClasses(),this.isLobby()?(clearTimeout(window.Adobe.AceUI.Failsafe),this.lobby=new n(this.home,{loggedin:!1})):(this.hasHero()&&this.hero.hasClass("hero2-hidden")&&(this.debug.log("Show default hero"),this.hero.removeClass("hero2-hidden")),new o(this.body.find("nav.Subnav"),this.userData),this.newPromoComponents(this.promoComponents,this.userData),new a(this.body.find(".catalog.desktop"),this.userData))):(this.subscriber=new i,this.checkProductPlan(this.promoComponents,this.userData),!this.hasJIL||this.anchorFeature||this.promoFeature||(this.debug.log("this.hasJIL not false and !this.anchorFeature, running JIL subscriptions check"),this.subscriber.getUserSubscribedItems()),void 0!==this.promoFeature&&this.newPromoComponents(this.promoComponents,this.userData))},"{window} aceui-Entitlements":function(){var t=this.isLobby();this.debug.log("aceui-Entitlements triggered"),u.isLoggedIn()&&!this.options.entsChecked&&(this.entitlements=u.getData(u.keys.entitlements),this.debug.log("Pers Control: this.entitlements",this.entitlements),this.debug.log("lobby",t),this.debug.log("found this.anchorFeature?",this.anchorFeature),t||(this.options.entsChecked=!0,new o(this.body.find("nav.Subnav"),this.data)))},"{window} adobeUserPlansReady":function(){this.debug.log("adobeUserPlansReady triggered"),!this.anchorFeature&&this.hasJIL&&this.options.entsChecked?(this.debug.log("adobeUserPlansReady and this.hasJIL and this.options.entsChecked"),this.getUserSubscribedPlans(),new o(this.body.find("nav.Subnav"),this.data)):this.hasJIL&&!this.options.entsChecked?(this.debug.log("Waiting for Entitlements to finish..."),t.$("body").on("aceui-Entitlements",t.proxy(function(){this.debug.log("Had to wait for Entitlements to finish"),this.getUserSubscribedPlans(),this.anchorFeature||new o(this.body.find("nav.Subnav"),this.data)},this))):this.debug.log("adobeUserPlansReady but nothing else. this.anchorFeature?",this.anchorFeature),this.hasJIL&&this.getUserSubscribedPlans(),this.newPromoComponents(this.promoComponents,this.data)}})}),
define("dom/personalization/SeedPersonalization",["linseed!./PersonalizationControl"],function(t){"use strict";return t("seed-personalization").seedEach()}),define("text!dom/personalization/artist/ArtistView.mustache",[],function(){return'<cite{{#if position}} class="{{position}}"{{/if}}>\n\t<p>\n\t\t<a title="{{title}} {{preposition}} {{artist}}" href="{{url}}"{{#if target}} target="{{target}}" {{/if}}>\n\t\t\t{{#if icon}}<i class="{{icon}}"></i>{{/if}}<q>{{title}}&nbsp;<span class="artist">{{preposition}} {{artist}}</span></q>\n\t\t</a>\n\t</p>\n</cite>\n'});define("dom/personalization/artist/ArtistView",["module","can/view/mustache","text!./ArtistView.mustache"],function(t,e,i){"use strict";return e.view.mustache(i)}),define("dom/personalization/artist/ArtistControl",["can","debug","tools/js/utils/LangUtil","./ArtistView","../PersonalizationModel"],function(t,e,i,n,o){"use strict";return t.Control.extend({defaults:{debug:!1}},{init:function(n,o){this.debug=new e("",{debug:this.options.debug,control:"Artist"}),this.debug.log("----------------------------------------Artist--------------------------------------------------"),this.element=void 0!==n?n:this.element,this.selector=i.isNullish(this.element.data("seed-artist"))?"home":this.element.data("seed-artist"),this.userData=null,o=i.isNullish(o)?{}:o,void 0!==this.element&&this.element.length>0&&(i.isNullish(o.cite)?this.debug.log(["Artist: data.cite not found, waiting for {event} aceui-DataStored",o.cite]):(this.debug.log(["Found data.cite:",o.cite]),this.setView(o,"home"),t.$(window).unbind("aceui-DataStored")))},setView:function(t,e){this.debug.log(["setView: data & selector",t,e]),i.isNullish(t.cite)||i.isNullish(t.cite[e])||this.element.append(new n(t.cite[e])),this.debug.log("parseUserdata View loaded")},"{window} aceui-DataStored":function(){this.userData=o.getData(o.keys.userData),this.debug.log(["aceui-DataStored: this.userData",this.userData]),i.isNull(this.userData)||this.setView(this.userData,this.selector)}})}),define("dom/personalization/artist/SeedArtist",["linseed!./ArtistControl"],function(t){"use strict";return t("seed-artist").seedEach()}),define("dom/banner/BannerModel",["can","../personalization/PersonalizationModel","tools/js/http/Platform","can/model"],function(t,e,i){"use strict";var n=i.info();return t.Model.extend({getBannerData:function(){return e.getData(e.keys.userData)},isIOS:function(t){return n.os.family.toLowerCase().indexOf(t.ios)>-1},getApi:function(e){return t.$.getScript(e)},isAndroid:function(t){return n.os.family.toLowerCase().indexOf(t.android)>-1},checkMobile:function(t){return this.isAndroid(t)||this.isIOS(t)}},{})}),define("text!dom/banner/BannerView.mustache",[],function(){return'<a class="close">x</a>\n{{#if artwork}}\n\t<img class="banner-icon" src="{{artwork}}">\n{{else}}\n\t<i class="banner-icon {{icon}}"></i>\n{{/if}}\n<div class="banner-content">\n\t{{#if title}}<div class="banner-title">{{title}}</div>{{/if}}\n\t{{#if author}}<div class="banner-author">{{author}}</div>{{/if}}\n\t{{#if stars}}<div class="banner-reviews" title="{{rating}}">{{#each stars}}<i class="{{.}}" aria-hidden="true"></i>{{/each}}</div>{{/if}}\n\t{{#if ratingCount}}<div class="banner-num-ratings">({{ratingCount}})</div>{{/if}}\n\t{{#if subtitle}}<div class="banner-subtitle">{{subtitle}}</div>{{/if}}\n</div>\n{{#if downloadLink}}{{#if download}}<a class="banner-download" href="{{downloadLink}}">{{download}}</a>{{/if}}{{/if}}\n'}),define("dom/banner/BannerView",["module","can/view/mustache","text!./BannerView.mustache"],function(t,e,i){"use strict";return e.view.mustache(i)}),define("dom/banner/BannerControl",["can","debug","tools/js/utils/LangUtil","./BannerModel","./BannerView"],function(t,e,i,n,o){"use strict";return t.Control.extend({defaults:{debug:!1,ios:"ios",android:"android",iOSapi:"https://itunes.apple.com/lookup?id=",star:"fa-star",halfStar:"fa-star-half-o",emptyStar:"fa-star-o"}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"Banner"}),this.debug.log("----------------------------------------Banner--------------------------------------------------"),this.launch=n.checkMobile(this.options),this.test="test"===this.element.data("seed-banner"),this.iosAppId=i.isNullish(this.element.data("banner-ios-appid"))?null:this.element.data("banner-ios-appid")},setView:function(t){this.debug.log(["setView: data & selector",t]),i.isNullish(t)||(this.element.append(new o(t)),this.debug.log("Banner View loaded"),this.closeBanner())},closeBanner:function(){var e=this.element.find(".close");e.click(t.proxy(function(){this.element.hide(0,function(){t.$(window).trigger("aceui-topMessageClose")}),e.unbind("click")},this))},platform:function(){return n.isIOS(this.options)?this.forIOS():this.forAndroid()},forIOS:function(){var e=this.options.iOSapi+this.iosAppId+"&callback=Adobe.AceUI.Banner.Callback";window.Adobe.AceUI.Banner={},window.Adobe.AceUI.Banner.Callback=t.proxy(function(t){t.resultCount>0&&this.checkData("ios")&&this.sortAppInfo(t,"ios")},this),n.getApi(e)},forAndroid:function(){this.checkData("android")&&(this.data.banner.android.rating=this.data.banner.android.stars,this.data.banner.android.stars=this.countStars(this.data.banner.android.stars),this.setView(this.data.banner.android),this.element.show(0,function(){t.$(window).trigger("aceui-topMessageOpen")}))},checkData:function(t){var e=!i.isNullish(this.data)&&!i.isNullish(this.data.banner),n=!1;return e&&(n=!0,this.debug.log(["checkData:",n])),e&&!i.isNullish(t)&&(n=!i.isNullish(this.data.banner[t]),this.debug.log(["!LangUtil.isNullish(os):",!i.isNullish(t)])),n},sortAppInfo:function(e,i){var n=e.results[0],o={artwork:n.artworkUrl60,title:n.trackCensoredName,author:n.artistName,rating:n.averageUserRating,stars:this.countStars(n.averageUserRating),ratingCount:n.userRatingCount,subtitle:this.data.banner[i].subtitle,downloadLink:this.data.banner[i].downloadLink,download:this.data.banner[i].download};this.debug.log(["sortAppInfo data",e]),this.debug.log(["appInfo",o]),this.setView(o),this.element.show(0,function(){t.$(window).trigger("aceui-topMessageOpen")})},countStars:function(t){var e,i=[],n=parseFloat(Math.floor(t)),o=t%1,r=5;for(e=0;e<n;e++)i.push(this.options.star);if(o>0&&i.push(this.options.halfStar),n+1<r)for(o>0?r=r-n-1:r-=n,e=0;e<r;e++)i.push(this.options.emptyStar);return i},"{window} aceui-DataStored":function(){this.data=n.getBannerData(),void 0!==this.element&&this.element.length>0&&(this.checkData()&&(this.launch||this.test)?(this.debug.log(["Found this.data.banner:",this.data.banner]),this.platform()):this.debug.log(["Banner conditions not met:",this.data.banner,"this.launch",this.launch,"this.test",this.test]))}})}),define("dom/banner/SeedBanner",["linseed!./BannerControl"],function(t){"use strict";return t("seed-banner").seedEach()}),define("forms/js/project/faasObject",["can","jquery","tools/js/http/URLParser"],function(t,e,i){"use strict";return function(n,o){!function(){e(n).ready(function(r){function s(t){var e=b.split("#"),i=e[0].split("?"),n=i[0],o=i[1],r=e[1],s=n;s+=o&&""!==o?"?"+o+t:"?"+t.substr(1),r&&""!==r&&(s+="#"+r),b=s}var a,c,u,l,d,h,p,f,g=new i,m=[{id:"edtamo",condition:"^true$"}],b=o.destinationurl;a=Boolean(o.faascampid)?o.faascampid.match(/^[a-zA-Z0-9]/):"",c=null===a&&Boolean(o.faascampid)?JSON.parse(o.faascampid):"",u="object"==typeof c?{103:{c:c}}:void 0,l=g.checkQueryParam("s_osc")?g.getQueryParam("s_osc"):null,h=o.hideprepopulated&&"true"===o.hideprepopulated,function(){var t,e,i,n=0,o=m.length,r="";for(n;n<o;n++)t=m[n],t.id&&g.checkQueryParam(t.id)&&(i=g.getQueryParam(t.id),t.condition&&""!==t.condition?(e=new RegExp(t.condition),i&&e.test(i)&&(r+="&"+t.id+"="+i)):r+="&"+t.id+(i&&""!==i?"="+i:""));""!==r&&""!==b&&s(r)}(),p=function(){var e,i=o.customizablequestionids,n=i?i.split(","):[],r={};return n.length>0&&t.each(n,function(t,i){e=o["customizeddropdown"+t],e&&isNaN(e)?e.indexOf(",")>-1&&(r[t]={c:e.split(",")}):e&&(r[t]={c:[e]})}),r}(),f=!!o.multicampaignradiostyle&&o.multicampaignradiostyle,d={id:Number(o.faasid),l:o.faaslang?o.faaslang:"en_us",d:b,as:o.faasautosubmit?o.faasautosubmit:0,pc:function(){var e,i={1:"js",2:"faas_submission",3:"sfdc",4:"demandbase"},n=o.prepopulated;return n&&""!==n&&(n=n.replace("[","").replace("]","").split(","),t.each(Object.keys(i),function(t){e=Number(t-1),i[t]=n[e]&&""!==n[e]?n[e]:""})),i}(),q:{},p:{js:{36:null!==a?o.faascampid:"",39:Boolean(o.faasoosc)&&!l?o.faasoosc:l||"",77:1,78:1,79:1,90:"FAAS",92:Number(o.faastype)?Number(o.faastype):"",93:Number(o.faassubtype)?Number(o.faassubtype):"",94:o.faasprodinterest?Number(o.faasprodinterest):""}},e:{afterYiiLoadedCallback:function(){function t(t,n){var o=t[0].addedNodes,r=o[o.length-1].nodeValue,s=e(t[0].target).parents(".checkbox").siblings(".checkbox.error");i=0,e(s).css("height","4em");do{s[i].querySelector(".errorMessage").innerHTML=r,i++}while(s[i])}var i,r,s,a=["Required fields","Povinná pole","Pflichtfelder","Skal udfyldes","Champs obligatoires","Pakolliset kentät","Campi obbligatori","必須フィールド","Verplichte velden","Obligatoriske felt","Campos obligatorios","Obligatoriska fält","Pola wymagane","Обязательные поля","Os campos obrigatórios","필수 입력란","为必填项","為必填項","Zorunlu alanlar"];!function(){f&&e("#"+o.multicampaignradioid+" input").attr("type","radio")}(),e("span.required").remove(),s=function(){var t,n=e("p.note");for(i=0;n[i]?n[i]:void 0;i++)if(t=e(n[i]).text(),a.indexOf(t)>=0)return n[i]}(),function(){function t(t){for(i=0;Boolean(t[i]);i++)o=e(t[i]).siblings("label")[0],""!==(n=o instanceof HTMLElement?o.textContent:"")&&t[i].setAttribute("placeholder",n)}var n,o;t(e('.faasform input[type="text"]')),t(e(".faasform textarea"))}(),s&&e(s).remove(),e(".faasform").on("change",function(){e("span.required").css("display","none")}),o.faastitle&&e(".hash-window > .faasform").prepend('<div class="faastitle"><h3>'+o.faastitle.replace(/_/g," ")+"</h3></div>"),h&&e(n).find(".prepopulated").hide(),r=document.querySelectorAll(".hash-window .checkbox .errorMessage"),function(t,e){for(i=0;i<t.length;i++)e.observe(t[i],{childList:!0})}(r,function(t){return new MutationObserver(function(e){t(e,this)})}(t))}}},u&&(d.q=u),p&&!t.isEmptyObject(p)&&e.extend(d.q,p),e(n).faas(d)})}()}}),define("dom/hashwindow/HashWindowControl",["can","debug","dataConfigObject","forms/js/project/faasObject","interactive/js/ui/modal/TabIndexControl","tools/js/http/Platform","tools/js/utils/LangUtil"],function(t,e,i,n,o,r,s){"use strict";function a(t,e,i){if(t&&document.defaultView.getComputedStyle)return document.defaultView.getComputedStyle(t,null).getPropertyValue(e)===i}function c(t,e){var i,n,o,r=Object.keys(e);for(i=0;Boolean(o=r[i]);i++)"width"===o&&(n=t.parentElement.querySelector('[href^="#"]'),t.style[o]=e[o],n&&(n.style[o]=e[o])),"height"===o&&(t.style[o]=e[o])}return t.Control.extend({defaults:{debug:!1,close:'[href="#x"]',curTarg:void 0,noscroll:"root-noscroll"}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"HashWindow"}),this.dcon=new i,this.tabIndexControl=new o},removeFrame:function(e){t.$(e).find("iframe").remove()},showFrameSpinner:function(){t.$(".modal-spinner-wrap",this.element).addClass("is-spinning"),t.$("iframe",this.element).one("load",function(e){t.$(".modal-spinner-wrap",this.element).removeClass("is-spinning"),this.ensureScrollingOnIos()}.bind(this))},ensureScrollingOnIos:function(){var e,i=s.getPropertySafely(r.info(),"os.family"),n=!s.isNullish(i)&&i.toLowerCase().indexOf("ios")>-1;n&&(e=t.$(this.element).find("iframe"))&&e.length&&e.contents().find("html,body").css({overflow:"auto",height:"100%","-webkit-overflow-scrolling":"touch"})},video:function(e,i){var n;t.extend(this,{framed:function(){var t=e.querySelector("iframe"),n=e.querySelector(".iframe-wrapper"),o=e.querySelector(".modal-spinner-wrap"),r=(e.querySelector('[href^="#"]'),Boolean(t));t=t||document.createElement("iframe"),t.scrolling=i.scrolling?i.scrolling:"no",t.setAttribute("allowfullscreen",""),t.setAttribute("allow","autoplay; fullscreen"),-1===t.src.indexOf(i.frmsrc)&&(t.src=i.frmsrc),r||n.insertBefore(t,o),this.options.modal&&c(n,this.options.modal),this.element.hasClass("modal-with-spinner")&&this.showFrameSpinner()}}),this.html5=function(){return!1},i&&(n=i.control,this[n]())},form:function(e,i){var o,r=document.createElement("div");r.id="faaswr",r.classList.add("faasform"),e.insertBefore(r,e.querySelector('[href^="#"]')),e.classList.add("form"),t.extend(this,{faas:function(){new n(r,i)},maritz:function(){}}),i&&(o=i.control,this[o]())}," hashDomValidated":function(t){var e=this.options.curTarg=t[0],i=this.dcon.config(e.dataset);this.debug.log("curTarg",e),this.options.pgoffset=window.pageYOffset,document.documentElement.classList.add("root-noscroll"),this.tabIndexControl.disableBgTabbing("body",t),e.setAttribute("tabindex",1),this.debug.log("curTarg tabindex after:",e.tabIndex),e.focus(),this.debug.log("checking activeElement:",document.activeElement),i.modal&&(this.options.modal=i.modal),this.dcon.initor(e,i,this)},"{close} click":function(){var e=t.$(this.options.curTarg),i=e.find("iframe"),n=e.find(".faasform");i.length>=1&&(this.removeFrame(this.options.curTarg),this.options.curTarg=void 0),n.length>=1&&t.$(n).remove(),e.removeAttr("tabindex"),document.activeElement.blur(),document.documentElement.classList.remove("root-noscroll"),this.tabIndexControl.restoreBgTabbing(),window.scrollTo(0,this.options.pgoffset)},"{window} keyup":function(e,i){27===i.keyCode&&a(this.options.curTarg,"visibility","visible")&&(window.location.hash=t.$(this.options.close).attr("href"),t.$(this.options.close).trigger("click"))},"{window} hashchange":function(){void 0===this.options.curTarg||window.location.hash&&"#x"!==window.location.hash||t.$(this.options.close).trigger("click")}})}),define("dom/hashwindow/SeedHashWindow",["linseed!./HashWindowControl"],function(t){"use strict";return t().seedOn(document.querySelector("body"),"data-seed-hashwindow"),t("seed-hashwindow").seedEach()}),define("dom/lobby/LobbySelectorControl",["can","dataConfigObject","layout/js/background/Background","./LobbyContentView"],function(t,e,i,n){"use strict";function o(e,i,n,o){e.map(function(e){e.attributeName===i&&t.$(window).trigger(n)}),window.clearTimeout(window.Adobe.AceUI.Failsafe)}return t.Control.extend({defaults:{segmentAttribute:"data-seed-lobbyselector",target:function(){return document.querySelector(".channels figure:nth-of-type(1)")},eventName:"adobe-ttCampSet",timeout:0}},{init:function(){var e;e=new MutationObserver(t.proxy(function(t){o(t,this.options.segmentAttribute,this.options.eventName,this)},this)),e.observe(this.element[0],{attributes:!0})},bgprocessor:function(t){this.background=new i(t),this.background.dotheneedful()},callTemplate:function(t){var e=new n(t),i=document.createElement("div"),o=this.options.target();i.appendChild(e),o.outerHTML=i.innerHTML},"{window} adobe-ttCampSet":function(t,e){this.options.segment=this.element[0].getAttribute("data-seed-lobbyselector"),this.options.campaignNode=this.options.segment?window.Adobe.AceUI.campaigns[this.options.segment]:void 0,this.options.campaignNode&&this.callTemplate(this.options.campaignNode)}})}),define("dom/lobby/SeedLobbySelector",["linseed!./LobbySelectorControl"],function(t){"use strict";return t("seed-lobbyselector").seedEach()}),define("dom/lobby/LobbyAccessibility",["can","debug"],function(t,e){"use strict";return t.Control.extend({defaults:{debug:!1,inputs:'input[name="tab-visible"]'}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"LobbyAccessibility"}),this.inputs=this.element.find(this.options.inputs),this.figures=t.$(".channels > figure"),this.labels=t.$(".pod-items > label"),this.debug.log("init: this.inputs",this.inputs),this.debug.log("init: this.figures",this.figures),this.debug.log("init: this.labels",this.labels),this.checkAllItems()},checkAllItems:function(){this.checkInputs(),this.checkFigures(),this.checkLinks(),this.checkLabels()},checkInputs:function(){t.each(this.inputs,t.proxy(function(e){e.checked&&this.labels.length>0?t.$(e).attr("aria-hidden","false"):t.$(e).attr("aria-hidden","true")},this))},checkFigures:function(){t.each(this.figures,t.proxy(function(e,i){this.inputs[i].checked?t.$(e).attr("aria-hidden","false"):t.$(e).attr("aria-hidden","true")},this))},checkLinks:function(){var e;t.each(this.figures,t.proxy(function(i,n){e=t.$(i).find("a"),this.debug.log("checkLinks: links",e),t.each(e,t.proxy(function(e){this.inputs[n].checked?t.$(e).attr("tabindex","0"):t.$(e).attr("tabindex","-1")},this))},this))},checkLabels:function(){var e;t.each(this.figures,t.proxy(function(i,n){e=t.$(i).find("label"),this.debug.log("checkLabels: labels",e),t.each(e,t.proxy(function(e){this.inputs[n].checked?t.$(e).attr("tabindex","0"):t.$(e).attr("tabindex","-1")},this))},this))},"{inputs} change":function(t,e){this.debug.log("this.inputs change",e,t),this.checkAllItems()}})}),define("dom/lobby/SeedLobbyAccessibility",["linseed!./LobbyAccessibility"],function(t){"use strict";return t("seed-lobbyaccessibility").seedEach()}),define("text!dom/panels/PanelView.mustache",[],function(){return'<div class="panels-mobile" role="menu"></div>\n'}),define("dom/panels/PanelView",["module","can/view/mustache","text!./PanelView.mustache"],function(t,e,i){"use strict";return e.view.mustache(i)}),define("tools/js/utils/Accessibility",["can","debug"],function(t,e){"use strict";return new(t.Map.extend({define:{keymap:{value:{left_click:1,right_click:2,backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,caps_lock:20,escape:27,space:32,page_up:33,page_down:34,end:35,home:36,insert:45,delete:46,left:37,up:38,right:39,down:40,meta:91,asterisk:106,multiply:106,plus:107,minus:109,semicolon:186,equals:187,comma:188,period:190,slash:191,tick:192,open_bracket:219,back_slash:220,close_bracket:221,apostrophe:222}},debug:new e("",{debug:!1,control:"Accessibility"})}}))}),define("dom/panels/PanelControl",["can","debug","./PanelView","tools/js/utils/Accessibility"],function(t,e,i,n){"use strict";return t.Control.extend({defaults:{debug:!1,more:"#panel-more",mobile:".panels-mobile",mobileLabels:".panels-mobile > label",labels:"label:not([for=panel-more])",inputs:"> input:not([id=panel-more])",content:".panel-content"}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"Panels"}),this.inputs=this.element.find(this.options.inputs),this.nav=this.element.find("input ~ nav"),this.labels=this.nav.find(this.options.labels),this.moreActive=t.$(this.options.more),this.keys=n.keymap,this.toggleMore(!1),this.debug.log("init: this.inputs",this.inputs),this.debug.log("init: this.nav",this.nav),this.debug.log("init: this.labels",this.labels),this.debug.log("init: this.moreActive",this.moreActive),this.debug.log("init: this.keys",this.keys)},setView:function(e){this.nav.append(new i),t.each(e,t.proxy(function(e){t.$(e).clone().appendTo(this.options.mobile)},this))},findUnselected:function(){var e,i=[];return t.each(this.inputs,t.proxy(function(t){t.checked||(e=this.element.find('label[for="'+t.id+'"]'),i.push(e))},this)),this.debug.log("findUnselected: unchecked",i),i},killMenu:function(){t.$(this.options.mobile).remove()},toggleMore:function(e){this.moreActive.prop("checked",e),this.debug.log("uncheckMore: changing more button",this.moreActive.prop("checked")),t.$(this.options.more).change()},isMoreChecked:function(){return this.debug.log("isMoreChecked:",this.moreActive.prop("checked")),this.moreActive.prop("checked")},bindMobileMenu:function(){var e,i,n=t.$(this.options.mobile).find("label");this.debug.log("bindMobileMenu: menu",n),t.each(n,t.proxy(function(n){e=t.$(n),e.attr("aria-hidden",!1).attr("role","menuitem").attr("tabindex","0"),e.off("keyup"),e.on("keyup",t.proxy(function(e){this.debug.log("bindMobileMenu: events",e.currentTarget.htmlFor),e.keyCode===this.keys.attr("enter")&&(i=e.currentTarget.htmlFor,t.$("#"+i).prop("checked",!0).focus(),this.debug.log("bindMobileMenu: forInput",i,t.$("#"+i)),this.toggleMore(!1))},this))},this))},"{inputs} change":function(){this.debug.log("{this.inputs} change: new active element",document.activeElement),t.each(this.inputs,t.proxy(function(e){t.$(e).attr("aria-selected",e.checked).attr("aria-expanded",e.checked),this.element.find('label[for="'+e.id+'"]').attr("aria-hidden",!e.checked),t.$(this.options.content).find('[id="'+e.id+'-content"]').attr("aria-hidden",!e.checked),this.debug.log("{this.inputs} aria-selected & aria-expanded:",e.checked,e.id)},this)),this.toggleMore(!1)},"{more} focus":function(){this.moreActive.off("keyup"),this.isMoreChecked()?this.moreActive.on("keyup",t.proxy(function(t){this.debug.log("{more} focus: this.isMoreChecked === true","keyup events",t),t.keyCode!==this.keys.attr("enter")&&t.keyCode!==this.keys.attr("space")&&t.keyCode!==this.keys.attr("up")||(this.debug.log("{more} focus: enter was pressed","keyCode",t.keyCode),this.toggleMore(!1),this.moreActive.focus())},this)):this.moreActive.on("keyup",t.proxy(function(e){this.debug.log("{more} focus: !this.isMoreChecked === false","keyup events",e),e.keyCode!==this.keys.attr("enter")&&e.keyCode!==this.keys.attr("down")||(this.debug.log("{more} focus: enter or down was pressed","keyCode",e.keyCode),this.toggleMore(!0),this.moreActive.off("keyup"),this.moreActive.on("keyup",t.proxy(function(t){this.debug.log("{more} change: keyup events",t),t.keyCode!==this.keys.attr("enter")&&t.keyCode!==this.keys.attr("space")&&t.keyCode!==this.keys.attr("up")||(this.toggleMore(!1),this.moreActive.focus())},this)))},this))},"{more} change":function(){var e,i=this.isMoreChecked(),n=t.$(this.options.more);this.debug.log("this.moreActive state:",i),i?(e=this.findUnselected(),this.setView(e),this.bindMobileMenu(),t.$(document).off("keyup"),t.$(document).on("keyup",t.proxy(function(t){this.debug.log("{more} change: keyup events",t),t.keyCode===this.keys.attr("escape")&&(this.toggleMore(!1),this.moreActive.focus())},this)),n.off("blur"),n.blur(t.proxy(function(e){setTimeout(t.proxy(function(){this.debug.log("blur events",e),this.debug.log("{more} change: blur occurred, new activeElement:",document.activeElement)},this),1)},this))):(t.$(document).off("keyup"),this.killMenu()),this.moreActive.attr("aria-selected",i).attr("aria-expanded",i)},"{mobileLabels} mouseup":function(e,i){var n=t.$(e).attr("for");return this.debug.log("{mobileLabels} mouseup:",e,i),this.debug.log("{mobileLabels} original:",n),i.keyCode===this.keys.attr("left_click")&&(t.$("#"+n).prop("checked",!0).focus(),this.toggleMore(!1)),!0}})}),define("dom/panels/SeedPanels",["linseed!./PanelControl"],function(t){"use strict";return t("seed-panels").seedEach()}),define("dom/flash/FlashPlayerModel",["can","can/model"],function(t){"use strict";return t.Model.extend({},{latestFlashXmlUrl:"http://fpdownload.macromedia.com/pub/flashplayer/masterversion/masterversion.xml",latestFlashVersions:{},fetchVersionXml:function(e){var i=this;t.$.get(i.latestFlashXmlUrl,function(n){t.$(n);t.$("version release *",n).each(function(e){var n=this.nodeName,o=t.$(this).attr("version").replace(/,/g,".");i.latestFlashVersions.attr(n,o)}),e&&e()})}})}),define("dom/flash/FlashPlayerControl",["can","debug","./FlashPlayerModel","tools/js/http/Platform","tools/js/utils/LangUtil"],function(t,e,i,n,o){"use strict";return window.setPlayerVersionNumber=function(t){document.getElementById("flashversioninfo").innerHTML=t},window.setlatestPlayerVersionNumber=function(t){document.getElementById("latestfpversion").innerHTML=t},t.Control.extend({defaults:{debug:!1,browser:"flashPlayerBrowser",os:"flashPlayerOs",latestFlash:"latestfpversion",flashVersionMap:{browserSlugs:[{name:"edge",slug:"ActiveX"},{name:"explorer",slug:"ActiveX"},{name:"ie",slug:"ActiveX"},{name:"firefox",slug:"NPAPI"},{name:"safari",slug:"NPAPI"},{name:"chrom",slug:"PPAPI"},{name:"opera",slug:"PPAPI"}],osSlugs:[{name:"osx",slug:"mac"},{name:"mac",slug:"mac"},{name:"apple",slug:"mac"},{name:"win",slug:"win"},{name:"microsoft",slug:"win"},{name:"linux",slug:"linux"},{name:"chrom",slug:"chromeos"},{name:"google",slug:"chromeos"}]}}},{init:function(){var t=this;t.debug=new e("",{debug:t.options.debug,control:"FlashPlayer"}),t.model=new i,t.model.fetchVersionXml(function(){t.checkPlatform()})},checkPlatform:function(){var t=n.info();this.debug.log("platform info",t),this.debug.log("browser",t.name),this.debug.log("os",t.os.toString()),this.fill(t.name,this.options.browser),this.fill(this.formatOs(t.os),this.options.os),this.renderLatestFlashVersion()},renderLatestFlashVersion:function(){var e=this,i=n.info(),o=i.name.replace(/\s/g,"").toLowerCase(),r=i.os.family.replace(/\s/g,"").toLowerCase(),s="",a="",c="",u="";t.$.each(e.options.flashVersionMap.browserSlugs,function(t,e){if(-1!==o.indexOf(e.name))return s=e.slug,!1}),t.$.each(e.options.flashVersionMap.osSlugs,function(t,e){if(-1!==r.indexOf(e.name))return a=e.slug,!1}),c=s+"_"+a,u=e.model.latestFlashVersions[c],e.fill(u,e.options.latestFlash)},fill:function(t,e){document.getElementById(e).innerHTML=t},formatOs:function(t){var e;return o.isNullish(t.family)&&o.isNullish(t.version)?e=t.toString():/^Win/i.test(t.family)?(e="Windows ",/XP/i.test(t.family)?e+="XP":/Vista/i.test(t.family)?e+="Vista":e+=t.version):e="OS X"===t.family?"Mac OSX "+t.version:t.toString(),e}})}),define("dom/flash/SeedFlashPlayer",["linseed!./FlashPlayerControl"],function(t){"use strict";return t("seed-flashplayer").seedEach()}),define("dom/userFeatures/UserFeaturesModel",["can","debug","can/model"],function(t,e){"use strict";return t.Model.extend({init:function(){this.debug=new e("",{debug:!1,control:"UserFeaturesModel"})},get:function(e){return t.$.get(e)}},{})}),define("tools/js/services/AccmgmtURL",["can","debug"],function(t,e){"use strict";return t.Control.extend({defaults:{debug:!1}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"AccmgmtURL"}),this.settings={}},isProductCode:function(t,e){var i=new RegExp(t),n=i.test(e.productCode);return this.debug.log("product code",t,"isproductCode",n),n||!1},buildAccmgmtURL:function(t,e){this.debug.log("accmgmtRedirect with id: ",t),window.location.href=e.accmgmtURL.replace(/%planid%/i,t)},defaultRedirect:function(t){window.location.href=t},isSubscription:function(e,i){this.debug.log("subscriptions",e),e.length>=1&&"function"==typeof this.isProductCode?t.$.each(e,t.proxy(function(t,n){if(this.isProductCode(n.productCode,i))return this.buildAccmgmtURL(n.id,i);t===e.length-1&&this.defaultRedirect(this.settings.defaultURL)},this)):this.debug.log("subscriptions or this.isProductCode broken")},getSubscriptions:function(e,i){return t.$.ajax({url:i,cache:!1,contentType:"application/json",headers:{Authorization:"Bearer "+e.access_token,"X-Api-Key":e.client_id,Accept:"application/json"}}).fail(function(t){this.debug.log("err",t)}.bind(this))}})}),define("dom/userFeatures/UserFeaturesControl",["can","debug","./UserFeaturesModel","tools/js/http/Cookie","tools/js/services/AccmgmtURL","tools/js/services/Subscriber","tools/js/utils/LangUtil","tools/js/http/Platform","../personalization/AnalyticsIngestService"],function(t,e,i,n,o,r,s,a,c){"use strict";return t.Control.extend({defaults:{debug:!1}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"UserFeatures"}),this.cookie=new n,this.accmgmtURL=new o,this.subscriber=new r,this.cookie.resetHost(this.cookie.domain()),this.intlCookie=this.cookie.getCookie("international"),this.userFeatures=window.adobeUserFeatures,this.ccHomeData=this.getCCHomeData(),this.ccCampaignElement=t.$("#campaignredirect"),this.settings={accmgmtURL:this.element.data("uf-accmgmturi")||"",productPageURI:this.element.data("uf-productpageuri")||"",productCodes:this.getProductCodes(),jilURL:this.element.data("uf-jilurl")||"",entryPoint:this.element.data("uf-entrypoint")||"",origin:window.location.origin,offersIDs:this.element.data("uf-offerids")||"",checkoutURL:this.element.data("uf-checkouturl")||"",orgsURL:this.element.data("uf-imsorganizationurl")||"",locale:"us"===this.intlCookie||void 0===this.intlCookie?"":"/"+this.intlCookie,teamUrl:this.element.data("uf-jilenterpriseusersubscriptionurl")||""},this.ccCampaignElement&&(this.ccCampaginUrl=this.getLoggedInJsonPath(this.ccHomeData)||"",this.settings.ccentryPoint=this.ccCampaignElement.data("cc-campaign-entrypoint")||"",this.settings.ccCampaignEnabled=this.ccCampaignElement.data("cc-campaign-enabled")||!1,this.settings.originUrl=this.ccHomeData&&this.ccHomeData.origin?this.ccHomeData.origin:""),this.getCCCampaignData(),this.debug.log("init: Checking settings:",this.settings)},getLoggedInJsonPath:function(t){var e="";return t&&t.origin&&(this.debug.log("query parameter list :",t),e=t.origin.indexOf(".html")>0?t.origin.replace(".html",".loggedin.json"):""),this.debug.log("Logged In JSON path : ",e),e},getCCCampaignData:function(){if(!this.ccCampaginUrl)return this.settings.campaignList=[],!1;i.get(this.ccCampaginUrl).done(function(t){this.debug.log("campaign data from getCampaignData :",t),this.settings.campaignList=s.getPropertySafely(t,"ccCampaigns")||[],this.debug.log("CC home campaign data from getCampaignData :",t.ccCampaigns)}.bind(this)).fail(function(t){this.settings.campaignList=[]}.bind(this))},getCCHomeData:function(){var t=window.location.search.substr(1);return null!==t&&""!==t?this.getCCHomeDataFromParams(t):{}},getCCHomeDataFromParams:function(t){var e,i,n={},o=t.split("&");for(e=0;e<o.length;e++)i=o[e].split("="),n[i[0]]=i[1];return n},simpleLRSettings:function(){return{origin:this.settings.origin,locale:this.settings.locale,productPageURI:this.settings.productPageURI}},getProductCodes:function(){var t=[],e=this.element.data("uf-productcodes"),i=this.element.data("uf-checkoutflowproductcodes"),n=void 0!==i&&""!==i,o=void 0!==e&&""!==e,r=this.element.data("uf-entrypoint");return this.nimbusCodes=e,this.checkoutCodes=i,this.type="storageoverage"===r&&n?"lightroom":"nimbus",this.debug.log("getProductCodes: Workflow type:",this.type),n&&"lightroom"===this.type?(t=(i+","+e).split(","),this.debug.log("getProductCodes: Split checkoutCodes:",t)):o&&"nimbus"===this.type?(t=e.split(","),this.debug.log("getProductCodes: Split productCodes:",t)):this.debug.log("getProductCodes: No product codes:",t),t},phltURL:function(t,e){var i="enterprise"===this.userType?t.offer.offer_id:t.id;return this.debug.log("phltURL: this.userType:",this.userType,"offer:",i),e.accmgmtURL.replace(/{planid}/i,i)+"?offer="+e.offersIDs+("storageoverage"===e.entryPoint?"&entrypoint="+e.entryPoint:"")},nonPhltURL:function(t,e){var i="enterprise"===this.userType?t.offer.offer_id:t.id;return this.debug.log("nonPhltURL: this.userType:",this.userType,"offer:",i),e.accmgmtURL.replace(/{planid}/i,i)+("storageoverage"===e.entryPoint?"?entrypoint="+e.entryPoint:"")},buildAccmgmtURL:function(t,e){var i="enterprise"===this.userType?t.offer.product_code:t.productCode;return this.debug.log("buildAccmgmtURL: this.userType:",this.userType,"product:",i),"PHLT"===i&&Boolean(e.offersIDs)?this.phltURL(t,e):this.nonPhltURL(t,e)},nimbusRedirect:function(t){var e="";return this.debug.log("nimbusRedirect: redirect with settings: ",t),e="lightroom"===this.type&&void 0!==t.checkoutURL&&""!==t.checkoutURL?t.checkoutURL:t.origin+t.locale+t.productPageURI,this.debug.log("nimbusRedirect: nimbus redirect to url: ",e),window.location.replace(e)},accmgmtRedirect:function(t,e){var i=this.buildAccmgmtURL(t,e);return this.debug.log("accmgmtRedirect: sub, settings, accountURL",t,e,i),window.location.replace(i)},isMatchPHLT:function(e,i){var n,o=!1;return this.settings.productCodes.indexOf("PHLT")>-1?(this.debug.log("isMatchPHLT: Found PHLT in Author settings, looking for it in user subscriptions"),t.$.each(e,t.proxy(function(t,e){n="enterprise"===this.userType?e.offer.product_code:e.productCode,this.debug.log("isMatchPHLT: this.userType:",this.userType,"code:",n),"PHLT"===n&&(this.debug.log("isMatchPHLT: Found PHLT, redirecting to Account Management"),o={sub:e,settings:i})
},this))):this.debug.log("isMatchPHLT: No PHLT in Author settings, returning",o),o},isMatch:function(e,i){var n="";if(this.debug.log("isMatch: productCodes left, subscriptions",i.productCodes.length,e),Boolean(i.productCodes.length))t.$.each(e,t.proxy(function(t,o){if(n="enterprise"===this.userType?o.offer.product_code:o.productCode,this.debug.log("isMatch: productCode vs sub.productCode",i.productCodes[0],n),n===i.productCodes[0]){if(this.nimbusCodes.indexOf(n)>-1)return this.debug.log("isMatch: nimbus products work flow, user has the product. Headed to Account Management URL"),this.accmgmtRedirect(o,i),!1;if(this.checkoutCodes.indexOf(n)>-1)return this.debug.log("isMatch: checkout work flow, user has the product. Headed to Checkout URL"),this.nimbusRedirect(this.settings),!1}else if(t===e.length-1){if(i.productCodes.shift(),this.debug.log("isMatch: settings after",i.productCodes.length),0!==i.productCodes.length)return this.debug.log("isMatch: more product codes, sending back through isMatch. # of Products left:",i.productCodes.length),this.isMatch(e,i),!1;if(0===i.productCodes.length)return this.debug.log("isMatch: End of product codes, no match. Sending to Product page"),this.nimbusRedirect(this.simpleLRSettings()),!1}},this));else{if(this.debug.log("isMatch: no subscriptions found"),"nimbus"===this.type)return this.debug.log("isMatch: redirecting to Product Page with workflow:",this.type),this.nimbusRedirect(i),!1;if("lightroom"===this.type)return this.debug.log("isMatch: redirecting to Product Page with workflow:",this.type),this.nimbusRedirect(this.simpleLRSettings()),!1}},redirectUser:function(t,e){var i;if(this.debug.log("redirectUser: subscriptions",t),Boolean(t.length))i=this.isMatchPHLT(t,e),this.debug.log("redirectUser: Does the user have PHLT",i),i?this.accmgmtRedirect(i.sub,i.settings):this.isMatch(t,e);else{if("nimbus"===this.type)return this.debug.log("redirectUser: redirecting to Nimbus"),this.nimbusRedirect(e);if("lightroom"===this.type)return this.debug.log("redirectUser: redirecting to Product Page"),this.nimbusRedirect(this.simpleLRSettings())}},getSubscriptions:function(){"nimbus"===this.type?this.fetchSubs():"lightroom"===this.type&&(this.debug.log("getSubscriptions: this.type is lightroom:",this.type),"storageoverage"===this.settings.entryPoint?(this.debug.log("getSubscriptions: entryPoint is storageoverage:",this.settings.entryPoint),this.fetchSubs()):(this.debug.log("getSubscriptions: entryPoint not storageoverage:",this.settings.entryPoint),this.nimbusRedirect(this.simpleLRSettings())))},fetchSubs:function(t){t=void 0!==t?t:this.settings.jilURL,this.debug.log("fetchSubs: jil api:",t),this.accmgmtURL.getSubscriptions(window.adobeIMS.isSignedInUser(),t).done(function(t){this.debug.log("fetchSubs: done: typeof subs:",typeof t,"subs.length:",t.length,"subs value:",t),t.length>0?(this.debug.log("fetchSubs: has Subs",t.length),this.redirectUser(t,this.settings)):void 0===this.OrgCheck&&0===t.length?(this.debug.log("fetchSubs: No Subs! Check for an Organization",t.length),this.OrgCheck=!0,this.checkOrg()):(this.debug.log("fetchSubs: no Subscriptions: ",t),this.nimbusRedirect(this.simpleLRSettings()))}.bind(this)).fail(function(t){this.debug.log("fetchSubs: request fail on: ",t.statusText),this.nimbusRedirect(this.simpleLRSettings())}.bind(this))},checkOrg:function(){return this.debug.log("checkOrg: Check for an Organization"),window.Adobe.AceUI.User=window.Adobe.AceUI.User||{},""!==this.settings.orgsURL?(this.debug.log("checkOrg: Checking Org API for a Team account"),this.subscriber.checkOrg(this.settings.orgsURL)):(this.debug.log("checkOrg: No associated Org URL"),!1)},orgStatus:function(){var t=void 0!==window.Adobe&&void 0!==window.Adobe.AceUI&&void 0!==window.Adobe.AceUI.User&&window.Adobe.AceUI.User.Subscriber,e="personal";return t&&(t.isEnterpriseAdmin||"paid-org"===t.status)&&(e="enterprise"),e},areInitialConditionsMet:function(){return!!(s.isEmptyObject(this.settings)||"cchomeredirect"===this.settings.ccentryPoint&&0!==this.settings.campaignList.length)},simpleCCHomeSettings:function(){return{origin:this.settings.origin,locale:this.settings.locale,redirectURI:this.settings.redirectUrl}},getUserLanguage:function(){var t=document.documentElement.lang?document.documentElement.lang:"en";return this.debug.log("Retrieve User Language from lang attribute from getUserLanguage function: ",t),t},getConfigObject:function(){var t={language:this.getUserLanguage(),campaigns:[]},e=this.settings.campaignList;return e&&e.length>0&&e.forEach(function(e){var i=parseInt(e.bit,10),n=e.release,o=e.feature;t.campaigns.push({bit:isNaN(i)?void 0:i,release:n,feature:o})}),this.debug.log("Checking if user is part of the test audience. Campaign data from getConfigObject function:",t),t},checkUserCampaign:function(){var e=new t.$.Deferred,i=function(t){e.resolve(t)},n=function(t){e.reject(t)},o=this.getConfigObject();return this.debug.log("checkUserCampaign method check config object : ",o),o&&"function"==typeof i&&this.userFeatures&&"function"==typeof this.userFeatures.checkFeatures&&"function"==typeof n&&this.userFeatures.checkFeatures(o,i,n),e.promise()},getOriginUrl:function(){var t=this.simpleCCHomeSettings(),e=this.settings.originUrl,i=t.origin;return new RegExp("^https?://").test(e)?(i=e,this.debug.log("valid absolute origin url : ",i)):(/^(\/[a-zA-Z0-9\-\_]+)+(\.html)(\?[\S]*)*$/.test(e)||"/"===e)&&(i=t.origin+e,this.debug.log("valid relative origin url : ",i)),this.debug.log("origin url :",encodeURIComponent(i)),encodeURIComponent(i)},compareArrays:function(t,e){return t.filter(function(t){return e.some(function(e){return parseInt(e.bit_index,10)===parseInt(t.bit,10)&&e.release_name===t.release&&e.features.indexOf(t.feature)>-1})})},getRedirectUrl:function(t){var e,i=t&&t.releases?t.releases:[],n=this.settings.campaignList;return n&&n.length>0&&i&&i.length>0&&(e=this.compareArrays(n,i)),this.debug.log("redirect url match object from getRedirectUrl: ",e),this.debug.log("redirect url from getRedirectUrl: ",e&&e.length>0?e[0].redirectUri:""),e&&e.length>0?e[0].redirectUri:decodeURIComponent(this.getOriginUrl())},redirectToCampaginUrl:function(t){var e=this.simpleCCHomeSettings(),i=this.getRedirectUrl(t),n=new RegExp("^https?://");i&&n.test(i)?window.location.replace(i):i&&i.indexOf(".html")>-1?window.location.replace(e.origin+i):window.location.replace(e.origin+i+".html")},getAppRoutingService:function(t){var e;if(t&&t.indexOf(".html")>-1){if(e=t.replace(".html",".json"),e=e.substring(e.lastIndexOf("/")+1).split("."),!(e.length>2))return;e=e[0]+"/_jcr_content."+e[1]+"."+e[2],this.debug.log("App Routing Rules API URL:",e)}return e},getAppRules:function(){var e,n,o=new t.$.Deferred;return this.debug.log("In get app rules function"),e=this.getAppRoutingService(window.location.pathname),this.debug.log("serviceUrl : ",e),void 0!==e?i.get(e).done(function(t){o.resolve(t)}.bind(this)).fail(function(t){o.reject(t)}.bind(this)):(n="Rules service url not found!, so routing to origin",o.reject(n)),o.promise()},getUserSubscriptions:function(){var e=new t.$.Deferred,i=this.userType&&"enterprise"===this.userType?this.settings.teamUrl:this.settings.jilURL;return this.debug.log("fetchSubs: jil api:",i),this.accmgmtURL.getSubscriptions(window.adobeIMS.isSignedInUser(),i).done(function(t){this.debug.log("getUserSubscriptions: done: typeof subs:",typeof t,"subs.length:",t.length,"subs value:",JSON.stringify(t)),e.resolve(t)}.bind(this)).fail(function(t){e.reject(t)}.bind(this)),e.promise()},getMatchedRuleObj:function(t,e){var i,n,o,r,a,c,u,l,d,h,p,f,g,m,b,v,y=t.rules,w={},k=!1,x=!1,C=!1;if(e&&y)for(i=0;i<=e.length;i++)for(n=0;n<=y.length;n++){if(k=!1,x=!1,C=!1,f=y[n],p=e[i],l=s.getPropertySafely(p,"offer.product_code"),d=s.getPropertySafely(p,"offer.offer_id"),o=s.getPropertySafely(p,"productCode"),r=s.getPropertySafely(p,"offerId"),p&&(o||l)&&(o="enterprise"===this.userType?l:o),p&&(r||d)&&(r="enterprise"===this.userType?d:r),a=s.getPropertySafely(f,"products"),c=s.getPropertySafely(f,"offerIds"),u=s.getPropertySafely(f,"subscriptionType"),s.isEmptyString(u)&&(C=!0),h=this.getSubscriptionTypefromUserType(),b=a?a.split(","):[],v=c?c.split(","):[],b&&b.length>0)for(g=0;g<b.length;g++)b[g]===o&&(k=!0);else k=!0;if(v&&v.length>0)for(m=0;m<v.length;m++)v[m]===r&&(x=!0);else x=!0;if((s.isEmptyString(a)||void 0!==a&&k)&&(s.isEmptyString(c)||void 0!==c&&x)&&(u===h||C))return w.ruleObj=f,s.isEmptyObject(p)?w.redirectUrl=t.redirectUrl:w.subscription=p,this.debug.log("matchedObj : ",w),w}return this.debug.log("matchedObj : ",w),w},getSubscriptionTypefromUserType:function(){var t;switch(this.userType){case"enterprise":t="Team";break;case"personal":t="Individual"}return t},getMatchedAppRule:function(e){var i={},n=window.location.origin;this.debug.log("In check app rules function",e),this.subscriber.checkOrg(this.settings.orgsURL).then(t.proxy(function(o){this.getUserSubscriptions().then(t.proxy(function(t){this.debug.log("User Subscriptions: ",t),i=this.getMatchedRuleObj(e,t),this.debug.log("matched Rule object: ",JSON.stringify(i)),void 0===i||s.isEmptyObject(i)?(i={},i.redirectUrl=s.isEmptyString(e.fallBackUrl)?window.location.origin:e.fallBackUrl,this.debug.log("Adding redirect url if the matched rule object is empty: ",i)):s.getPropertySafely(i,"ruleObj")&&s.isEmptyString(i.ruleObj.url)&&(i.ruleObj.url=s.isEmptyString(e.fallBackUrl)?window.location.origin:e.fallBackUrl),this.startAppRouting(i)},this)).fail(t.proxy(function(t){this.debug.log("No Data for Subscriptions",t),this.debug.log("Route to origin url",n),window.location.replace(n)},this))},this)).fail(t.proxy(function(t){this.debug.log("No Data for organisation",t),this.debug.log("Route to origin url",n),window.location.replace(n)},this))},redirectToCheckout:function(t){var e=s.getPropertySafely(t,"ruleObj.url");e&&window.location.replace(e)},redirectToAccountMgnt:function(t){var e,i,n,o=s.getPropertySafely(t,"subscription"),r=s.getPropertySafely(t,"ruleObj");o&&r&&void 0!==this.userType?(this.debug.log("user Type : ",this.userType),i="enterprise"===this.userType?o.offer.offer_id:o.id,n=r.url,this.debug.log("offer id :",i),e=n.indexOf("{planid}")>-1?n.replace(/{planid}/i,i):n,this.debug.log("accountmgntUrl",e),e&&(this.debug.log("account management redirect"),window.location.replace(e))):t.redirectUrl&&this.redirectToDefault(t.redirectUrl)},redirectToDefault:function(t){var e=new RegExp("^https?://"),i=window.location.origin;t&&e.test(t)?window.location.replace(t):t&&t.indexOf(".html")>-1?window.location.replace(i+t):window.location.replace(i+t+".html")},startAppRouting:function(t){switch(this.debug.log("In start app routing function",JSON.stringify(t)),s.getPropertySafely(t,"ruleObj.urlType")){case"checkout":this.debug.log("Url type is checkout"),this.redirectToCheckout(t);break;case"accountmanagement":this.debug.log("Url type is accountmanagement"),this.redirectToAccountMgnt(t);break;case"url":this.debug.log("Url type is Generic Url"),s.getPropertySafely(t,"ruleObj.url")&&this.redirectToDefault(t.ruleObj.url);break;default:s.getPropertySafely(t,"redirectUrl")&&this.redirectToDefault(t.redirectUrl)}},initializeAppRouting:function(){var e=window.location.origin;this.getAppRules().then(t.proxy(function(t){this.debug.log("App Routing Rules Object:",JSON.stringify(t)),this.getMatchedAppRule(t)},this)).fail(t.proxy(function(t){this.debug.log("No Data for App Routing Rules",t),this.debug.log("Route to origin url",e),window.location.replace(e)},this))},"{window} adobeGNav:ImsReady":function(){var e,i,n,o,r,u,l=decodeURIComponent(this.getOriginUrl());if(this.debug.log("adobeGNav:ImsReady"),window.adobeIMS.isSignedInUser())if(this.debug.log("adobeGNav:ImsReady: User is signed in"),"cchomeredirect"===this.settings.ccentryPoint)this.settings.ccCampaignEnabled&&this.areInitialConditionsMet()?(e={"event.subcategory":"router","event.type":"login","event.subtype":"cc_redirect_router","source.version":"latest"},u=new c,n=u.getServiceAccountObject(),n&&(e.user=n),this.checkUserCampaign().then(t.proxy(function(n){i=this.getConfigObject(),r=s.getPropertySafely(n,"releases"),o=u.getReleaseCampaignObject(r,i.campaigns),o&&(e.exp=o),e["content.action"]=this.getRedirectUrl(n),e["event.url"]=l,u.setValues(e),u.save().always(t.proxy(function(){this.redirectToCampaginUrl(n)},this))},this)).fail(t.proxy(function(i){e["content.action"]=window.location.href,u.setValues(e),u.save().always(t.proxy(function(){window.location.href!==l&&window.location.replace(l)},this))},this))):window.location.replace(l);else{if("approuting"!==this.settings.entryPoint)return Boolean(this.settings.entryPoint)?this.getSubscriptions():this.debug.log("no entryPoint");this.debug.log("App Routing workflow detected!"),this.initializeAppRouting()}else"cchomeredirect"===this.settings.ccentryPoint&&a.isIE()?(this.debug.log("adobeGNav:ImsReady: Not signed in, redirecting to the page where the user has come in"),l&&""!==l||(l=window.location.origin),window.location.replace(l)):(this.debug.log("adobeGNav:ImsReady: Not signed in, redirecting..."),window.adobeIMS.signIn())},"{window} aceui-OrgReady":function(){var t=s.getPropertySafely(window,"adobeIMS._profile.userId")||"null",e=this.settings.jilURL.split("subscriptions"),i=e[0].replace("/v2","").replace("/user","/users")+t+"/subscriptions";this.settings.teamUrl=i,this.userType=this.orgStatus(),this.debug.log("aceui-OrgReady: this.userType:",this.userType,"user",t,"teamUrl:",i),"approuting"!==this.settings.entryPoint&&this.fetchSubs(i)}})}),define("dom/userFeatures/SeedUserFeatures",["linseed!./UserFeaturesControl"],function(t){"use strict";return t("seed-userfeatures").seedEach()}),define("can/map/delegate",["can/util/library","can/map"],function(t){var e=function(t,e){var i,n=t.length,o=0,r=[];for(o;o<n;o++){if("string"!=typeof(i=e[o]))return null;if("**"===t[o])return e.join(".");if("*"===t[o])r.push(i);else{if(i!==t[o])return null;r.push(i)}}return r.join(".")},i=function(i,n,o,r,s){var a,c,u,l,d,h=n.split("."),p=(this._observe_delegates||[]).slice(0);i.attr=n,i.lastAttr=h[h.length-1];for(var f=0;a=p[f++];)if(!(i.batchNum&&a.batchNum===i.batchNum||a.undelegated)){l=void 0,d=!0;for(var g=0;g<a.attrs.length;g++)c=a.attrs[g],u=e(c.parts,h),u&&(l=u),c.value&&d?d=c.value===""+this.attr(c.attr):d&&a.attrs.length>1&&(d=void 0!==this.attr(c.attr));if(l&&d){var m=n.replace(l+".","");i.batchNum&&(a.batchNum=i.batchNum),"change"===a.event?(n=m,i.curAttr=l,a.callback.apply(this.attr(l),t.makeArray(arguments))):a.event===o?a.callback.apply(this.attr(l),[i,r,s,m]):"set"===a.event&&"add"===o&&a.callback.apply(this.attr(l),[i,r,s,m])}}};return t.extend(t.Map.prototype,{delegate:function(e,n,o){e=t.trim(e);for(var r,s=this._observe_delegates||(this._observe_delegates=[]),a=[],c=/([^\s=,]+)(?:=("[^",]*"|'[^',]*'|[^\s"',]*))?(,?)\s*/g;null!==(r=c.exec(e));)r[2]&&t.inArray(r[2].substr(0,1),['"',"'"])>=0&&(r[2]=r[2].substr(1,-1)),a.push({attr:r[1],parts:r[1].split("."),value:r[2],or:","===r[3]});return s.push({selector:e,attrs:a,callback:o,event:n}),1===s.length&&this.bind("change",i),this},undelegate:function(e,n,o){e=e&&t.trim(e);var r,s=0,a=this._observe_delegates||[];if(e)for(;s<a.length;)r=a[s],r.callback===o||!o&&r.selector===e?(r.undelegated=!0,a.splice(s,1)):s++;else a=[];return a.length||this.unbind("change",i),this}}),t.Map.prototype.delegate.matches=e,t.Map}),define("dom/analytics/DataLayerState",["can","debug","can/map/delegate"],function(t,e){"use strict";return new(t.Map.extend({define:{digitalData:{value:{event:{},page:{},user:{}}}},init:function(){this.debug=new e("",{debug:!1,control:"DataLayerState"}),this.delegate("digitalData","change",t.proxy(function(){var e=this.setGlobalContext();this.debug.log("DataLayerState: digitalData changed:",this.attr("digitalData")),window.digitalData=t.$.extend({},e),window.Adobe.Analytics=t.$.extend({},e)},this))},setGlobalContext:function(){var e={};return t.each(this.attr("digitalData"),t.proxy(function(t,i){this.debug.log("setGlobalContext: adding property:",i,t),e[i]=t},this)),e}}))}),define("dom/analytics/DataLayer",["can","debug","tools/js/utils/LangUtil","./DataLayerState","can/map/delegate"],function(t,e,i,n){"use strict";return t.Control.extend({defaults:{debug:!1,links:"a"}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"DataLayer"}),this.setPageInfo(),this.setEventInfo(),this.getBreadcrumbs()},isLoggedIn:function(){return void 0!==window.adobeProfile&&void 0!==window.adobeProfile.profile&&null!==window.adobeProfile.profile},setPageInfo:function(){n.attr("digitalData.page",{id:"",pageName:document.title,pageURL:window.location.href,breadcrumbs:[],language:t.$("html").attr("lang"),geoRegion:""}),this.debug.log("setPageInfo: Setting digitalData.page:\n",n.attr("digitalData.page"))},setEventInfo:function(t){var e=void 0!==t,i=e?t.target.getAttribute("data-analytics-eventLabel"):"No analytics eventLabel set";n.attr("digitalData.event",{eventLabel:e?i:"pageview",eventType:e?t.type:"pageload"}),this.debug.log("setEventInfo: Setting digitalData.event:\n",n.attr("digitalData.event"))},setUserInfo:function(){n.attr("digitalData.user",{loginStatus:this.isLoggedIn()?"SignedIn":"NotSignedIn",userId:this.isLoggedIn()?window.adobeProfile.profile.id:"",entitlementStatus:this.isLoggedIn()?i.getPropertySafely(window,"Adobe.AceUI.User.Subscriber.status"):"free"}),this.debug.log("setUserInfo: Setting user:\n",n.attr("digitalData.user"))},getBreadcrumbs:function(){var e,i=t.$(".Footernav-breadcrumb-link");this.debug.log("getBreadcrumbs: Finding breadcrumbs:",i),n.attr("digitalData.page.breadcrumbs").push("HomePage"),this.debug.log('getBreadcrumbs: added "home" to breadcrumbs:',n.attr("digitalData.page.breadcrumbs")),i.length>0&&(t.each(i,t.proxy(function(i){e=t.$(i).text(),this.debug.log("getBreadcrumbs: adding breadcrumb:",e),n.attr("digitalData.page.breadcrumbs").push(e)},this)),this.debug.log("getBreadcrumbs: Setting breadcrumbs data:\n",n.attr("digitalData.page.breadcrumbs")))},bindLinks:function(){t.$(this.options.links).on("click",t.proxy(function(t){this.debug.log("{links} click triggered. Sending event info:\n",t),this.setEventInfo(t)},this))},"{window} adobeGNav:ImsReady":function(){null===window.adobeIMS._profile?(this.debug.log("adobeGNav:ImsReady triggered, profile data null, run bindLinks()"),this.bindLinks()):this.debug.log("adobeGNav:ImsReady triggered, profile not null, wait for adobeGNav:ProfileReady instead")},"{window} adobeGNav:ProfileReady":function(){var e=window.adobeIMS._profile,i=t.$("main.lobby").length>0;this.setUserInfo(),null===e?this.debug.log("adobeGNav:ProfileReady triggered, profile data null, aceui-ImsReady loaded bindLinks() instead"):null===e&&i?this.debug.log("adobeGNav:ProfileReady triggered, but this is the Lobby, so wait for aceui-ProfileReady"):(this.debug.log("adobeGNav:ProfileReady triggered, not the Lobby, run bindLinks()"),this.bindLinks())},"{window} aceui-ProfileReady":function(){this.debug.log("aceui-ProfileReady triggered, has to be Lobby, run bindLinks()"),this.bindLinks()},"{window} aceui:geoLoaded":function(){this.debug.log("aceui:geoLoaded triggered"),n.attr("digitalData.page.geoRegion",i.getPropertySafely(window,"window.Adobe.AceUI.geoOb.options.akamai.country").toLocaleLowerCase())},"{window} beforeunload":function(){this.debug.log("{window} beforeunload triggered, send all window.digitalData\n",window.digitalData)}})}),define("dom/analytics/SeedDataLayer",["linseed!./DataLayer"],function(t){"use strict";return t().seedOn(document.querySelector("body"),"data-seed-datalayer"),t("seed-datalayer").seedEach()}),define("dom/analytics/lobby/LobbyData",["can","debug","../../personalization/PersonalizationModel","../DataLayerState","can/map/delegate"],function(t,e,i,n){"use strict";return t.Control.extend({defaults:{debug:!1}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"LobbyData"}),window.digitalData=void 0!==window.digitalData?window.digitalData:n.attr("digitalData"),window.Adobe.Analytics=void 0!==window.Adobe.Analytics?window.Adobe.Analytics:n.attr("digitalData"),this.store=function(){return i.getData(i.keys.userData)},this.debug.log("init: this.store",this.store()),void 0===this.store()&&t.$(document).on("aceui-DataStored",t.proxy(function(){this.debug.log("init: aceui-DataStored triggered. Find this.store now",this.store())},this))},setLobbyInfo:function(){var e=t.$("aside.lobby-pods"),i=this.store().analytics.lobby.pods,o=e.length>0&&e.is(":visible"),r=o?i:i[0];n.attr("digitalData.lobbyInfo",{secondaryPodsShown:o,pods:r}),this.debug.log("setLobbyInfo: Setting digitalData.lobbyInfo:\n",n.attr("digitalData.lobbyInfo"))},satLives:function(){return this.sat=window._satellite,void 0!==this.sat&&"function"==typeof this.sat.track},sendData:function(t){this.debug.log("sendData: {window}",t.type,"triggered, send all window.digitalData\n",window.digitalData),this.satLives()?(this.debug.log("sendData: Found _satellite",this.sat),this.sat.track("lobbyTracking")):this.debug.log("{window} load: No _satellite found",this.sat)},"{window} adobeGNav:ImsReady":function(){null===window.adobeIMS._profile?(this.debug.log("adobeGNav:ImsReady triggered, profile data null, run setLobbyInfo()"),this.setLobbyInfo()):this.debug.log("adobeGNav:ImsReady triggered, profile not null, wait for aceui-ProfileReady instead")},"{window} aceui-ProfileReady":function(){null===window.adobeIMS._profile?this.debug.log("adobeGNav:ProfileReady triggered, profile data null, aceui-ImsReady loaded setLobbyInfo() instead"):(this.debug.log("adobeGNav:ProfileReady triggered, profile not null, run setLobbyInfo()"),this.setLobbyInfo())},"{window} load":function(t,e){this.sendData(e)},"{window} beforeunload":function(t,e){this.sendData(e)}})}),define("dom/analytics/lobby/SeedLobbyData",["linseed!./LobbyData"],function(t){"use strict";return t().seedOn(document.querySelector("body"),"data-seed-lobbydata"),t("seed-lobbydata").seedEach()}),define("dom/redirectCampaign/RedirectCampaignControl",["can","debug","tools/js/utils/LangUtil"],function(t,e,i){"use strict";return t.Control.extend({defaults:{debug:!1}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"RedirectCampaign"}),void 0!==this.element&&this.element.length>0?(this.campaignRedirectURL=this.element.data("campaign-redirect-path")||"",this.debug.log("campaign redirect url:",this.campaignRedirectURL),this.originUrl=this.element.data("origin-url")||"",this.debug.log("origin url:",this.originUrl)):(this.campaignRedirectURL="",this.debug.log("campaign redirect url not found"),this.originUrl="",this.debug.log("origin url not found"))},"{window} adobeGNav:ImsReady":function(){i.getPropertySafely(window,"adobeIMS")&&!window.adobeIMS.isSignedInUser()&&this.campaignRedirectURL&&""!==this.campaignRedirectURL&&this.originUrl&&""!==this.originUrl&&(this.debug.log("adobeGNav:ImsReady: campaign redirect url",this.campaignRedirectURL),window.adobeid=window.adobeid||{},window.adobeid.redirect_uri=window.location.origin+this.campaignRedirectURL+"?origin="+this.originUrl,this.debug.log("adobeGNav:ImsReady: Adding redirect_uri property to adobe IMS",window.adobeid))}})}),define("dom/redirectCampaign/SeedRedirectCampaign",["linseed!./RedirectCampaignControl"],function(t){"use strict";return t("seed-campaignredirect").seedEach()}),define("dom/personalization/ComparisionChartControl",["can","debug","./PersonalizationModel","./PersonalizedCTA","tools/js/utils/LangUtil"],function(t,e,i,n,o){"use strict";return t.Control.extend({defaults:{debug:!1}},{init:function(){var t;this.debug=new e("",{debug:this.options.debug,control:"ComparisionChartControl"}),this.debug.log("-----------------Comparision Chart Platform Detection---------------------"),i.getJsonData().done(function(){t=i.getData(i.keys.userData),this.debug.log("userData",t),this.initializePlatformDetection(this.element,o.getPropertySafely(t,"comparisonchart"))}.bind(this))},initializePlatformDetection:function(e,i){var o,r;this.personalizedCTAs=e.find("[data-seed-platform-cta]"),this.personalizedCTAs.each(function(e,s){o=s.getAttribute("data-platform-id"),r=i[o],i&&r&&new n(t.$(s),r)})}})}),define("dom/personalization/SeedComparisionChart",["linseed!./ComparisionChartControl"],function(t){"use strict";return t("seed-comparision-chart").seedEach()}),define("dom",["./dom/personalization/SeedSpecialOffers","./dom/featuresCalendar/SeedCalendarFilter","./dom/personalization/SeedPersonalization","./dom/personalization/artist/SeedArtist","./dom/banner/SeedBanner","./dom/hashwindow/SeedHashWindow","./dom/lobby/SeedLobbySelector","./dom/lobby/SeedLobbyAccessibility","./dom/panels/SeedPanels","./dom/flash/SeedFlashPlayer","./dom/userFeatures/SeedUserFeatures","./dom/analytics/SeedDataLayer","./dom/analytics/lobby/SeedLobbyData","./dom/redirectCampaign/SeedRedirectCampaign","./dom/personalization/SeedComparisionChart"],function(t){"use strict";return{name:t.id}}),define("layout/js/grid/initFluidGrid",["can"],function(t){"use strict";t.$(function(e){t.$('#demoGrid [class*="fa-"]').click(function(){t.$("body").toggleClass("fixed","fluid"),t.$('#demoGrid [class*="fa-"]').toggleClass("fa-compress","fa-expand"),t.$(".site-header").toggleClass("fluid")})})}),define("layout/js/grid/SeedFluidGrid",["linseed!./initFluidGrid"],function(t){"use strict";return t("seed-grid").seed()}),define("layout/js/background/SeedBackground",["linseed!./Background"],function(t){"use strict";return t().seedOn(document.querySelector("body"),"data-seed-background"),t("seed-background").seedEach()}),define("layout/js/browser/Browser",["can","debug","tools/js/http/Platform"],function(t,e,i){"use strict";return t.Control.extend({defaults:{debug:!1}},{init:function(){this.debug=new e("",{debug:this.options.debug,control:"Browser"}),this.info=i.info(),this.debug.log(["Platform info:",this.info]),this.os(),this.browser()},browser:function(){this.add(this.format(this.info.name,"."))},os:function(){this.element.addClass(this.format(this.info.os.family," ")+this.format(this.info.os.version,"."))},add:function(t){this.element.addClass(t)},format:function(t,e){var i=t.split(e),n=i[0].toLowerCase();return this.debug.log(["item split:",t]),"ie"===n&&(n+=Math.round(this.info.version).toString()),n}})}),define("layout/js/browser/SeedBrowser",["linseed!./Browser"],function(t){"use strict";return t("seed-browser").seed()}),define("layout/js/link/Link",["can","debug","touchswipe"],function(t,e){"use strict";return t.Control.extend({defaults:{on:!1,debug:!1}},{init:function(t){this.debug=new e("",{debug:this.options.debug,control:"Link"}),this.element=this.element?this.element:t,this.checkLink(),this.prioritizeNestedLinks()},click:function(t,e){this.debug.log(["click detected",t,e]),this.debug.log(["this.options.on",this.options.on]),this.options.on&&(this.debug.log(["this.element.parents([data-seed-swipe]).length",this.element.parents("[data-seed-swipe]").length]),0===this.element.parents("[data-seed-swipe]").length?window.location.href=this.link:this.debug.log("Theres a swipe control above this,letting swipe() handle the link"))},checkLink:function(){this.link=this.element.attr("data-seed-link"),this.options.on=this.link&&""!==this.link&&"undefined"!==this.link},prioritizeNestedLinks:function(){t.$(this.element).on("click","*",t.proxy(function(t){t.stopPropagation(),this.debug.log(["Sub-element clicked",t.target])},this))}})}),define("layout/js/link/SeedLink",["linseed!./Link"],function(t){"use strict";return t().seedOn(document.querySelector("body"),"data-seed-link"),t("seed-link").seedEach()}),define("layout",["module","layout/js/grid/SeedFluidGrid","layout/js/background/SeedBackground","layout/js/browser/SeedBrowser","layout/js/link/SeedLink"],function(t){"use strict";return{name:t.id}}),define("forms/js/project/LocalizationModel",["can","can/model"],function(t){"use strict";return t.Model.extend({findOne:"GET /etc.clientlibs/beagle/fe/resources/json/isoCountryCodes.json"},{})}),define("forms/js/project/Validator",["can","./LocalizationModel","tools/js/utils/LangUtil"],function(t,e,i){"use strict";return function(t){function n(t){var e,i,n=t.action,o=t.getAttribute("data-form-submit"),r=n!==window.location.href&&void 0!==n;return o?(e=o.split(",")[0].toString(),i=o.split(",")[1].toString(),window[e][i]):r?n:null}function o(){function e(t){for(f=0;t[f]?t[f]:void 0;f++)i.push(t[f])}var i=[],n=t.querySelectorAll(":required"),o=t.querySelectorAll("[data-form-required]");return n&&e(n),o&&e(o),i}function r(t){var e=[];for(f=0;t[f]?t[f]:void 0;f++)t[f].querySelector("input:checked")||e.push(t[f]);return e}function s(){var t,e,i,n,s=o(),a=[],c=[];for(f=0;s[f]?s[f]:void 0;f++)e=s[f].value,t=s[f].type,i=s[f].checked,n=null!==s[f].nodeName.match(/(DIV)|(SPAN)|(LI)/g),e||i||n?i||"checkbox"!==t?n&&a.push(s[f]):c.push(s[f].parentElement):c.push(s[f]);return a&&(c=c.concat(r(a))),c}function a(e,i){var n;"good"!==i?(g.push(e.name),t.querySelector('[type="submit"]').setAttribute("disabled","true")):(n=g.indexOf(e.name))>=0&&g.splice(n,1),0===g.length&&t.querySelector('[type="submit"]').removeAttribute("disabled")}function c(t){var e=document.createEvent("Event");e.initEvent(t,!0,!0),document.dispatchEvent(e)}function u(t,e,i){function n(t,e,i){return t?e:i}var o,r,s,a,u,l,d,h,p,f=t.parentElement,g=f.querySelector(".errortext");s=n(t.value,t.value,""),a=n(t.type,t.type,"checkbox"),o='"'+s+'" is not a valid '+a+" value",r="Requires a valid "+a+" value",u=n(g,g,document.createElement("span")),l=function(e,i){var n=t.querySelector(e);return n?n.dataset[i]:void 0}("[data-form-requiredmessage]","formRequiredmessage"),d=n(t.dataset.formErrormessage,t.dataset.formErrormessage,o),h=l||n(t.dataset.formRequiredmessage,t.dataset.formRequiredmessage,r),p=n(!0===i,h,d),"clear"===e&&g?(f.removeChild(g),f.classList.remove("error")):(s&&!e||!0===i)&&(u.innerHTML=p,g||(u.classList.add("errortext"),f.appendChild(u),f.classList.add("error")),c("aceui-formFail"))}function l(t,e,i){var n,o="string"==typeof t&&"string"==typeof e,r="string"==typeof i,s=null;return o&&(r?(n=new RegExp(e,i),s=t.match(n)):s=t.match(e)),s}function d(){function e(t,e){var i,n;if(!a[e]){for(i=[],n=0;t[n]?t[n]:void 0;n++)i.push(t[n].value);a[o]=i?i.join(","):null}}var i,n,o,r,s=t.querySelectorAll("[name]"),a=new FormData(t);for(f=0;s[f]?s[f]:void 0;f++)n=s[f].type,o=s[f].name,s[f].value,r=document.querySelectorAll('[name="'+o+'"]:checked'),r.length>=1&&!a[o]&&e(r,o),null===n.match(/(radio)|(checkbox)/g)&&"select-multiple"!==n&&(a[o]=s[f].value),"select-multiple"===n&&(i=function(t){var e,i=[];for(e=0;t[e]?t[e]:void 0;e++)t[e].selected&&i.push(t[e]);return i}(s[f].options),e(i,s[f].name));return a}function h(t,e){return function(i){var n=!1,o=typeof i,r=document.getElementById(e);switch(o){case"string":n=JSON.parse(i);break;case"object":n=i}if(!n)throw"Empty JSONP object/Invalid request.";t(n),r&&r.parentNode.removeChild(r)}}function p(t,n,o,r){function s(t,e){var i,n,o=t.split();for(f=0;Boolean(i=o[f]);f++)if(n=i.replace(/[^0-9]/g,""),d=new RegExp("^"+n+"[\\s\\(\\)\\.\\-]?"),null===e.match(d))return i;return!1}function a(e){u=s(e,m),u&&n.length+u.length<15?t.value="+"+u+m:t.value="+"+m,l=t.value,r.matchValue(t,l,o,g)}var c,u,l,d,h=i.getPropertySafely(window,"Adobe.AceUI.geoOb.options.akamai.country"),p=h?h.toLowerCase():"us",g="g",m=n.replace(/[^0-9]/g,"");e.findOne().done(function(e){c=e[p].countryCode,c?(a(c),r.countryCode=c):(l=m,r.matchValue(t,l,o,g))})}var f,g=[];this.getCountryFromService=function(){var t=Date.now(),e=document.createElement("script");e.type="text/javascript",e.src="//geo2.adobe.com/json/?callback=getCode",e.id="geo_"+t,document.querySelector("head").appendChild(e),window.getCode=h(function(t){i.getPropertySafely(window,"Adobe.AceUI.geoOb.options")&&(window.Adobe.AceUI.geoOb.options.akamai={},window.Adobe.AceUI.geoOb.mapMaps("akamai",t))},"geo_"+t)},this.errors=function(t){u(t,"clear",!1)},this.handleType=function(t){
var e=t.value?t.value:"",i=e?t.getAttribute("pattern"):"";"tel"===t.type&&e.length>=10?p(t,e,i,this):this.matchValue(t,e,i)},this.matchValue=function(t,e,i,n){var o=n?l(e,i,n):l(e,i);Boolean(o)||""===e?(a(t,"good"),u(t,"clear",!1)):(a(t,"bad"),u(t,void 0,!1))},this.submitCheck=function(t){var e,i,o=s(),r=n(t);if(o.length>=1){for(f=0;o[f]?o[f]:void 0;f++)u(o[f],void 0,!0);window.scrollTo(0,o[0].offsetTop),o[0].focus()}else r?(i=d(),"function"==typeof r?r(i):(e=new XMLHttpRequest,e.open("POST",r),e.send(i)),c("aceui-formSuccess")):(i=d(),this.validData=Boolean("object"==typeof i&&Object.keys(i).length>=1),c("aceui-formSuccess"))}}}),define("forms/js/project/formValidationControl",["can","./Validator"],function(t,e){"use strict";return t.Control.extend({defaults:{inputs:"[pattern]"}},{init:function(){this.options.validator=new e(this.element[0]),this.options.validator.getCountryFromService()},"{inputs} change":function(t,e){return this.options.validator.handleType(e.target)}," submit":function(t,e){return e.preventDefault(),this.options.validator.submitCheck(e.target)},'input[type="checkbox"] change':function(t,e){var i=Object.keys(t[0].parentElement.parentElement.dataset).indexOf("formRequired");e.target.checked&&i>=0?this.options.validator.errors(t[0].parentElement.parentElement):e.target.checked&&this.options.validator.errors(t[0].parentElement)},"select change":function(t,e){this.options.validator.errors(e.target)}})}),define("forms/js/project/SeedFormValidation",["linseed!./formValidationControl"],function(t){"use strict";return t("seed-formvalidation").seedEach()}),define("forms/js/project/faasControl",["can","dataConfigObject","forms/js/project/faasObject"],function(t,e,i){"use strict";return t.Control.extend({defaults:{}},{init:function(){return this.dcon=new e,this.options.dataList=this.dcon.config(this.element[0].dataset),this.dcon.initor(this.element[0],this.options.dataList,this)},form:function(t,e){new i(t,e)}})}),define("forms/js/project/SeedFaas",["linseed!./faasControl"],function(t){"use strict";return t("seed-faas").seedEach()}),define("forms",["module","forms/js/project/SeedFormValidation","forms/js/project/SeedFaas"],function(t){"use strict";return{name:t.id}}),function(){function t(t){var e;return t.reduce(function(t,i){return e=parseInt(i),t.push(e),t},[]).sort(function(t,e){return t-e})}function e(t,e){return t.reduce(function(t,i){return null!==i.match(e)?t.concat(i).split(" ")[0]:t},"")}function i(t,i,n){var o=n.parentElement;return t.reduce(function(r,s,a){var c=o.offsetWidth>=s,u=!!t[a+1]&&o.offsetWidth<t[a+1],l=s===t[t.length-1],d=u||l,h=e(i.split(","),s+"w");return c&&d&&h&&(r.src=h,r.img=n),r},{})}function n(e){return Array.prototype.slice.call(e).map(function(e){var n=e.getAttribute("srcset"),o=n?t(n.match(/\s\d+w/g)):null;return o?i(o,n,e):void 0})}-1===Object.keys(HTMLImageElement.prototype).indexOf("srcset")&&function(){var t=document.images,e=n(t);e.length&&e.forEach(function(t){t&&t.src&&(t.img.src=t.src)})}()}(),define("imgpolyfill",function(){}),window.GLOBALCAN=!1,function(){"use strict";window.Adobe=void 0===window.Adobe?{}:window.Adobe,window.Adobe.AceUI=void 0===window.Adobe.AceUI?{}:window.Adobe.AceUI}(),require(["topofpage","interactive","ui","dom","layout","forms","imgpolyfill"],function(){"use strict"}),define("main",function(){})}();